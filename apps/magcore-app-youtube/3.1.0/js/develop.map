{"version":3,"sources":["webpack:///webpack/bootstrap 37d5f568c3304ced278d","webpack:///./src/js/main.js","webpack:///./~/mag-app/index.js","webpack:///./~/mag-app/lib/main.js","webpack:///./~/spa-app/lib/core.js","webpack:///./~/cjs-emitter/index.js","webpack:///./~/cjs-query/index.js","webpack:///./src/js/config.js","webpack:///./~/spa-app/lib/events.js","webpack:///./~/stb-shim-classlist/index.js","webpack:///./~/stb-app/lib/metrics.js","webpack:///./src/js/metrics.js","webpack:///./~/stb-app/lib/css.js","webpack:///./~/mag-app/lib/css.js","webpack:///./~/mag-app/lib/develop/main.js","webpack:///./~/stb-shim-bind/index.js","webpack:///./~/stb-shim-frame/index.js","webpack:///./~/spa-app/lib/develop/debug.js","webpack:///./~/spa-app/lib/develop/wamp.js","webpack:///./~/spa-wamp/index.js","webpack:///./~/cjs-wamp/index.js","webpack:///./~/spa-app/lib/develop/events.js","webpack:///./~/gremlins.js/gremlins.min.js","webpack:///./~/spa-app/lib/develop/hooks.js","webpack:///./~/spa-app/lib/develop/static.js","webpack:///./~/livereload-js/dist/livereload.js","webpack:///./~/stb-app/lib/develop/events.js","webpack:///./~/stb-app/lib/develop/grid.js","webpack:///./~/stb-keys/index.js","webpack:///./~/spa-keys/index.js","webpack:///./config/lang.js","webpack:///./config/app.js","webpack:///./src/js/modules/api/client.js","webpack:///./src/js/modules/promise.js","webpack:///./src/js/modules/util/fetch.js","webpack:///./src/js/modules/api/category.icons.js","webpack:///./src/js/pages/main.js","webpack:///./~/stb-component-page/index.js","webpack:///./~/spa-component-page/index.js","webpack:///./~/spa-component/index.js","webpack:///./src/js/components/widget.help.js","webpack:///./~/spa-component-widget/index.js","webpack:///./src/js/components/loader.js","webpack:///./src/js/modules/api/model/menu.js","webpack:///./src/js/components/page.main/list.menu.js","webpack:///./~/mag-component-list/index.js","webpack:///./~/stb-component/index.js","webpack:///./src/js/components/page.main/tabs/category.content.js","webpack:///./~/stb-component-panel/index.js","webpack:///./~/spa-component-panel/index.js","webpack:///./src/js/modules/ui/input.js","webpack:///./src/js/modules/player.js","webpack:///./src/js/components/list.videos.js","webpack:///./src/js/modules/api/model/search.js","webpack:///./src/js/modules/api/model/channel.js","webpack:///./src/js/modules/api/model/playlist.js","webpack:///./src/js/modules/util/cache.js","webpack:///./src/js/modules/util/l10n.js","webpack:///./~/spa-gettext/index.js","webpack:///./~/cjs-gettext/index.js","webpack:///./src/js/modules/util/time.diff.js","webpack:///./src/js/modules/api/model/channels.js","webpack:///./src/js/components/page.main/tabs/channel.content.js","webpack:///./src/js/modules/parser/models/channel.js","webpack:///./src/js/modules/parser/models/tools.js","webpack:///./src/js/components/page.main/tabs/settings.js","webpack:///./src/js/modules/ui/modal.message.js","webpack:///./~/spa-component-modal/index.js","webpack:///./src/js/modules/gstb.wrapper.js","webpack:///./src/js/modules/api/model/settings.js","webpack:///./src/js/components/page.main/tabs/main.content.js","webpack:///./src/js/modules/parser/models/main.js","webpack:///./src/js/pages/search.js","webpack:///./src/js/components/input.native.js","webpack:///./src/js/modules/parser/models/search.js","webpack:///./src/js/modules/parser/models/playlist.js","webpack:///./src/js/modules/util/debounce.js","webpack:///./src/js/components/page.search/keyboard.js","webpack:///./~/stb-component-grid/index.js","webpack:///./~/spa-component-grid/index.js","webpack:///./config/keyboards ^\\.\\/.*$","webpack:///./config/keyboards/ar.js","webpack:///./config/keyboards/de.js","webpack:///./config/keyboards/en.js","webpack:///./config/keyboards/ru.js","webpack:///./config/keyboards/uk.js","webpack:///./src/js/modules/tools/parse.query.js"],"names":[],"mappings":";;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,6CAA4C;;;AAG5C;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,gCAA+B,0BAA0B;AACzD,GAAE;AACF;AACA,+BAA8B,UAAU,wCAAwC;AAChF,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,EAAC;;;;;AAKD;AACA;AACA;;;;;;;;;;ACnRA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;;;;;;;;;ACVA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACjHA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,KAAK;AAChB,YAAW,EAAE;AACb;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA,gCAA+B,WAAW;AAC1C;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,KAAK;AAChB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,KAAK;AAChB,YAAW,EAAE;AACb;AACA,aAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0EAAyE,wCAAwC;;AAEjH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAgC,2BAA2B;AAC3D;;AAEA;AACA;;AAEA;AACA;;AAEA,gEAA+D,mCAAmC;AAClG;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;;ACzJA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA4C,+DAA+D;AAC3G;;AAEA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,oCAAmC,MAAM;AACzC,oCAAmC;AACnC;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA,wDAAuD,MAAM;AAC7D;AACA,wDAAuD,MAAM;AAC7D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+CAA8C,0DAA0D;AACxG,sEAAqE,uDAAuD;AAC5H,uDAAsD,uDAAuD;AAC7G;;AAEA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA,iDAAgD,MAAM;AACtD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;;;AAGL;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA,uCAAsC;AACtC;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2FAA0F,wBAAwB,EAAE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,2CAA0C,wDAAwD;AAClG;;AAEA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA,+BAA8B,yBAAyB;AACvD;AACA;AACA;AACA;AACA,gCAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA4B,sBAAsB;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;;;;;;;;;;;ACtRA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,wBAAwB;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,MAAK;;;AAGL;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA;;;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;ACTA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA,0DAAyD,4BAA4B;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0DAAyD,4BAA4B;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAU,EAAE;;AAEZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA,0DAAyD,4BAA4B;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAU,EAAE;AACZ,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA,6DAA4D,4BAA4B;AACxF;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAsC,QAAQ;;AAE9C;AACA;;AAEA;AACA,gCAA+B,wBAAwB;AACvD,gCAA+B,wBAAwB;AACvD,gCAA+B,wBAAwB;;AAEvD;AACA;AACA,oFAAmF,4BAA4B;AAC/G;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8EAA6E,4BAA4B;AACzG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA,qDAAoD,4BAA4B;AAChF,OAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA,2DAA0D,4BAA4B;AACtF;AACA;AACA;AACA;AACA;AACA,SAAQ;;AAER;AACA,yBAAwB;;AAExB;AACA;AACA,qDAAoD,4BAA4B;;AAEhF;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAM;;AAEN;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0DAAyD,4BAA4B;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9VA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAoC,QAAQ;AAC5C;AACA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAsC,QAAQ;AAC9C;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;;;;;;;;;AC1EA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC1DA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAmC;;;AAGnC;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;ACvCA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;ACxBA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;AC/DA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACjCA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mBAAkB;AAClB;AACA,mBAAkB;AAClB,mBAAkB;AAClB;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA,UAAS;AACT;AACA,EAAC;;;AAGD;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gDAA+C,0BAA0B;AACzE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,sCAAqC;;AAErC;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,EAAE;AACb;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8FAA6F;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D;AAC/D;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,4BAA2B;AAC3B;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;;;AAGA;AACA;;;;;;;;;;;AC7SA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uEAAsE,uBAAuB;;AAE7F;AACA,sDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,YAAW;AACX;;AAEA;AACA,wEAAuE,wBAAwB;AAC/F;;AAEA;AACA;;AAEA;AACA,yBAAwB,wBAAwB;AAChD,MAAK;AACL;;;;;;;;;;ACjDA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO,WAAW;AAC7B,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;ACzFA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,UAAU;AACrB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,qBAAoB,qCAAqC;AACzD;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;AACA;AACA,yBAAwB,0CAA0C;AAClE;AACA,cAAa;AACb;AACA,MAAK;AACL;AACA;AACA,qBAAoB,yCAAyC;AAC7D;AACA,UAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,EAAE;AACb,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;AC1JA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,WAAU;AACV,MAAK;;AAEL;AACA;AACA,2CAA0C;;AAE1C;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,mDAAkD,YAAY;AAC9D;AACA,kBAAiB;AACjB;AACA,mBAAkB;;AAElB;AACA;AACA,oDAAmD,iBAAiB;AACpE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAuC,QAAQ;AAC/C;;AAEA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,mBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA,gBAAe;AACf;;AAEA;AACA;AACA;AACA,sEAAqE,wBAAwB;AAC7F;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb,mBAAkB;;AAElB;AACA;AACA;AACA,+CAA8C,wBAAwB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;AC7LA,gBAAe,wEAAwE,wDAAwD,KAAK,UAAU,6DAA6D,iBAAiB,mBAAmB,cAAc,4BAA4B,YAAY,UAAU,iBAAiB,gEAAgE,SAAS,qDAAqD,kBAAkB,eAAe,iBAAiB,MAAM,cAAc,aAAa,gBAAgB,4BAA4B,iBAAiB,yCAAyC,IAAI,SAAS,4CAA4C,iBAAiB,MAAM,YAAY,gBAAgB,WAAW,cAAc,qDAAqD,SAAS,gBAAgB,6BAA6B,uHAAuH,uJAAuJ,iCAAiC,GAAG,6BAA6B,cAAc,cAAc,wHAAwH,mCAAmC,OAAO,yBAAyB,iMAAiM,eAAe,GAAG,kCAAkC,MAAM,OAAO,QAAQ,EAAE,2BAA2B,2EAA2E,eAAe,4NAA4N,YAAY,kBAAkB,wBAAwB,EAAE,6BAA6B,qBAAqB,iCAAiC,QAAQ,OAAO,YAAY,8CAA8C,mBAAmB,MAAM,uBAAuB,wBAAwB,SAAS,iCAAiC,cAAc,YAAY,2GAA2G,gCAAgC,OAAO,aAAa,EAAE,6BAA6B,qDAAqD,YAAY,6CAA6C,gCAAgC,OAAO,kCAAkC,aAAa,oBAAoB,IAAI,uBAAuB,OAAO,EAAE,SAAS,oCAAoC,6CAA6C,+BAA+B,mCAAmC,YAAY,gCAAgC,2DAA2D,eAAe,GAAG,iCAAiC,qDAAqD,IAAI,oBAAoB,eAAe,0BAA0B,SAAS,mCAAmC,OAAO,qCAAqC,YAAY,WAAW,IAAI,4BAA4B,mBAAmB,kCAAkC,OAAO,mCAAmC,cAAc,WAAW,IAAI,wBAAwB,8CAA8C,kCAAkC,OAAO,oCAAoC,YAAY,kDAAkD,IAAI,4BAA4B,OAAO,oBAAoB,OAAO,EAAE,OAAO,OAAO,SAAS,8BAA8B,oFAAoF,iCAAiC,YAAY,OAAO,aAAa,sBAAsB,yBAAyB,0BAA0B,iBAAiB,IAAI,uBAAuB,SAAS,6BAA6B,OAAO,MAAM,eAAe,4BAA4B,aAAa,EAAE,MAAM,2BAA2B,cAAc,EAAE,MAAM,4BAA4B,eAAe,EAAE,MAAM,6BAA6B,eAAe,EAAE,MAAM,wBAAwB,cAAc,EAAE,SAAS,kCAAkC,cAAc,0CAA0C,gBAAgB,82IAA82I,6BAA6B,oBAAoB,+BAA+B,qCAAqC,w8IAAw8I,4BAA4B,oBAAoB,8BAA8B,OAAO,mCAAmC,kFAAkF,wBAAwB,qDAAqD,sCAAsC,QAAQ,iCAAiC,EAAE,gCAAgC,EAAE,kCAAkC,EAAE,iCAAiC,EAAE,gCAAgC,2BAA2B,qCAAqC,uGAAuG,+BAA+B,gBAAgB,0BAA0B,OAAO,wDAAwD,EAAE,kBAAkB,8CAA8C,SAAS,cAAc,SAAS,GAAG,mDAAmD,SAAS,cAAc,SAAS,GAAG,oDAAoD,QAAQ,gCAAgC,QAAQ,oBAAoB,QAAQ,oBAAoB,QAAQ,MAAM,8FAA8F,gCAAgC,kDAAkD,+BAA+B,wDAAwD,6BAA6B,sCAAsC,SAAS,MAAM,gCAAgC,sBAAsB,2BAA2B,qBAAqB,QAAQ,oBAAoB,QAAQ,oBAAoB,QAAQ,oBAAoB,QAAQ,EAAE,6BAA6B,iBAAiB,IAAI,kBAAkB,SAAS,MAAM,8BAA8B,8BAA8B,qBAAqB,aAAa,EAAE,6BAA6B,mDAAmD,4BAA4B,8BAA8B,gCAAgC,sBAAsB,iCAAiC,4BAA4B,cAAc,qBAAqB,kCAAkC,OAAO,UAAU,EAAE,oBAAoB,YAAY,2BAA2B,YAAY,2BAA2B,YAAY,aAAa,4BAA4B,6BAA6B,kCAAkC,YAAY,GAAG,qCAAqC,sDAAsD,kCAAkC,cAAc,QAAQ,iBAAiB,6BAA6B,EAAE,mCAAmC,cAAc,QAAQ,iBAAiB,4BAA4B,EAAE,+BAA+B,OAAO,aAAa,6BAA6B,kDAAkD,YAAY,2BAA2B,YAAY,2BAA2B,YAAY,6BAA6B,iBAAiB,aAAa,uCAAuC,+BAA+B,sBAAsB,yBAAyB,oBAAoB,MAAM,kBAAkB,wBAAwB,kBAAkB,MAAM,kBAAkB,wBAAwB,gBAAgB,MAAM,EAAE,eAAe,kCAAkC,QAAQ,iCAAiC,EAAE,0CAA0C,EAAE,kCAAkC,EAAE,uCAAuC,EAAE,mDAAmD,EAAE,qCAAqC,EAAE,iCAAiC,EAAE,8CAA8C,EAAE,gCAAgC,EAAE,sCAAsC,EAAE,+CAA+C,EAAE,iCAAiC,EAAE,+BAA+B,EAAE,kCAAkC,2FAA2F,+BAA+B,OAAO,SAAS,EAAE,SAAS,6BAA6B,yBAAyB,MAAM,yBAAyB,MAAM,0BAA0B,UAAU,EAAE,yBAAyB,wBAAwB,kBAAkB,wBAAwB,kBAAkB,wBAAwB,EAAE,+BAA+B,qFAAqF,+BAA+B,QAAQ,iCAAiC,EAAE,gCAAgC,EAAE,wCAAwC,EAAE,iCAAiC,EAAE,kCAAkC,EAAE,6CAA6C,EAAE,8CAA8C,EAAE,mDAAmD,EAAE,oCAAoC,EAAE,kCAAkC,EAAE,qCAAqC,EAAE,kCAAkC,EAAE,8CAA8C,EAAE,wDAAwD,EAAE,iCAAiC,EAAE,iCAAiC,EAAE,8BAA8B,EAAE,gCAAgC,EAAE,+BAA+B,EAAE,kCAAkC,EAAE,iCAAiC,EAAE,8BAA8B,EAAE,gCAAgC,EAAE,kCAAkC,EAAE,mCAAmC,EAAE,+BAA+B,EAAE,0CAA0C,EAAE,kCAAkC,EAAE,uCAAuC,EAAE,kCAAkC,EAAE,mCAAmC,EAAE,qCAAqC,EAAE,kCAAkC,EAAE,iCAAiC,EAAE,kCAAkC,EAAE,gCAAgC,EAAE,uCAAuC,EAAE,oCAAoC,EAAE,oCAAoC,EAAE,kCAAkC,EAAE,wCAAwC,EAAE,sCAAsC,EAAE,kDAAkD,EAAE,8BAA8B,EAAE,kCAAkC,EAAE,gCAAgC,EAAE,sCAAsC,EAAE,qCAAqC,EAAE,sCAAsC,EAAE,wCAAwC,EAAE,sCAAsC,EAAE,mCAAmC,EAAE,+BAA+B,EAAE,8BAA8B,EAAE,iCAAiC,EAAE,8CAA8C,EAAE,kCAAkC,EAAE,oCAAoC,EAAE,uCAAuC,EAAE,mCAAmC,EAAE,iCAAiC,EAAE,gCAAgC,OAAO,iBAAiB,YAAY,EAAE,iHAAiH,sCAAsC,yCAAyC,wCAAwC,QAAQ,iCAAiC,EAAE,qCAAqC,EAAE,iCAAiC,EAAE,iCAAiC,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,oCAAoC,EAAE,+BAA+B,EAAE,gCAAgC,EAAE,kCAAkC,EAAE,kCAAkC,EAAE,mCAAmC,EAAE,8BAA8B,EAAE,8BAA8B,EAAE,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EAAE,mCAAmC,EAAE,gCAAgC,EAAE,gCAAgC,EAAE,gCAAgC,EAAE,+BAA+B,EAAE,gCAAgC,EAAE,+BAA+B,EAAE,gCAAgC,EAAE,gCAAgC,EAAE,8BAA8B,EAAE,gCAAgC,EAAE,gCAAgC,EAAE,kCAAkC,EAAE,gCAAgC,EAAE,oCAAoC,EAAE,8BAA8B,EAAE,8BAA8B,EAAE,4BAA4B,qBAAqB,6BAA6B,iBAAiB,IAAI,qBAAqB,MAAM,aAAa,qCAAqC,IAAI,qBAAqB,MAAM,aAAa,SAAS,6BAA6B,6BAA6B,8BAA8B,oBAAoB,OAAO,EAAE,OAAO,kEAAkE,iBAAiB,kHAAkH,EAAE,4EAA4E,yIAAyI,oCAAoC,8BAA8B,8BAA8B,OAAO,yBAAyB,qBAAqB,YAAY,EAAE,oCAAoC,qBAAqB,QAAQ,EAAE,kDAAkD,qBAAqB,OAAO,EAAE,+BAA+B,OAAO,+BAA+B,sBAAsB,+BAA+B,QAAQ,qDAAqD,EAAE,sDAAsD,EAAE,mDAAmD,EAAE,mDAAmD,EAAE,iDAAiD,EAAE,kDAAkD,EAAE,kDAAkD,EAAE,oDAAoD,EAAE,uDAAuD,EAAE,qDAAqD,EAAE,sDAAsD,EAAE,sDAAsD,EAAE,+BAA+B,qBAAqB,OAAO,EAAE,kCAAkC,qBAAqB,gDAAgD,EAAE,8BAA8B,cAAc,6BAA6B,6EAA6E,4BAA4B,OAAO,UAAU,uBAAuB,mBAAmB,EAAE,OAAO,oDAAoD,YAAY,IAAI,yBAAyB,YAAY,GAAG,0DAA0D,iCAAiC,QAAQ,gEAAgE,EAAE,8DAA8D,EAAE,oEAAoE,EAAE,6EAA6E,EAAE,0EAA0E,EAAE,2EAA2E,EAAE,mFAAmF,EAAE,mEAAmE,EAAE,iEAAiE,EAAE,oDAAoD,EAAE,wDAAwD,EAAE,4DAA4D,EAAE,wDAAwD,EAAE,sDAAsD,EAAE,0DAA0D,EAAE,mDAAmD,EAAE,mEAAmE,EAAE,iCAAiC,OAAO,6BAA6B,WAAW,YAAY,WAAW,qDAAqD,OAAO,MAAM,8EAA8E,oBAAoB,sBAAsB,gCAAgC,OAAO,cAAc,EAAE,qBAAqB,4BAA4B,+BAA+B,iFAAiF,6BAA6B,OAAO,SAAS,wFAAwF,UAAU,sDAAsD,mCAAmC,OAAO,QAAQ,aAAa,iBAAiB,OAAO,2BAA2B,+BAA+B,mBAAmB,OAAO,UAAU,SAAS,iCAAiC,kBAAkB,gCAAgC,EAAE,2BAA2B,qBAAqB,YAAY,EAAE,2BAA2B,qBAAqB,YAAY,EAAE,2BAA2B,qBAAqB,YAAY,EAAE,4BAA4B,qBAAqB,aAAa,EAAE,4BAA4B,qBAAqB,aAAa,EAAE,4BAA4B,qBAAqB,aAAa,EAAE,4BAA4B,qBAAqB,aAAa,EAAE,6BAA6B,qBAAqB,cAAc,EAAE,+BAA+B,0EAA0E,sCAAsC,4MAA4M,eAAe,IAAI,yBAAyB,eAAe,EAAE,8DAA8D,WAAW,IAAI,8BAA8B,MAAM,WAAW,iDAAiD,gBAAgB,mBAAmB,gBAAgB,6BAA6B,gBAAgB,mBAAmB,gBAAgB,eAAe,gBAAgB,mBAAmB,iBAAiB,EAAE,SAAS,8BAA8B,OAAO,yBAAyB,EAAE,2CAA2C,oBAAoB,uBAAuB,EAAE,oCAAoC,8CAA8C,2DAA2D,wCAAwC,8DAA8D,IAAI,KAAK,YAAY,iCAAiC,cAAc,0CAA0C,gBAAgB,6BAA6B,kBAAkB,4MAA4M,qCAAqC,gCAAgC,gBAAgB,wKAAwK,yCAAyC,gBAAgB,oDAAoD,EAAE,4MAA4M,eAAe,EAAE,6LAA6L,sBAAsB,sCAAsC,mCAAmC,qBAAqB,MAAM,qDAAqD,gBAAgB,wGAAwG,KAAK,WAAW,iHAAiH,2HAA2H,8FAA8F,sCAAsC,gCAAgC,sCAAsC,2CAA2C,+BAA+B,2CAA2C,sCAAsC,+CAA+C,sCAAsC,0DAA0D,0CAA0C,2EAA2E,SAAS,6IAA6I,GAAG,iBAAiB,MAAM,cAAc,aAAa,aAAa,yJAAyJ,qBAAqB,SAAS,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,oBAAoB,eAAe,aAAa,oBAAoB,+CAA+C,gBAAgB,qCAAqC,kBAAkB,SAAS,WAAW,SAAS,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,aAAa,2IAA2I,qBAAqB,SAAS,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,gBAAgB,uBAAuB,IAAI,wEAAwE,cAAc,SAAS,wEAAwE,UAAU,+BAA+B,aAAa,sDAAsD,qBAAqB;AAC9v+B,oIAAmI,uCAAuC,mCAAmC,oCAAoC,oDAAoD,YAAY,gCAAgC,kCAAkC,mCAAmC,mDAAmD,YAAY,kCAAkC,qCAAqC,gCAAgC,0CAA0C,+BAA+B,yCAAyC,gCAAgC,2DAA2D,6BAA6B,oBAAoB,oCAAoC,mEAAmE,8BAA8B,sCAAsC,mCAAmC,kKAAkK,sHAAsH,GAAG,gDAAgD,IAAI,4BAA4B,0BAA0B,8CAA8C,IAAI,0DAA0D,WAAW,oBAAoB,6CAA6C,oBAAoB,0BAA0B,EAAE,EAAE,EAAE,6BAA6B,0CAA0C,IAAI,gBAAgB,0BAA0B,aAAa,+BAA+B,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,yBAAyB,kBAAkB,aAAa,2BAA2B,aAAa,+BAA+B,aAAa,yBAAyB,+DAA+D,gDAAgD,qEAAqE,sEAAsE,mEAAmE,oEAAoE,EAAE,sCAAsC,6EAA6E,iDAAiD,4BAA4B,yDAAyD,WAAW,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,kBAAkB,kBAAkB,cAAc,sCAAsC,cAAc,2DAA2D,aAAa,cAAc,oCAAoC,cAAc,+CAA+C,sCAAsC,MAAM,gCAAgC,aAAa,yBAAyB,qCAAqC,6KAA6K,4BAA4B,EAAE,SAAS,sCAAsC,UAAU,4BAA4B,cAAc,WAAW,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,WAAW,kBAAkB,aAAa,aAAa,uBAAuB,6BAA6B,6BAA6B,2FAA2F,KAAK,eAAe,gDAAgD,yBAAyB,0CAA0C,gCAAgC,WAAW,0BAA0B,4BAA4B,wDAAwD,WAAW,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,yBAAyB,kBAAkB,aAAa,6BAA6B,oCAAoC,wBAAwB,qCAAqC,GAAG,gBAAgB,6BAA6B,uYAAuY,uBAAuB,sBAAsB,iBAAiB,4BAA4B,kBAAkB,KAAK,aAAa,SAAS,aAAa,6BAA6B,gBAAgB,iGAAiG,0BAA0B,qEAAqE,iOAAiO,6LAA6L,mGAAmG,iBAAiB,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,yBAAyB,kBAAkB,cAAc,sGAAsG,sCAAsC,qDAAqD,iBAAiB,MAAM,aAAa,SAAS,aAAa,6BAA6B,SAAS,8EAA8E,UAAU,GAAG,sCAAsC,yBAAyB,sDAAsD,gCAAgC,WAAW,0CAA0C,IAAI,MAAM,8BAA8B,kJAAkJ,cAAc,+BAA+B,oBAAoB,cAAc,8BAA8B,kBAAkB,EAAE,oBAAoB,cAAc,mCAAmC,iBAAiB,8CAA8C,IAAI,KAAK,WAAW,4BAA4B,gBAAgB,cAAc,mCAAmC,sGAAsG,cAAc,mCAAmC,sGAAsG,cAAc,2BAA2B,mBAAmB,gBAAgB,2CAA2C,mCAAmC,6CAA6C,gCAAgC,4CAA4C,+BAA+B,KAAK,8DAA8D,gBAAgB,8BAA8B,cAAc,yBAAyB,gMAAgM,IAAI,2FAA2F,iBAAiB,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,yBAAyB,kBAAkB,aAAa,6KAA6K,6BAA6B,oBAAoB,wBAAwB,qBAAqB,GAAG,gBAAgB,6BAA6B,yUAAyU,uBAAuB,sBAAsB,iBAAiB,4BAA4B,kBAAkB,KAAK,aAAa,6BAA6B,yCAAyC,8JAA8J,sDAAsD,6DAA6D,iBAAiB,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,yBAAyB,kBAAkB,aAAa,6BAA6B,oCAAoC,wBAAwB,qCAAqC,GAAG,cAAc,iCAAiC,sBAAsB,6BAA6B,qWAAqW,uBAAuB,sBAAsB,iBAAiB,4BAA4B,kBAAkB,KAAK,wBAAwB,aAAa,SAAS,oBAAoB,6BAA6B,iBAAiB,QAAQ,EAAE,0DAA0D,IAAI,oBAAoB,oCAAoC,EAAE,SAAS,kBAAkB,kCAAkC,kEAAkE,mBAAmB,yBAAyB,wCAAwC,QAAQ,8EAA8E,EAAE,8GAA8G,sBAAsB,aAAa,eAAe,uDAAuD,0IAA0I,oBAAoB,KAAK,8BAA8B,cAAc,oBAAoB,uCAAuC,IAAI,cAAc,gBAAgB,kJAAkJ,6BAA6B,gBAAgB,+FAA+F,0BAA0B,sCAAsC,YAAY,4HAA4H,+GAA+G,IAAI,oBAAoB,gBAAgB,+BAA+B,eAAe,GAAG,qCAAqC,oBAAoB,aAAa,2BAA2B,qBAAqB,sBAAsB,aAAa,KAAK,EAAE,2BAA2B,OAAO,gCAAgC,iBAAiB,kCAAkC,iBAAiB,iCAAiC,eAAe,EAAE,mBAAmB,sBAAsB,OAAO,EAAE,4BAA4B,4BAA4B,uBAAuB,KAAK,6BAA6B,YAAY,iCAAiC,iBAAiB,+BAA+B,eAAe,kCAAkC,eAAe,kCAAkC,eAAe,iCAAiC,iBAAiB,EAAE,mBAAmB,sBAAsB,OAAO,IAAI,iBAAiB,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,yBAAyB,kBAAkB,aAAa,6BAA6B,cAAc,EAAE,gBAAgB,+BAA+B,oBAAoB,6BAA6B,2dAA2d,uBAAuB,sBAAsB,iBAAiB,4BAA4B,kBAAkB,KAAK,aAAa,6BAA6B,qJAAqJ,oBAAoB,0BAA0B,qBAAqB,yBAAyB,6SAA6S,uFAAuF,sFAAsF,iBAAiB,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,kBAAkB,kBAAkB,kBAAkB,cAAc,YAAY,cAAc,2CAA2C,sBAAsB,OAAO,UAAU,EAAE,+BAA+B,cAAc,aAAa,iCAAiC,WAAW,iBAAiB,yBAAyB,qBAAqB,WAAW,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,kBAAkB,kBAAkB,kBAAkB,kBAAkB,oDAAoD,sBAAsB,WAAW,UAAU,EAAE,aAAa,uDAAuD,4CAA4C,aAAa,aAAa,iCAAiC,WAAW,iBAAiB,yBAAyB,qBAAqB,WAAW,4CAA4C,iBAAiB,MAAM,cAAc,aAAa,yBAAyB,kBAAkB,kBAAkB,kBAAkB,oDAAoD,sBAAsB,gBAAgB,UAAU,EAAE,4FAA4F,+CAA+C,cAAc,eAAe,kBAAkB,uBAAuB,IAAI,cAAc,SAAS,gBAAgB,qCAAqC,YAAY,iBAAiB,IAAI,gCAAgC,oBAAoB,aAAa,iCAAiC,WAAW,kDAAkD,yBAAyB,qBAAqB,WAAW,4CAA4C,GAAG,E;;;;;;;;;ACDp7f;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;;;;AC7BA,aAAY,kBAAkB,gBAAgB,UAAU,UAAU,0CAA0C,wBAAwB,oBAAoB,8CAA8C,kCAAkC,YAAY,YAAY,mCAAmC,iBAAiB,eAAe,sBAAsB,oBAAoB,kDAAkD,WAAW,YAAY,SAAS,SAAS,KAAK;AAC7c;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH,EAAC;;AAED,EAAC,EAAE,eAAe;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC;;AAED,EAAC,GAAG;AACJ;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,sCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH,EAAC;;AAED,EAAC,GAAG;AACJ;AACA;AACA,iBAAgB;;AAEhB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA,QAAO;AACP,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA,IAAG;;AAEH,EAAC;;AAED,EAAC,EAAE,wEAAwE;AAC3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA,kCAAiC,SAAS;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC,UAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED,EAAC,GAAG;AACJ;AACA;AACA,6CAA4C,iCAAiC,OAAO,OAAO,6CAA6C,EAAE,WAAW;;AAErJ;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH,EAAC;;AAED,EAAC,GAAG;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uCAAsC,UAAU;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,UAAU;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAoC,UAAU;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C,UAAU;AACzD;AACA;AACA,0CAAyC,UAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,UAAU;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,uCAAsC,UAAU;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,UAAU;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA2C,UAAU;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,UAAU;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,qCAAoC,UAAU;AAC9C;AACA;AACA;AACA;AACA;AACA,uCAAsC,UAAU;AAChD;AACA;AACA;AACA;AACA;AACA,wCAAuC,UAAU;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,2CAA0C,UAAU;AACpD;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,iDAAgD,UAAU;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH,EAAC;;AAED,EAAC,GAAG;AACJ;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH,EAAC;;AAED,EAAC,EAAE,+CAA+C;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA,EAAC;;AAED,EAAC,GAAG,EAAE,GAAG;;;;;;;;;;ACnrCT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAoC,QAAQ;AAC5C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA,gBAAe;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;ACnNA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAe,YAAY;AAC3B;;AAEA,gBAAe,yBAAyB;AACxC;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0BAAyB,2CAA2C;AACpE,0BAAyB,+EAA+E;AACxG,0BAAyB,iCAAiC;;AAE1D;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;AACT,MAAK;;;AAGL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,mCAAkC,iCAAiC;AACnE;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA,yBAAwB;;AAExB;AACA;;AAEA;AACA,yBAAwB,iCAAiC,GAAG,cAAc;;AAE1E;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,wBAAwB;AAC3D,UAAS;AACT,MAAK;;;AAGL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB,iCAAiC;;AAEzD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AClSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA,8BAA6B;AAC7B,oCAAmC;AACnC,gCAA+B;AAC/B,iCAAgC;AAChC,yBAAwB;AACxB,yBAAwB;AACxB,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,wBAAuB;AACvB,wBAAuB;AACvB,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,cAAc;AAChD,mCAAkC,cAAc;AAChD;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACzHA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;;;;;;;;;ACzBA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,eAAc,QAAQ;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,SAAQ;AACR,QAAO;AACP;AACA,QAAO;AACP,OAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,aAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,OAAM;AACN;AACA;;AAEA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,SAAQ;AACR;AACA;;AAEA;AACA,MAAK;AACL;;AAEA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,OAAM;AACN,MAAK;AACL;AACA,MAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV,UAAS;AACT,SAAQ;AACR;AACA,SAAQ;AACR;AACA,KAAI;AACJ,IAAG;AACH,KAAI;AACJ;AACA,KAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;;AAGA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA,KAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;;;;;;;;;;AChkBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,0CAAyC,+DAA+D;AACxG,0CAAyC,iEAAiE;AAC1G;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA,MAAK;AACL;;;AAGA;AACA,UAAS;AACT,mCAAkC,kEAAkE;AACpG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,8CAA6C,SAAS;AACtD;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAAyB,QAAQ;AACjC;AACA;AACA,UAAS;AACT,0BAAyB,QAAQ;AACjC;AACA;AACA,UAAS;AACT,MAAK;AACL,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA,mCAAkC,oBAAoB;;AAEtD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA,qBAAoB,iBAAiB;AACrC;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA,8CAA6C,SAAS;AACtD;AACA;AACA,MAAK;AACL;;;AAGA;AACA;;;;;;;;;;AClPA;;AAEA;;;AAGA;AACA;AACA;AACA,YAAW,eAAe;AAC1B,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;;;;;;;;;;ACzCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,mBAAkB,mCAAmC;AACrD;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA,EAAC;;AAED;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAE;AACF,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAE;AACF,EAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF,EAAC;AACD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;AChKA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACXA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;;AC7FA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,YAAW,UAAU;AACrB,YAAW,kBAAkB;AAC7B,YAAW,0BAA0B,kBAAkB;AACvD,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,2BAA0B,MAAM;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA,YAAW,aAAa;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,0BAA0B;AAC9C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,2BAA0B,UAAU;AACpC;AACA,+BAA8B,YAAY;AAC1C;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,cAAa,UAAU;AACvB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,0CAAyC,0DAA0D;AACnG,iDAAgD,oDAAoD;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,mBAAmB;;AAE9C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;;AC1nBA;;AAEA;AACA,sBAAqB,oEAAoE;AACzF;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;;;;;;;;;;ACxCA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;ACtGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,GAAE;;AAEF;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA,4BAA2B,OAAO,kBAAkB;AACpD,OAAM;AACN,MAAK;AACL;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;;AAEA,yBAAwB,oIAAoI;;AAE5J;AACA,6BAA4B,8EAA8E;AAC1G,8CAA6C,UAAU;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAQ,YAAY;AACpB;AACA;AACA,8BAA6B,OAAO,kBAAkB;AACtD,SAAQ;AACR;AACA,OAAM;;AAEN;AACA;;AAEA;AACA,6BAA4B,kFAAkF;AAC9G,kDAAiD,UAAU;AAC3D;AACA,8BAA6B,sKAAsK;AACnM;AACA;;AAEA;AACA,6BAA4B,+EAA+E;AAC3G,+CAA8C,UAAU;AACxD;AACA,8BAA6B,0JAA0J;AACvL;AACA;;AAEA;AACA,4BAA2B,mFAAmF;AAC9G,8CAA6C,UAAU;AACvD;AACA,6BAA4B,0JAA0J;AACtL;AACA;;AAEA;;;;;;;;;;;ACpKA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,qCAAqC;AACnE;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC,gCAAgC;AACjE,2CAA0C,oCAAoC;AAC9E;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACjMA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV,eAAc,QAAQ;AACtB,eAAc,MAAM;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,aAAa;AAC/B,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,6DAA4D,8DAA8D;AAC1H;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,QAAQ;AACnB,YAAW,EAAE;AACb;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,qCAAqC;AAClF;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,qCAAqC;AAChF;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,MAAM;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAAyC,4DAA4D;AACrG;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA6C,0BAA0B;AACvE;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAuC,2BAA2B;;AAElE;AACA,2BAA0B,6BAA6B;;AAEvD;AACA,6BAA4B,iCAAiC;;;AAG7D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA,iDAAgD,0DAA0D;AAC1G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV,eAAc,OAAO;AACrB,eAAc,OAAO;AACrB;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAsB,iBAAiB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAoC,2CAA2C;AAC/E;;AAEA;AACA;AACA,uCAAsC,aAAa;AACnD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB,2CAA0C,uEAAuE;AACjH;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C,wCAAwC;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB,2CAA0C,uEAAuE;AACjH;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C,wCAAwC;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,uCAAsC,sCAAsC;AAC5E;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,0BAAyB;AACzB;AACA;;AAEA,uCAAsC,mCAAmC;AACzE;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,uCAAsC,sCAAsC;AAC5E;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,0BAAyB;AACzB;AACA;;AAEA,uCAAsC,mCAAmC;AACzE;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,+BAA8B,QAAQ;AACtC;AACA,yCAAwC,aAAa;AACrD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,2BAA0B,QAAQ;AAClC,2BAA0B,QAAQ;AAClC;AACA,sCAAqC,2BAA2B;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,2BAA0B,QAAQ;AAClC;AACA,uCAAsC,aAAa;AACnD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,0DAA0D;AACjG;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,2BAA0B,QAAQ;AAClC;AACA,qCAAoC,aAAa;AACjD;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;;AC7nCA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;ACRA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,oCAAoC;AAC7D;AACA;;AAEA,kCAAiC,qBAAqB;AACtD;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,uCAAuC;AAChE;AACA;;AAEA,wCAAuC,qBAAqB;AAC5D;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,yCAAwC,UAAU,oBAAoB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,yBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA,gCAA+B,iBAAiB;AAChD,0BAAyB,kBAAkB;AAC3C,oCAAmC,iBAAiB;AACpD;AACA,IAAG;AACH,GAAE;AACF;AACA,GAAE;AACF,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;AChXA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACXA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;;AC3EA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA,4CAA2C,qDAAqD;AAChG;AACA,4EAA2E,mEAAmE;AAC9I;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA,oEAAmE,gEAAgE;AACnI,qGAAoG,kFAAkF;AACtL,kEAAiE,iEAAiE;AAClI,8EAA6E,uEAAuE;AACpJ,0EAAyE,qEAAqE;AAC9I,8FAA6F,gEAAgE;AAC7J;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA0B,2EAA2E;AACrG,0CAAyC,yDAAyD;AAClG,mCAAkC,yEAAyE;AAC3G;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL,kCAAiC;AACjC,MAAK;AACL;AACA;;AAEA,wCAAuC;AACvC;AACA;AACA,MAAK,OAAO;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B,kBAAkB;AAC9C;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA8B,kEAAkE;AAChG,+CAA8C,sFAAsF;AACpI;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iCAAgC,kBAAkB;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA0C,0DAA0D;AACpG;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B,UAAU;AACtC;AACA;AACA;AACA,cAAa;AACb;AACA,6BAA4B,UAAU;AACtC;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,eAAe;AACnC;;AAEA;AACA;AACA,cAAa;AACb,0CAAyC;AACzC,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA4B,kBAAkB;AAC9C;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;AC7ZA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,WAAU;AACV,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA,mDAAkD,UAAU;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA,kBAAiB,wCAAwC;AACzD;AACA,GAAE;AACF;AACA;AACA;AACA,kBAAiB,wCAAwC;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,wBAAwB;AAChD;;AAEA;;;;;;;;;;ACxOA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP,IAAG;;AAEH,yBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC,gCAAgC;AACjE,mCAAkC,gCAAgC;AAClE,qBAAoB,wCAAwC;AAC5D,qCAAoC,6CAA6C;AACjF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;AACA,4BAA2B,2CAA2C;AACtE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,QAAQ;AACnB,YAAW,EAAE;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,gCAAgC;AAC5D;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT,SAAQ;AACR;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,qCAAqC;AAClE;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;;;;;;;;;ACjTA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,mBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA,iBAAgB,eAAe;AAC/B;AACA;AACA,OAAM;AACN;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,kEAAkE;AACnG;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA,IAAG;AACH,GAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;AAGA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA,cAAa,wBAAwB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACtRA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA,yCAAwC;AACxC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,sBAAqB,qDAAqD;AAC1E;AACA;AACA;AACA,IAAG;AACH;AACA,GAAE;AACF;;;AAGA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA,KAAI;AACJ;;;AAGA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,QAAO;AACP,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,UAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,6BAA6B;AAC/E;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL;AACA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC,6BAA4B,wBAAwB;AACpD;AACA;AACA;AACA,KAAI;AACJ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACvQA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA,KAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA,iBAAgB,2BAA2B;AAC3C,6BAA4B,wBAAwB;AACpD;AACA;AACA,iCAAgC,UAAU;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mCAAkC,UAAU;AAC5C;AACA;AACA;AACA,GAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACtMA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,MAAM;AACnB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,SAAS;AACtB,eAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,EAAE;AACd,aAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA,uCAAsC,4CAA4C;AAClF,yCAAwC,8CAA8C;AACtF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAY;AACZ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,cAAc;AAC1B;AACA,cAAa,EAAE;AACf;AACA;AACA;AACA,uCAAsC,4CAA4C;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa,QAAQ;AACrB;AACA;AACA;AACA,uCAAsC,4CAA4C;AAClF;AACA;;AAEA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AClOA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAwC,kCAAkC;AAC1E,gCAA+B,iCAAiC;AAChE;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA,oDAA+B,eAAe;AAC9C;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;;;;;;;;AChCA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;;ACrHA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD;;AAEjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;;;;;;;;;;;AChGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe;AACf,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAU,OAAO;AACjB,WAAU,OAAO;AACjB,WAAU,OAAO;AACjB;AACA,YAAW,OAAO;AAClB;AACA;AACA,uCAAsC;AACtC;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA,GAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,GAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;AC1IA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,aAAY;;;AAGZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,oCAAoC;AAC5D;AACA;;AAEA,uCAAsC,qBAAqB;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,yBAAwB,uCAAuC;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,UAAU,oBAAoB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA,8CAA6C,qBAAqB;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA2F;AAC3F;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA,IAAG;AACH,GAAE;AACF,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;;;;;;;;;;ACvbA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAoB,oBAAoB;AACxC;;AAEA;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAwB,6DAA6D;AACrF,mBAAkB,wDAAwD,IAAI;AAC9E,gBAAe;AACf;;AAEA;AACA;AACA;;AAEA;AACA,uBAAsB,wDAAwD,IAAI;AAClF,oBAAmB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA,oCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,mBAAkB,wDAAwD;AAC1E,gBAAe;AACf;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,+BAA8B,wDAAwD;AACtF,4BAA2B;AAC3B;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,0GAAyG;AACzG,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;AACA,cAAa;AACb;AACA,MAAK;AACL;AACA;;AAEA;AACA,2BAA0B,wDAAwD;AAClF,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,4DAA4D;AACvG;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,0CAA0C;AAC5F;AACA;AACA,UAAS;AACT,MAAK;AACL,4BAA2B;AAC3B,MAAK;AACL,mBAAkB,0DAA0D;AAC5E;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACzSA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,OAAM;AACN;AACA,eAAc;AACd;;AAEA,mBAAkB,sCAAsC;;AAExD;AACA;AACA,cAAa,2BAA2B;AACxC,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB;AACA,aAAY,eAAe;AAC3B;AACA;AACA,gEAA+D,4BAA4B,GAAG,gBAAgB;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;;;;;;;;;ACrHA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA,EAAC;;;AAGD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,qCAAqC;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA,oCAAmC,gCAAgC;AACnE,qCAAoC,gCAAgC;AACpE,uBAAsB,wCAAwC;AAC9D,uCAAsC,6CAA6C;AACnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA6B,2CAA2C;AACxE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AC5VA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B;AACA;AACA;AACA;;AAEA;AACA,4CAA2C,qDAAqD;AAChG;AACA,0EAAyE,mEAAmE;AAC5I;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;;;;;;;;;;AC1DA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;;AC1DA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sIAAqI;AACrI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC/BA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA8B,wCAAwC;AACtE,sCAAqC,+DAA+D;AACpG;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,yDAAyD;AACjF,WAAU;AACV;AACA;;AAEA;;;;;;;;;;ACzBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,oCAAoC;AACnE;AACA;;AAEA,uCAAsC,qBAAqB;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,gCAA+B,uCAAuC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,UAAU,oBAAoB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA,8CAA6C,qBAAqB;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA,gCAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC,iCAAgC,kBAAkB;AAClD,wCAAuC,iBAAiB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH,OAAM;AACN;AACA,OAAM;AACN,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;ACpYA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAoB,oBAAoB;AACxC;;AAEA;AACA,sBAAqB;AACrB;;AAEA,2DAA0D;AAC1D;AACA,UAAS;AACT;AACA,8DAA6D;AAC7D;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,8EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAmE;AACnE;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,+BAA8B,wDAAwD;AACtF,4BAA2B;AAC3B;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,0GAAyG;AACzG,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAa;AACb;AACA,MAAK;AACL;AACA;;AAEA;AACA,2BAA0B,wDAAwD;AAClF,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA,4CAA2C,4DAA4D;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT,MAAK;AACL,4BAA2B;AAC3B,MAAK;AACL,mBAAkB,0DAA0D;AAC5E;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;AC3RA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,mBAAkB,mCAAmC;AACrD;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA,EAAC;;AAED;AACA;AACA,uBAAsB,yBAAyB;AAC/C;AACA;AACA;AACA,GAAE;AACF,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,aAAY,yBAAyB;AACrC,GAAE;AACF;AACA;AACA,2BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,gCAA+B,qCAAqC;AACpE;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,MAAK;AACL;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,OAAM;AACN,MAAK;AACL,iCAAgC,0BAA0B;AAC1D;AACA;AACA,UAAS;AACT;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF,EAAC;;AAED;AACA;;;;;;;;;;AC9UA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;;;AAGA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,GAAE;AACF;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,4CAA2C,sCAAsC;AACjF,mEAAkE,iCAAiC;AACnG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA4C,uCAAuC;AACnF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mDAAkD,6CAA6C;AAC/F,4CAA2C,wDAAwD;AACnG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAgD,2CAA2C;AAC3F,qEAAoE,sCAAsC;AAC1G;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qBAAoB,iDAAiD;AACrE,oCAAmC,+BAA+B;AAClE,6BAA4B,+CAA+C;AAC3E;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,uBAAsB,kBAAkB;AACxC;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,wCAAwC;AAC7D,sCAAqC,4DAA4D;AACjG;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA,qCAAoC,gCAAgC;AACpE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;;;AAGA;AACA;;;;;;;;;;AC7RA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,qBAAoB,oBAAoB;AACxC;;AAEA;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,8DAA6D;AAC7D;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,8EAA6E;AAC7E;AACA;AACA,0CAAyC;AACzC;AACA,+CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,wEAAuE;AACvE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,iCAAgC;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA,eAAc,mEAAmE,oDAAoD,MAAM;AAC3I,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA,+BAA8B,wDAAwD;AACtF,4BAA2B;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qGAAoG;AACpG,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;;AAE3C;AACA,cAAa;AACb;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,2BAA0B,wDAAwD;AAClF,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAgG;AAChG,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT,MAAK;AACL,4BAA2B;AAC3B,MAAK;AACL,mBAAkB,0DAA0D;AAC5E;AACA;;AAEA;AACA;AACA,YAAW,OAAO,WAAW;AAC7B,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;ACvYA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAoB,oBAAoB;AACxC;;AAEA;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;;AAEA;;AAEA;AACA,mBAAkB,yDAAyD;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA,2BAA0B,wDAAwD;AAClF,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD;AACzD;AACA;;AAEA;AACA,UAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;ACtKA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;;;;;;;;AChBA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,MAAK;AACL,iBAAgB;AAChB;AACA,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC;AACA;AACA,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,QAAQ,sBAAsB;AACtC,SAAQ,8BAA8B;AACtC;AACA;AACA,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ;AACR;AACA;AACA,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,8BAA8B;AACtC,SAAQ,+BAA+B;AACvC,SAAQ,QAAQ,sBAAsB;AACtC,SAAQ,QAAQ,sBAAsB;AACtC,SAAQ;AACR;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA,OAAM;AACN;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,GAAE;;AAEF;;;AAGA;;AAEA;;;;;;;;;;ACjGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACXA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV,eAAc,QAAQ;AACtB,eAAc,MAAM;AACpB;;;AAGA;AACA;AACA;AACA,qDAAoD,4DAA4D;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO,aAAa;AAC/B,YAAW,QAAQ;AACnB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,UAAU,EAAE,GAAG,6BAA6B;AACzE;AACA;AACA,0BAAyB,yBAAyB;AAClD;AACA;AACA;AACA,aAAY;AACZ;AACA,SAAQ;AACR;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,qCAAqC;AAClF;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,qCAAqC;AAChF;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB,aAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,oBAAoB;AACvC;AACA,wBAAuB,0BAA0B;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,QAAQ;AACnB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAsB,kBAAkB;AACxC;AACA,uCAAsC,cAAc;;AAEpD;AACA;AACA;AACA;;AAEA;AACA,2BAA0B,kBAAkB;AAC5C;AACA,iDAAgD,kBAAkB;AAClE;AACA;AACA;AACA,2CAA0C,gBAAgB;AAC1D,2CAA0C,gBAAgB;AAC1D;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,QAAQ;AACnB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,oBAAoB;AACvC;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA6C,0BAA0B;AACvE;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA2B,yBAAyB;AACpD;AACA;;AAEA;AACA,gCAA+B,+BAA+B;AAC9D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,2BAA0B,QAAQ;AAClC;AACA,oCAAmC,eAAe;AAClD;AACA,MAAK;AACL;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB,aAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA,oBAAmB,mBAAmB;AACtC;AACA,wBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,uBAAuB;AAC1D,wCAAuC,mBAAmB;AAC1D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,+BAA8B,QAAQ;AACtC;AACA,wCAAuC,eAAe;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,2BAA0B,OAAO;AACjC,2BAA0B,OAAO;AACjC;AACA,oCAAmC,mCAAmC;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,+BAA8B,QAAQ;AACtC;AACA,yCAAwC,aAAa;AACrD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,2BAA0B,QAAQ;AAClC,2BAA0B,QAAQ;AAClC;AACA,sCAAqC,2BAA2B;AAChE;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;;;;;AC/gCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvBA;;AAEA;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,2DAA2D;AAC9D,IAAG,aAAa;AAChB;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,0CAA0C;AAC7C,IAAG,aAAa;AAChB;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,+BAA+B;AAClC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,aAAa;AAChB;AACA;;;;;;;;;;AChDA;;;AAGA;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,aAAa;AAChB;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG;AACH;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,qCAAqC;AACxC,IAAG,aAAa;AAChB;AACA;AACA,IAAG,aAAa,0CAA0C;AAC1D;AACA;;;;;;;;;;AClDA;;AAEA;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,aAAa;AAChB;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG;AACH;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,qCAAqC;AACxC,IAAG,aAAa;AAChB;AACA;AACA,IAAG,aAAa,0CAA0C;AAC1D;AACA;;;;;;;;;;AC9CA;;AAEA;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,aAAa;AAChB;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG;AACH;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,qCAAqC;AACxC,IAAG,aAAa;AAChB;AACA;AACA,IAAG,aAAa;AAChB;AACA;;;;;;;;;;ACpDA;;AAEA;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,aAAa;AAChB;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG;AACH;AACA;AACA,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,8BAA8B;AACjC,IAAG,qCAAqC;AACxC,IAAG,aAAa;AAChB;AACA;AACA,IAAG,aAAa;AAChB;AACA;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA,aAAY,wBAAwB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA","file":"develop.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 37d5f568c3304ced278d","/**\n * Main application entry point.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar app    = require('mag-app'),\n\tkeys    = require('stb-keys'),\n\t// router = require('./stb/router'),\n\n\t// stb = require('./modules/gstb.wrapper'),\n\n\tlang = require('../../config/lang'),\n\tconfig = require('../../config/app'),\n\n\texitModal, lastFocusedComponent,\n\tloader;\n\n/*\napp.data.windowId = stbWebWindow.windowId();\napp.data.isPortal = app.data.windowId === 1;*/\n\n\nfunction initPages () {\n\tvar metrics = require('./metrics'),\n\t\tnewControl = [\n\t\t\t'AuraHD2', 'AuraHD3', 'AuraHD8', 'MAG254', 'MAG275', 'MAG276', 'WR320'\n\t\t].indexOf(window.top.gSTB.GetDeviceModelExt()) !== -1,\n\t\tbutton;\n\n\n\tmetrics.availHeight = metrics.height - (metrics.availTop + metrics.availBottom);\n\tmetrics.availWidth  = metrics.width - (metrics.availLeft + metrics.availRight);\n\n\t// provide global access\n\tif ( !app.data ) {\n\t\tapp.data = {};\n\t}\n\tapp.data.metrics = metrics;\n\n\tif ( require('./modules/api/client').token ) {\n\t\tapp.data.metrics.mainMenuSize -= 2;\n\t}\n\tapp.pages = {\n\t\t// init: require('./pages/init'),\n\t\t// player: require('./pages/player'),\n\t\tmain: require('./pages/main'),\n\t\tsearch: require('./pages/search')//,\n\t\t// login: require('./pages/login')\n\t};\n\n\t// router.pages.forEach(function ( page ) {\n\t// \tpage.emit('load');\n\t// });\n\n\t// router.pages.forEach(function ( page ) {\n\t// \tpage.emit('load');\n\t// });\n\n\texitModal = new (require('./modules/ui/modal.message'))({\n\t\t$node: document.getElementById('exitMessage'),\n\t\tevents: {\n\t\t\tkeydown: function ( event ) {\n\t\t\t\tif ( event.code === keys.ok ) {\n\t\t\t\t\tapp.quit();\n\t\t\t\t} else if ( event.code === keys.back || event.code === keys.exit ) {\n\t\t\t\t\tevent.stop = true;\n\t\t\t\t\texitModal.hide();\n\t\t\t\t\t// exitModal.$node.style.visibility = 'hidden';\n\t\t\t\t\tlastFocusedComponent.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\texitModal.$body.classList.add('modalExit');\n\t// exitModal.$node.style.visibility = 'hidden';\n\texitModal.$header.innerHTML  = gettext('Exit the app?');\n\texitModal.$content.innerHTML = '';\n\texitModal.$footer.innerHTML = '';\n\texitModal.$footer.appendChild(button = document.createElement('div'));\n\tbutton.innerText = gettext('Ok');\n\tbutton.className = 'btn confirm' + (newControl ? '' : ' old');\n\texitModal.$footer.appendChild(button = document.createElement('div'));\n\tbutton.className = 'btn back' + (newControl ? '' : ' old');\n\tbutton.innerText = gettext('Cancel');\n\t// exitModal.$footer.innerHTML  = '';\n\n\n\tif ( app.params.search ) {\n\t\tapp.route(app.pages.search, {search: app.params.search});\n\t} else {\n\t\tif ( app.params.channelId ) {\n\t\t\tapp.route(app.pages.main, {channel: {id: app.params.channelId, noBack: true}});\n\t\t} else {\n\t\t\tapp.route(app.pages.main);\n\t\t}\n\n\t}\n\n\tapp.ready();\n\t// router.navigate('pm');\n\t// window.volumeWidget.classList.add('ready');\n\n\tloader = require('./components/loader');\n}\n\napp.quit = function () {\n\tcore.storage.setItem(config.settingsFile, JSON.stringify(app.settings));\n\t// if ( app.player ) {\n\t// \tapp.player.stop();\n\t// }\n\tapp.exit();\n\t//window.core.call('stop');\n\t// if ( window.parent !== window ) {\n\t// \tif ( router.current.id === 'pp' ) {\n\t// \t\trouter.back();\n\t// \t}\n\t// \tapp.hide();\n\t// } else {\n\t// \twindow.location.href = require('stb-referrer')() || 'file:///home/web/services.html';\n\t// }\n};\n\n\napp.reload = function () {\n\tcore.storage.setItem(config.settingsFile, JSON.stringify(app.settings));\n\twindow.location.reload();\n\tapp.emit('load');\n};\n\n\nif ( AJAX_DEBUG ) {\n\t// enable colors in console\n\trequire('tty-colors');\n\n\twindow.dump = function ( data, title ) {\n\t\t//var type = Object.prototype.toString.call(data).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n        //\n\t\t//// prepare\n\t\t//if ( data instanceof Object || Array.isArray(data) ) {\n\t\t//\t// complex object\n\t\t//\tdata = data.nodeName ? data.outerHTML : JSON.stringify(data, null, 4);\n\t\t//}\n\t\t//// combine all together and print result\n\t\t//setTimeout(function () {\n\t\t//\tgSTB.Debug((type === 'error' ? type.red : type.green) + '\\t' + (title ? title.bold + ':\\t'.green : '') + data);\n\t\t//}, 10000);\n\t};\n}\n\n\nif ( LOGGING ) {\n\tapp.data.log = {\n\t\t'youtube-dl': []\n\t};\n\n\tapp.sendLog = function () {\n\t\t//var xhr = new XMLHttpRequest();\n        //\n\t\t//xhr.open('POST', 'http://tubb.zz.mu/');\n\t\t//xhr.setRequestHeader('cache-control', 'no-cache');\n        //\n\t\t//xhr.send(JSON.stringify(app.data.log));\n\t\t//app.data.log = {\n\t\t//\t'youtube-dl': []\n\t\t//};\n\t\t//window.logClient = xhr;\n\t};\n}\n\n\napp.addListeners({\n\t// all resources are loaded\n\tload: function load () {\n\t\tvar l10n = require('./modules/util/l10n'),\n\t\t\tlang = require('../../config/lang'),\n\t\t\tprop, set;\n\n\t\tapp.urlParser = core.plugins.youtubeDL;\n\n\t\ttry {\n\t\t\tset = core.storage.getItem(config.settingsFile);\n\t\t\tif ( set ) {\n\t\t\t\tapp.settings = JSON.parse(set);\n\t\t\t} else {\n\t\t\t\tfor ( prop in config.defaultSettings ) {\n\t\t\t\t\tif ( app.settings[prop] ) {\n\t\t\t\t\t\tapp.settings[prop] = config.defaultSettings[prop];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tapp.settings = config.defaultSettings;\n\t\t\t\tcore.storage.setItem(config.settingsFile, JSON.stringify(app.settings));\n\t\t\t}\n\n\t\t} catch ( e ) {\n\t\t\tapp.settings = false;\n\t\t}\n\t\tif ( !app.settings ) {\n\t\t\tapp.settings = config.defaultSettings;\n\t\t\tcore.storage.setItem(config.settingsFile, JSON.stringify(app.settings));\n\t\t}\n\t\tfor ( prop in config.defaultSettings ) {\n\t\t\tif ( app.settings[prop] === undefined ) {\n\t\t\t\tapp.settings[prop] = config.defaultSettings[prop];\n\t\t\t}\n\t\t}\n\n\t\tif ( lang.languages.indexOf(app.settings.keyboardLanguage) === -1 ) {\n\t\t\tapp.settings.keyboardLanguage = 0;\n\t\t}\n\n\t\tapp.params = require('./modules/tools/parse.query')(location.search.substring(1));\n\n\t\tif ( app.params.language ) {\n\t\t\tapp.settings.languageOverwrite = 1;\n\t\t\tapp.settings.language = app.params.language;\n\t\t}\n\n\t\trequire('spa-gettext').load({\n\t\t\tname: app.settings.language || core.environment.language || 'en'\n\t\t}, function () {\n\t\t\tvar left;\n\n\t\t\tapp.languageIndex = l10n.languageIndex;\n\t\t\tapp.settings.language = lang.languages[app.languageIndex];\n\t\t\tdocument.documentElement.dir = lang.directions[app.languageIndex];\n\t\t\t// set pages\n\t\t\tif ( document.documentElement.dir === 'rtl' ) {\n\t\t\t\tleft = keys.left;\n\t\t\t\tkeys.left = keys.right;\n\t\t\t\tkeys.right = left;\n\t\t\t}\n\n\t\t\tinitPages();\n\t\t});\n\n\t\tif ( app.settings.languageOverwrite ) {\n\t\t\tl10n.setLang(app.settings.language);\n\t\t} else {\n\t\t\tapp.settings.language = core.environment.language || 'en';\n\t\t}\n\t},\n\n\tunload: function () {\n\t\tcore.storage.setItem(config.settingsFile, JSON.stringify(app.settings));\n\t\t// if ( app.player ) {\n\t\t// \tapp.player.stop();\n\t\t// }\n\t},\n\n\tkeydown: function ( event ) {\n\t\tif ( event.stop ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( event.code === keys.back ) {\n\t\t\tif ( loader && !loader.visible ) {\n\t\t\t\tlastFocusedComponent = app.activePage.activeComponent;\n\t\t\t\texitModal.show();\n\t\t\t\texitModal.focus();\n\t\t\t} else {\n\t\t\t\tapp.quit();\n\t\t\t}\n\t\t}\n\t}\n});\n\n\n\n\n// new way of string handling\n// all strings are in UTF-16\n// stb.setNativeStringMode(true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/main.js\n// module id = 0\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar app = require('./lib/main');\n\n\nmodule.exports = app;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mag-app/index.js\n// module id = 1\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app    = require('spa-app/lib/core'),\n    events = require('spa-app/lib/events');\n\n\n// get instance\nwindow.core = window.parent.getCoreInstance(window, app);\n\n// shims\nrequire('stb-shim-classlist');\n\n// apply geometry\nrequire('stb-app/lib/metrics');\n\n// load sdk css\nrequire('stb-app/lib/css')('sdk');\n\n// load theme css\nrequire('./css');\n\n// load app css\nrequire('stb-app/lib/css')('app');\n\n/**\n * Specify platform name\n *\n * @type {string}\n */\napp.platform = 'mag';\n\n/**\n * Show app.\n */\napp.ready = function () {\n    // if ( this.events['show'] ) {\n    //     this.emit('show');\n    // }\n    window.core.call('app:ready');\n};\n\n\n/**\n * Exit from app.\n * Destroy all application instance.\n * If callback function provided, and callback returns boolean 'true', application will stay alive.\n *\n * @fires module:/stb/app#exit\n */\napp.exit = function () {\n    if ( app.events['exit'] ) {\n        app.emit('exit');\n    }\n\n    core.call('exit');\n};\n\n\nevents.load = function ( event ) {\n    //window.core = window.parent.getCoreInstanse(window, app);\n    document.body.setAttribute('platform', app.platform);\n\n    if ( core.ready ) {\n        if ( app.events['load'] ) {\n            // notify listeners\n            app.emit('load', {});\n        }\n    } else {\n        core.once('load', function () {\n            //core.ready = true;\n            if ( app.events[event.type] ) {\n                // notify listeners\n                app.emit(event.type, event);\n            }\n        });\n    }\n};\n\n\n// activate development mechanisms and tools\nif ( DEVELOP ) {\n    //require('stb-develop');\n    require('./develop/main');\n} else {\n    // disable context menu\n    events.contextmenu = function ( event ) {\n        event.preventDefault();\n    };\n}\n\n\n//apply DOM events\nObject.keys(events).forEach(function ( name ) {\n    window.addEventListener(name, events[name]);\n});\n\n\n// new way of string handling\n// all strings are in UTF-16\n// since stbapp 2.18\n// if ( window.gSTB && gSTB.SetNativeStringMode ) {\n//     /* eslint new-cap: 0 */\n//     gSTB.SetNativeStringMode(true);\n// }\n\n// public\nmodule.exports = app;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mag-app/lib/main.js\n// module id = 2\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter'),\n    parse   = require('cjs-query').parse,\n    app     = new Emitter();\n\n\n/**\n * Make the given inactive/hidden page active/visible.\n * Pass some data to the page and trigger the corresponding event.\n *\n * @param {Page} page item to show\n * @param {*} [data] data to send to page\n *\n * @return {boolean} operation status\n */\nfunction showPage ( page, data ) {\n    // page available and can be hidden\n    if ( page && !page.active ) {\n        // apply visibility\n        page.$node.classList.add('active');\n        page.active = true;\n        app.activePage = page;\n\n        debug.info('show component ' + page.name + '#' + page.id, null, {\n            tags: ['show', 'component', page.name, page.id]\n        });\n        //console.log('component ' + page.name + '.' + page.id + ' show', 'green');\n\n        // there are some listeners\n        if ( page.events['show'] ) {\n            // notify listeners\n            page.emit('show', {data: data});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n}\n\n\n/**\n * Make the given active/visible page inactive/hidden and trigger the corresponding event.\n *\n * @param {Page} page item to hide\n *\n * @return {boolean} operation status\n */\nfunction hidePage ( page ) {\n    // page available and can be hidden\n    if ( page && page.active ) {\n        // apply visibility\n        page.$node.classList.remove('active');\n        page.active  = false;\n        app.activePage = null;\n\n        debug.info('hide component ' + page.name + '#' + page.id, null, {\n            tags: ['hide', 'component', page.name, page.id]\n        });\n        //console.log('component ' + page.name + '.' + page.id + ' hide', 'grey');\n\n        // there are some listeners\n        if ( page.events['hide'] ) {\n            // notify listeners\n            page.emit('hide');\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n}\n\n\n// url request params\napp.query = parse(document.location.search.substring(1));\n\n\n// global application configuration\n// in config.js file in js root\napp.config = require('app:config');\n\n\n// the only visible page\napp.activePage = null;\n\n\n/**\n * Browse to a given page.\n * Do nothing if the link is invalid. Otherwise hide the current, show new and update the \"previous\" link.\n *\n * @param {Page} pageTo instance of the page to show\n * @param {*} [data] options to pass to the page on show\n *\n * @return {boolean} operation status\n */\napp.route = function ( pageTo, data ) {\n    var pageFrom = app.activePage;\n\n    if ( DEVELOP ) {\n        //if ( router.pages.length > 0 ) {\n        if ( !pageTo || typeof pageTo !== 'object' ) {\n            throw new Error(__filename + ': wrong pageTo type');\n        }\n        if ( !('active' in pageTo) ) {\n            throw new Error(__filename + ': missing field \"active\" in pageTo');\n        }\n        //}\n    }\n\n    // valid not already active page\n    if ( pageTo && !pageTo.active ) {\n        //debug.log('router.navigate: ' + pageTo.id, pageTo === pageFrom ? 'grey' : 'green');\n        debug.info('app route: ' + pageTo.name + '#' + pageTo.id, null, {tags: ['route', pageTo.name, pageTo.id]});\n\n        // update url\n        //location.hash = this.stringify(name, data);\n\n        // apply visibility\n        hidePage(app.activePage);\n        showPage(pageTo, data);\n\n        // there are some listeners\n        if ( this.events['route'] ) {\n            // notify listeners\n            this.emit('route', {from: pageFrom, to: pageTo});\n        }\n\n        // store\n        //this.history.push(pageTo);\n\n        return true;\n    }\n\n    //debug.warn('invalid page to route: ' + pageTo.id, null, {tags: ['route', 'page', pageTo.id]});\n    console.warn('invalid page to route: ' + pageTo.id);\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = app;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-app/lib/core.js\n// module id = 3\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Base Events Emitter implementation.\n *\n * @see http://nodejs.org/api/events.html\n * @constructor\n *\n * @example\n * var emitter = new Emitter();\n */\nfunction Emitter () {\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // if ( DEVELOP ) {\n    //     if ( typeof this !== 'object' ) { throw new Error(__filename + ': must be constructed via new'); }\n    // }\n\n    /**\n     * Inner hash table for event names and linked callbacks.\n     * Manual editing should be avoided.\n     *\n     * @member {Object.<string, function[]>}\n     *\n     * @example\n     * {\n     *     click: [\n     *         function click1 () { ... },\n     *         function click2 () { ... }\n     *     ],\n     *     keydown: [\n     *         function () { ... }\n     *     ]\n     * }\n     **/\n    this.events = {};\n}\n\n\nEmitter.prototype = {\n    /**\n     * Bind an event to the given callback function.\n     * The same callback function can be added multiple times for the same event name.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.addListener('click', function ( data ) { ... });\n     * // one more click handler\n     * emitter.addListener('click', function ( data ) { ... });\n     */\n    addListener: function ( name, callback ) {\n        console.assert(arguments.length === 2, 'wrong arguments number');\n        console.assert(typeof name === 'string', 'wrong name type');\n        console.assert(name.length > 0, 'empty name');\n        console.assert(typeof callback === 'function', 'callback should be a function');\n\n        // if ( DEVELOP ) {\n        //     if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n        //     if ( typeof name !== 'string' || name.length === 0 ) { throw new Error(__filename + ': wrong or empty name'); }\n        //     if ( typeof callback !== 'function' ) { throw new Error(__filename + ': wrong callback type'); }\n        // }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(callback);\n    },\n\n\n    /**\n     * Add a one time listener for the event.\n     * This listener is invoked only the next time the event is fired, after which it is removed.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.once('click', function ( data ) { ... });\n     */\n    once: function ( name, callback ) {\n        // current execution context\n        var self = this;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n        }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(function onceWrapper () {\n            self.removeListener(name, onceWrapper);\n            callback.apply(self, arguments);\n        });\n    },\n\n\n    /**\n     * Apply multiple listeners at once.\n     *\n     * @param {Object} callbacks event names with callbacks\n     *\n     * @example\n     * emitter.addListeners({\n     *     click: function ( data ) {},\n     *     close: function ( data ) {}\n     * });\n     */\n    addListeners: function ( callbacks ) {\n        var name;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof callbacks !== 'object' ) {\n                throw new Error(__filename + ': wrong callbacks type');\n            }\n            if ( Object.keys(callbacks).length === 0 ) {\n                throw new Error(__filename + ': no callbacks given');\n            }\n        }\n\n        for ( name in callbacks ) {\n            if ( callbacks.hasOwnProperty(name) ) {\n                this.addListener(name, callbacks[name]);\n            }\n        }\n    },\n\n\n    /**\n     * Remove all instances of the given callback.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to remove\n     *\n     * @example\n     * emitter.removeListener('click', func1);\n     */\n    removeListener: function ( name, callback ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n            if ( this.events[name] && !Array.isArray(this.events[name]) ) {\n                throw new Error(__filename + ': corrupted inner data');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( this.events[name] ) {\n            // rework the callback list to exclude the given one\n            this.events[name] = this.events[name].filter(function callbacksFilter ( fn ) { return fn !== callback; });\n            // event has no more callbacks so clean it\n            if ( this.events[name].length === 0 ) {\n                // as if there were no listeners at all\n                this.events[name] = undefined;\n            }\n        }\n    },\n\n\n    /**\n     * Remove all callbacks for the given event name.\n     * Without event name clears all events.\n     *\n     * @param {string} [name] event identifier\n     *\n     * @example\n     * emitter.removeAllListeners('click');\n     * emitter.removeAllListeners();\n     *\n     * @deprecated\n     */\n    /*removeAllListeners: function ( name ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 0 && (typeof name !== 'string' || name.length === 0) ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // check input\n        if ( arguments.length === 0 ) {\n            // no arguments so remove everything\n            this.events = {};\n        } else if ( name ) {\n            if ( DEVELOP ) {\n                if ( this.events[name] ) { throw new Error(__filename + ': event is not removed'); }\n            }\n\n            // only name is given so remove all callbacks for the given event\n            // but object structure modification should be avoided\n            this.events[name] = undefined;\n        }\n    },*/\n\n\n    /**\n     * Execute each of the listeners in the given order with the supplied arguments.\n     *\n     * @param {string} name event identifier\n     *\n     * @example\n     * emitter.emit('init');\n     * emitter.emit('click', {src: panel1, dst: panel2});\n     * emitter.emit('load', error, data);\n     *\n     * // it's a good idea to emit event only when there are some listeners\n     * if ( this.events['click'] ) {\n     *     this.emit('click', {event: event});\n     * }\n     */\n    emit: function ( name ) {\n        var event = this.events[name],\n            index;\n\n        if ( DEVELOP ) {\n            if ( arguments.length < 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( event ) {\n            if ( DEVELOP ) {\n                if ( !Array.isArray(event) ) {\n                    throw new Error(__filename + ': wrong event type');\n                }\n            }\n\n            for ( index = 0; index < event.length; index++ ) {\n                if ( DEVELOP ) {\n                    if ( typeof event[index] !== 'function' ) {\n                        throw new Error(__filename + ': wrong event callback type');\n                    }\n                }\n\n                // invoke the callback with parameters\n                event[index].apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n    }\n};\n\n\n// correct constructor name\nEmitter.prototype.constructor = Emitter;\n\n\n// public\nmodule.exports = Emitter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cjs-emitter/index.js\n// module id = 4\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nmodule.exports = {\n    /**\n     * Parse the given location search string into object.\n     *\n     * @param {string} query string to parse\n     *\n     * @return {Object.<string, string>} result data\n     */\n    parse: function ( query ) {\n        var data = {};\n\n        // parse and fill the data\n        query.split('&').forEach(function ( part ) {\n            part = part.split('=');\n            // valid number on params\n            if ( part.length === 2 ) {\n                data[part[0]] = decodeURIComponent(part[1]);\n            }\n        });\n\n        return data;\n    },\n\n\n    /**\n     * Make uri query part in a string form.\n     *\n     * @param {Object} params data to stringify\n     *\n     * @return {string} query string\n     */\n    stringify: function ( params ) {\n        var data = [];\n\n        Object.keys(params).forEach(function ( name ) {\n            data.push(name + '=' + encodeURIComponent(params[name]));\n        });\n\n        return data.join('&');\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cjs-query/index.js\n// module id = 5\n// module chunks = 0","/**\n * Global application configuration.\n * Can store run-time options, API urls, paths, execution flags and so on.\n * Automatically loaded on application initialization and available as app.config.\n */\n\n'use strict';\n\n// public\nmodule.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/config.js\n// module id = 6\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('./core');\n\n\n// public\nmodule.exports = {\n    DOMContentLoaded: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // there are some listeners\n        if ( app.events['dom'] ) {\n            // notify listeners\n            app.emit('dom', event);\n            //console.log('DOMContentLoaded');\n        }\n    },\n\n    /**\n     * The load event is fired when a resource and its dependent resources have finished loading.\n     *\n     * Control flow:\n     *   1. Global handler.\n     *   2. Each page handler.\n     *   3. Application DONE event.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/load\n     *\n     * @param {Event} event generated object with event data\n     */\n    load: function ( event ) {\n        //var path;\n\n        //debug.event(event);\n        //console.log(event);\n\n        // time mark\n        //app.data.time.load = event.timeStamp;\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // global handler\n        // there are some listeners\n        if ( app.events[event.type] ) {\n            // notify listeners\n            app.emit(event.type, event);\n        }\n\n        // local handler on each page\n        /*router.pages.forEach(function forEachPages ( page ) {\n         debug.log('component ' + page.constructor.name + '.' + page.id + ' load', 'green');\n\n         // there are some listeners\n         if ( page.events[event.type] ) {\n         // notify listeners\n         page.emit(event.type, event);\n         }\n         });*/\n\n        // time mark\n        //app.data.time.done = +new Date();\n\n        // everything is ready\n        // and there are some listeners\n        // if ( app.events['done'] ) {\n        //     // notify listeners\n        //     app.emit('done', event);\n        // }\n    },\n\n    /**\n     * The unload event is fired when the document or a child resource is being unloaded.\n     *\n     * Control flow:\n     *   1. Each page handler.\n     *   2. Global handler.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/unload\n     *\n     * @param {Event} event generated object with event data\n     */\n    unload: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // global handler\n        // there are some listeners\n        if ( app.events[event.type] ) {\n            // notify listeners\n            app.emit(event.type, event);\n        }\n\n        // local handler on each page\n        /*router.pages.forEach(function forEachPages ( page ) {\n         debug.log('component ' + page.constructor.name + '.' + page.id + ' unload', 'red');\n\n         // there are some listeners\n         if ( page.events[event.type] ) {\n         // notify listeners\n         page.emit(event.type, event);\n         }\n         });*/\n    },\n\n    /**\n     * The error event is fired when a resource failed to load.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/error\n     *\n     * @param {Event} event generated object with event data\n     */\n    error: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n        //debug.fail('app event: ' + event.message, event, {tags: [event.type, 'event']});\n        console.error('app event: ' + event.message, event);\n    },\n\n    /**\n     * The keydown event is fired when a key is pressed down.\n     * Set event.stop to true in order to prevent bubbling.\n     *\n     * Control flow:\n     *   1. Current active component on the active page.\n     *   2. Current active page itself.\n     *   3. Application.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/keydown\n     *\n     * @param {Event} event generated object with event data\n     */\n    keydown: function ( event ) {\n        var page = app.activePage,\n            eventLocal = {\n                code: event.keyCode,\n                stop: false\n            },\n            activeComponent;\n\n        if ( DEVELOP ) {\n            if ( !page ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        // filter phantoms\n        //if ( event.keyCode === 0 ) { return; }\n\n        // combined key code\n        //event.code = event.keyCode;\n\n        // apply key modifiers\n        if ( event.ctrlKey )  { eventLocal.code += 'c'; }\n        if ( event.altKey )   { eventLocal.code += 'a'; }\n        if ( event.shiftKey ) { eventLocal.code += 's'; }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type + ' - ' + eventLocal.code, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type + ' - ' + eventLocal.code, event);\n\n        // page.activeComponent can be set to null in event handles\n        activeComponent = page.activeComponent;\n\n        // current component handler\n        if ( activeComponent && activeComponent !== page ) {\n            // component is available and not page itself\n            if ( activeComponent.events[event.type] ) {\n                // there are some listeners\n                activeComponent.emit(event.type, eventLocal, event);\n            }\n\n            // todo: bubble event recursively\n            // bubbling\n            if (\n                !eventLocal.stop &&\n                activeComponent.propagate &&\n                activeComponent.parent &&\n                activeComponent.parent.events[event.type]\n            ) {\n                activeComponent.parent.emit(event.type, eventLocal, event);\n            }\n        }\n\n        // page handler\n        if ( !eventLocal.stop ) {\n            // not prevented\n            if ( page.events[event.type] ) {\n                // there are some listeners\n                page.emit(event.type, eventLocal, event);\n            }\n\n            // global app handler\n            if ( !event.stop ) {\n                // not prevented\n                if ( app.events[event.type] ) {\n                    // there are some listeners\n                    app.emit(event.type, eventLocal, event);\n                }\n            }\n        }\n\n        //// suppress non-printable keys in stb device (not in your browser)\n        //if ( app.data.host && keyCodes[event.code] ) {\n        //    event.preventDefault();\n        //}\n    },\n\n    /**\n     * The keypress event is fired when press a printable character.\n     * Delivers the event only to activeComponent at active page.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/keypress\n     *\n     * @param {Event} event generated object with event data\n     * @param {string} event.char entered character\n     */\n    keypress: function ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( page === null || page === undefined ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type + ' - ' + event.key, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type + ' - ' + event.key, event);\n\n        // current component handler\n        if ( page.activeComponent && page.activeComponent !== page ) {\n            // component is available and not page itself\n            if ( page.activeComponent.events[event.type] ) {\n                // there are some listeners\n                page.activeComponent.emit(event.type, event);\n            }\n        }\n    },\n\n    /**\n     * The click event is fired when a pointing device button (usually a mouse button) is pressed and released on a single element.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/click\n     *\n     * @param {Event} event generated object with event data\n     */\n    /*click: function ( event ) {\n     //debug.event(event);\n     //console.log(event);\n     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n     },*/\n\n    /**\n     * The contextmenu event is fired when the right button of the mouse is clicked (before the context menu is displayed),\n     * or when the context menu key is pressed (in which case the context menu is displayed at the bottom left of the focused\n     * element, unless the element is a tree, in which case the context menu is displayed at the bottom left of the current row).\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/contextmenu\n     *\n     * @param {Event} event generated object with event data\n     */\n    // contextmenu: function ( event ) {\n    //     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n    //\n    //     if ( !DEVELOP ) {\n    //         // disable right click in release mode\n    //         event.preventDefault();\n    //     }\n    // },\n\n    /*contextmenu: function ( event ) {\n     //var kbEvent = {}; //Object.create(document.createEvent('KeyboardEvent'));\n\n     //debug.event(event);\n     //console.log(event);\n     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n\n     //kbEvent.type    = 'keydown';\n     //kbEvent.keyCode = 8;\n\n     //debug.log(kbEvent.type);\n\n     //globalEventListenerKeydown(kbEvent);\n     //var event = document.createEvent('KeyboardEvent');\n     //event.initEvent('keydown', true, true);\n\n     //document.dispatchEvent(kbEvent);\n\n     if ( !DEVELOP ) {\n     // disable right click in release mode\n     event.preventDefault();\n     }\n     },*/\n\n    /**\n     * The wheel event is fired when a wheel button of a pointing device (usually a mouse) is rotated.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/wheel\n     *\n     * @param {Event} event generated object with event data\n     */\n    mousewheel: function ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( page === null || page === undefined ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // current component handler\n        if ( page.activeComponent && page.activeComponent !== page ) {\n            // component is available and not page itself\n            if ( page.activeComponent.events[event.type] ) {\n                // there are some listeners\n                page.activeComponent.emit(event.type, event);\n            }\n        }\n\n        // page handler\n        if ( !event.stop ) {\n            // not prevented\n            if ( page.events[event.type] ) {\n                // there are some listeners\n                page.emit(event.type, event);\n            }\n        }\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-app/lib/events.js\n// module id = 7\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint-disable */\n\n'use strict';\n\n\nif ( !document.documentElement.classList ) {\n    var prototype = Array.prototype,\n        indexOf   = prototype.indexOf,\n        slice     = prototype.slice,\n        push      = prototype.push,\n        splice    = prototype.splice,\n        join      = prototype.join;\n\n    window.DOMTokenList = function ( el ) {\n        this._element = el;\n        if (el.className !== this._classCache) {\n            this._classCache = el.className;\n            if (!this._classCache) { return; }\n            var classes = this._classCache.replace(/^\\s+|\\s+$/g,'').split(/\\s+/),\n                i;\n            for (i = 0; i < classes.length; i++) {\n                push.call(this, classes[i]);\n            }\n        }\n    };\n\n    window.DOMTokenList.prototype = {\n        add: function ( token ) {\n            if(this.contains(token)) { return; }\n            push.call(this, token);\n            this._element.className = slice.call(this, 0).join(' ');\n        },\n\n        contains: function ( token ) {\n            return indexOf.call(this, token) !== -1;\n        },\n\n        item: function ( index ) {\n            return this[index] || null;\n        },\n\n        remove: function ( token ) {\n            var i = indexOf.call(this, token);\n            if (i === -1) {\n                return;\n            }\n            splice.call(this, i, 1);\n            this._element.className = slice.call(this, 0).join(' ');\n        },\n\n        toString: function () {\n            return join.call(this, ' ');\n        },\n\n        toggle: function ( token ) {\n            if (!this.contains(token)) {\n                this.add(token);\n            } else {\n                this.remove(token);\n            }\n            return this.contains(token);\n        }\n    };\n\n    Object.defineProperty(Element.prototype, 'classList', {\n        get: function () {\n            return new window.DOMTokenList(this);\n        }\n    });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-shim-classlist/index.js\n// module id = 8\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    metrics = require('app:metrics');\n\n\n// global link\napp.metrics = metrics[app.query.screenHeight] || metrics[screen.height] || metrics[720];\n\n// calculate and extend\napp.metrics.availHeight = app.metrics.height - (app.metrics.availTop  + app.metrics.availBottom);\napp.metrics.availWidth  = app.metrics.width  - (app.metrics.availLeft + app.metrics.availRight);\n\n\n// public\n//module.exports = app;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-app/lib/metrics.js\n// module id = 9\n// module chunks = 0","/**\n * Application geometry options for js/less.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n// public export\nmodule.exports = {\n\t480 : {\n\t\t// screen base dimension\n\t\theight: 480,\n\t\twidth : 720,\n\t\t// safe zone margins\n\t\tavailTop   : 24,\n\t\tavailBottom: 24,\n\t\tavailRight : 32,\n\t\tavailLeft  : 48,\n\t\tmainMenuSize: 8\n\t},\n\n\t576 : {\n\t\t// screen base dimension\n\t\theight: 576,\n\t\twidth : 720,\n\t\t// safe zone margins\n\t\tavailTop   : 24,\n\t\tavailBottom: 24,\n\t\tavailRight : 28,\n\t\tavailLeft  : 54,\n\t\tmainMenuSize: 10\n\t},\n\n\t720 : {\n\t\t// screen base dimension\n\t\theight: 720,\n\t\twidth : 1280,\n\t\t// safe zone margins\n\t\tavailTop   : 10,\n\t\tavailBottom: 10,\n\t\tavailRight : 10,\n\t\tavailLeft  : 10,\n\t\tmainMenuSize: 9\n\t},\n\n\t1080: {\n\t\t// screen base dimension\n\t\theight: 1080,\n\t\twidth : 1920,\n\t\t// safe zone margins\n\t\tavailTop   : 15,\n\t\tavailBottom: 15,\n\t\tavailRight : 15,\n\t\tavailLeft  : 15,\n\t\tmainMenuSize: 9\n\t}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/metrics.js\n// module id = 10\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('spa-app/lib/core');\n//    metrics = require('app:metrics'),\n//    linkCSS;\n\n\n// global link\n//app.metrics = metrics[app.query.screenHeight] || metrics[screen.height] || metrics[720];\n\n// calculate and extend\n//app.metrics.availHeight = app.metrics.height - (app.metrics.availTop  + app.metrics.availBottom);\n//app.metrics.availWidth  = app.metrics.width  - (app.metrics.availLeft + app.metrics.availRight);\n\n// // set max browser window size\n// window.moveTo(0, 0);\n// window.resizeTo(metrics.width, metrics.height);\n\n// load CSS file base on resolution\n/*linkCSS = document.createElement('link');\nlinkCSS.rel  = 'stylesheet';\nlinkCSS.href = 'css/' + (DEVELOP ? 'develop.' : 'release.') + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\ndocument.head.appendChild(linkCSS);*/\n\n\n// public\nmodule.exports = function ( name ) {\n    var link = document.createElement('link');\n\n    link.rel  = 'stylesheet';\n    link.href = 'css/' + (DEVELOP ? 'develop.' : 'release.') + name + '.' + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\n    document.head.appendChild(link);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-app/lib/css.js\n// module id = 11\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('spa-app/lib/core'),\n    //metrics = require('app:metrics'),\n    linkCSS;\n\n\n//window.core = window.parent.getCoreInstance(window, app);\n\n\nlinkCSS = document.createElement('link');\nlinkCSS.rel  = 'stylesheet';\nlinkCSS.href = window.core.theme.path + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\ndocument.head.appendChild(linkCSS);\n\n\n// public\nmodule.exports = linkCSS;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mag-app/lib/css.js\n// module id = 12\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar app = require('spa-app/lib/core');\n\n\n// shims\nrequire('stb-shim-bind');\nrequire('stb-shim-classlist');\nrequire('stb-shim-frame');\n\n// public app instance\nwindow.app = app;\n\n// all development tools placeholder\napp.develop = {\n    // use local storage from iframe or use stbStorage from top window\n    storage: window.localStorage || window.top.stbStorage\n};\n\n// execution environment\n// STB device or desktop browser\napp.host = !!(window.gSTB || (window.parent && window.parent.gSTB));\n\n// browser logging\nwindow.debug = require('spa-app/lib/develop/debug');\n// STB logging\n//window.debug = app.host ? require('./debug') : require('spa-develop/debug');\n\n// universal storage\n//window.localStorage = window.localStorage || window.stbStorage;\n\n//window.localStorage = window.stbStorage || window.parent.stbStorage;\n\n// apply screen size, position, margins and styles\n// app.setScreen(\n//     app.metrics[localStorage.getItem('screen.height')] ||\n//     app.metrics[screen.height] ||\n//     app.metrics[720]\n// );\n\n// inherit SPA tools\nrequire('spa-app/lib/develop/wamp');\nrequire('spa-app/lib/develop/events');\nrequire('spa-app/lib/develop/hooks');\nrequire('spa-app/lib/develop/static');\n\n// STB tools\nif ( app.host ) {\n    // web inspector\n    //require('./weinre');\n}\n\n//require('./proxy');\nrequire('stb-app/lib/develop/events');\n\n// the application itself\n// \"js\" directory is resolved by webpack to\n// path.join(process.env.PATH_ROOT, process.env.PATH_SRC, 'js')\n//require('js/main');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mag-app/lib/develop/main.js\n// module id = 13\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint-disable */\n\n'use strict';\n\n\nif ( !Function.prototype.bind ) {\n    Function.prototype.bind = function ( oThis ) {\n        if ( typeof this !== 'function' ) {\n            // closest thing possible to the ECMAScript 5\n            // internal IsCallable function\n            throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n        }\n\n        var aArgs = Array.prototype.slice.call(arguments, 1),\n            fToBind = this,\n            fNOP = function () {},\n            fBound = function () {\n                return fToBind.apply(this instanceof fNOP && oThis\n                        ? this\n                        : oThis,\n                    aArgs.concat(Array.prototype.slice.call(arguments)));\n            };\n\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n\n        return fBound;\n    };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-shim-bind/index.js\n// module id = 14\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint-disable */\n\n'use strict';\n\n\nif ( !window.requestAnimationFrame ) {\n    // shim layer with setTimeout fallback\n    window.requestAnimationFrame =\n        window.mozRequestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.msRequestAnimationFrame ||\n        function ( callback ) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-shim-frame/index.js\n// module id = 15\n// module chunks = 0","/**\n * Logger.\n *\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n/* eslint new-cap: 0 */\n\n'use strict';\n\nvar //host      = require('../app').data.host,\n    app       = require('../core'),\n    //util      = require('util'),\n    timeMarks = {},  // storage for timers (debug.time, debug.timeEnd)\n    buffer    = [],\n    debug     = {},\n    links     = {},\n    linkId    = 0;\n\n\n// debug.config = {\n//     depth: 3\n// };\n\n\n/**\n * Check condition and warn if not match.\n *\n * @param {boolean} condition should be true if okay\n * @param {string} title description of the problem\n */\ndebug.assert = function ( condition, title ) {\n    if ( !condition ) {\n        console.assert(condition, title);\n    }\n};\n\n\ndebug.links = links;\n\n\nfunction prepareConfig ( config ) {\n    config = config || {};\n\n    config.tags = config.tags || [];\n    config.tags.push('target');\n\n    return config;\n}\n\n\nfunction wrapData ( data ) {\n    var result = {\n        type: typeof data\n    };\n\n    if ( data && result.type === 'object' ) {\n        result.link = linkId++;\n        links[result.link] = data;\n\n        if ( data.constructor && data.constructor.name ) {\n            result.name = data.constructor.name;\n        }\n\n        if ( 'length' in data ) {\n            result.size = data.length;\n        }\n    } else {\n        result.value = data;\n    }\n\n    return result;\n}\n\n\n// todo: remove setTimeout hack\nsetTimeout(function () {\n    if ( app.develop.wamp ) {\n        app.develop.wamp.addListener('getLinkData', function ( params, callback ) {\n            var link = links[params.id],\n                data = {};\n\n            console.log('incoming getLinkData', params);\n            //console.log(link);\n\n            if ( link ) {\n                Object.keys(link).forEach(function ( name ) {\n                    data[name] = wrapData(link[name]);\n                });\n            }\n\n            callback(null, data);\n        });\n    }\n}, 1000);\n\n\n/**\n * Print a plain colored string.\n *\n * @param {*} message data to output\n * @param {string} [color='black'] colour to set\n */\ndebug.log = function ( info, data, config ) {\n    // message = (message + '') || '(empty message)';\n\t//\n    // console.log('%c%s', 'color:' + (color || 'black'), message);\n\n    // sanitize\n    config = config || {};\n\n    config.info = info;\n    //config.data = data ? util.inspect(data, {depth: debug.config.depth}) : null;\n    config.data = data !== undefined ? wrapData(data) : undefined;\n    //config.data = wrapData(data);\n    config.time = Date.now();\n    config.targetId = app.query.wampTargetId;\n    //config.tags = config.tags.sort();\n\n    if ( app.develop.wamp && app.develop.wamp.open ) {\n        if ( buffer.length ) {\n            buffer.forEach(function ( bufItem ) {\n                if ( app.develop.wamp ) {\n                    app.develop.wamp.call('sendMessage', bufItem);\n                }\n            });\n            buffer = [];\n        }\n\n        if ( app.develop.wamp ) {\n            app.develop.wamp.call('sendMessage', config);\n        }\n    } else {\n        buffer.push(config);\n    }\n};\n\n\n/**\n * Print the given var with caption.\n *\n * @param {*} data data to output\n * @param {string} [title] optional caption\n */\ndebug.info = function ( info, data, config ) {\n    /*var type = Object.prototype.toString.call(data).match(/\\s([a-zA-Z]+)/)[1].toLowerCase(),\n        args;\n\n    args = ['color:' + (type === 'error' ? 'red' : 'green'), type];\n    if ( title ) {\n        args.unshift('%c%s\\t%c%s\\t');\n        args.push('color:grey');\n        args.push(title);\n    } else {\n        args.unshift('%c%s\\t');\n    }\n    args.push(data);\n    // output\n    console.log.apply(console, args);*/\n\n    config = prepareConfig(config);\n    //config.tags.push('info');\n    config.type = 'info';\n\n    debug.log(info, data, config);\n};\n\n\ndebug.warn = function ( info, data, config ) {\n    config = prepareConfig(config);\n    //config.tags.push('warn');\n    config.type = 'warn';\n\n    debug.log(info, data, config);\n};\n\n\ndebug.fail = function ( info, data, config ) {\n    config = prepareConfig(config);\n    //config.tags.push('fail');\n    config.type = 'fail';\n\n    debug.log(info, data, config);\n};\n\n\n/**\n * Print the given complex var with level restriction.\n *\n * @param {*} data data to output\n */\ndebug.inspect = function ( data ) {\n    console.log(data);\n};\n\n\n/**\n * Print the given event object in some special way.\n *\n * @param {Event} data event object\n */\ndebug.event = function ( data ) {\n    var type  = data.type.toUpperCase(),\n        color = type === 'ERROR' ? 'red' : 'green';\n\n    switch ( type ) {\n        case 'KEYDOWN':\n        case 'KEYPRESS':\n            console.log('%o\\t%c%s %c%s %c%s %c%s %c%s\\t%s\\t%c%s', data, 'color:' + color + ';font-weight:bold', type,\n                'color:' + (data.ctrlKey  ? 'green' : 'lightgrey'), 'ctrl',\n                'color:' + (data.altKey   ? 'green' : 'lightgrey'), 'alt',\n                'color:' + (data.shiftKey ? 'green' : 'lightgrey'), 'shift',\n                'color:black', data.keyCode, data.code || '', 'color:green', data.keyIdentifier\n            );\n            break;\n        default:\n            console.log('%o\\t%c%s', data, 'color:' + color + ';font-weight:bold', type);\n    }\n};\n\n\n/**\n * Start specific timer.\n * Use to calculate time of some actions.\n *\n * @param {string} [name=''] timer group name\n * @param {string} [title=''] timer individual mark caption\n *\n * @example\n * debug.time('request');\n * // some processing...\n * debug.time('request');\n * // prints 'time: +20ms'\n * // some processing...\n * debug.time('request', 'ready');\n * // prints 'time (ready): +40ms'\n * // some processing...\n * debug.time('request', 'done');\n * // prints 'time (done): +60ms'\n */\ndebug.time = function ( name, title ) {\n    var time = Date.now();\n\n    // sanitize\n    name  = name  || '';\n    title = title || '';\n\n    // is this mark exist\n    if ( timeMarks[name] ) {\n        // already set\n        debug.log((name || 'time') + (title ? ' (' + title + ')' : '') + ': +' + (time - timeMarks[name].last) + 'ms', 'blue');\n    } else {\n        // create a new mark\n        timeMarks[name] = {init: time};\n    }\n\n    // update with the current value\n    timeMarks[name].last = time;\n};\n\n\n/**\n * End specific timer.\n * Use to calculate time of some actions.\n *\n * @param {string} [name=''] timer name\n * @param {string} [title='total'] timer mark caption\n *\n * @example\n * debug.time();\n * // some processing...\n * debug.timeEnd();\n * // prints 'time (total): 934ms'\n *\n * @example\n * debug.time('request');\n * // some processing...\n * debug.timeEnd('request', 'done');\n * // prints 'request (done): 934ms'\n */\ndebug.timeEnd = function ( name, title ) {\n    var time = Date.now();\n\n    // sanitize\n    name  = name  || '';\n    title = title || 'total';\n\n    // is this mark exist\n    if ( timeMarks[name] ) {\n        debug.log((name || 'time') + ' (' + title + '): ' + (time - timeMarks[name].init) + 'ms', 'blue');\n\n        delete timeMarks[name];\n    } else {\n        throw new Error(__filename + ': no started timer for \"' + name + '\"');\n    }\n};\n\n\n// public\nmodule.exports = debug;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-app/lib/develop/debug.js\n// module id = 16\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar app       = require('../core'),\n    Wamp      = require('spa-wamp'),\n    stringify = require('cjs-query').stringify;\n\n\nif ( app.query.wampPort ) {\n    // correct type\n    app.query.wampTargetId = parseInt(app.query.wampTargetId, 10);\n\n    app.develop.wamp = new Wamp(\n        'ws://' + (app.query.wampHost || location.hostname) + ':' + app.query.wampPort + '/target/' + (app.query.wampTargetId || '')\n    );\n\n    app.develop.wamp.onopen = function () {\n        //app.develop.wamp.addListener(app.develop.wamp.EVENT_OPEN, function () {\n        debug.info('wamp open ' + app.develop.wamp.socket.url, null, {tags: ['open', 'wamp']});\n\n        // get target connection id\n        app.develop.wamp.call('getConnectionInfo', {}, function ( error, data ) {\n            // check if already linked\n            if ( !error && app.query.wampTargetId !== data.id ) {\n                // disconnect\n                app.develop.wamp.socket.close();\n                // correct url\n                app.query.wampTargetId = data.id;\n                // bind to the target id\n                location.search = '?' + stringify(app.query);\n            }\n        });\n        //});\n    };\n\n    app.develop.wamp.onclose = function () {\n        debug.info('wamp close ' + app.develop.wamp.socket.url, null, {tags: ['close', 'wamp']});\n    };\n\n    app.develop.wamp.addListener('evalCode', function ( params, callback ) {\n        console.log('incoming evalCode', params);\n\n        /* eslint no-eval: 0 */\n        callback(null, {eval: eval(params.code)});\n    });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-app/lib/develop/wamp.js\n// module id = 17\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar CjsWamp = require('cjs-wamp');\n\n\n/**\n * WAMP implementation wrapper.\n *\n * @param {string} uri socket address to connect\n * @param {Object} [config={}] init parameters\n * @param {number} [config.timeout] time between connection retries\n *\n * @constructor\n */\nfunction Wamp ( uri, config ) {\n    var self = this;\n\n    function getSocket () {\n        var socket = new WebSocket(uri);\n\n        socket.onopen = function () {\n            if ( typeof self.onopen === 'function' ) {\n                self.onopen();\n            }\n\n            // set activity flag\n            self.open = true;\n        };\n\n        // reconnect\n        socket.onclose = function () {\n            if ( typeof self.onclose === 'function' && self.open ) {\n                self.onclose();\n            }\n\n            // mark as closed\n            self.open = false;\n\n            if ( self.timeout ) {\n                setTimeout(function () {\n                    // recreate connection\n                    self.socket = getSocket();\n                    // reroute messages\n                    self.socket.onmessage = function ( event ) {\n                        self.router(event.data);\n                    };\n                }, self.timeout);\n            }\n        };\n\n        return socket;\n    }\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // sanitize\n    config = config || {};\n\n    // connection state\n    this.open = false;\n\n    // override prototype value\n    if ( config.timeout ) {\n        this.timeout = config.timeout;\n    }\n\n    // events\n    this.onopen  = null;\n    this.onclose = null;\n\n    // parent constructor call\n    CjsWamp.call(this, getSocket());\n}\n\n\n// inheritance\nWamp.prototype = Object.create(CjsWamp.prototype);\nWamp.prototype.constructor = Wamp;\n\n// configuration\nWamp.prototype.timeout = 5000;\n\n\n// public\nmodule.exports = Wamp;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-wamp/index.js\n// module id = 18\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n/** @private */\nvar Emitter   = require('cjs-emitter'),\n    messageId = 0,\n    callbacks = {};\n\n\n/**\n * Lightweight WAMP implementation based on WebSockets.\n *\n * @param {WebSocket} socket link to socket connection to wrap\n *\n * @see http://wamp-proto.org/\n * @constructor\n */\nfunction Wamp ( socket ) {\n    var self = this;\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // parent constructor call\n    Emitter.call(this);\n\n    this.socket = socket;\n\n    if ( 'on' in socket ) {\n        // server-side\n        socket.on('message', function ( message ) {\n            self.router(message);\n        });\n    } else if ( 'onmessage' in socket ) {\n        // desktop browser\n        socket.onmessage = function ( event ) {\n            self.router(event.data);\n        };\n    }\n}\n\n\n/**\n * Send data through the given socket.\n *\n * @param {WebSocket} socket pipe to send through\n * @param {Object} message data to send\n */\nfunction send ( socket, message ) {\n    // connection is open\n    if ( socket.readyState === 1 ) {\n        // protocol version\n        message.jsonrpc = '2.0';\n\n        socket.send(JSON.stringify(message));\n    }\n}\n\n\n// inheritance\nWamp.prototype = Object.create(Emitter.prototype);\nWamp.prototype.constructor = Wamp;\n\n\n/**\n * Internal method to handle messages.\n *\n * @param {string} message request JSON data\n *\n * @private\n */\nWamp.prototype.router = function ( message ) {\n    var self = this,\n        data;\n\n    try {\n        data = JSON.parse(message);\n    } catch ( error ) {\n        send(this.socket, {\n            error: {code: -32700, message: 'Parse error'},\n            id: null\n        });\n\n        return;\n    }\n\n    if ( 'id' in data && !('method' in data) ) {\n        // incoming answer for previous request\n        if ( data.id in callbacks ) {\n            callbacks[data.id](data.error, data.result);\n            delete callbacks[data.id];\n        } else {\n            // no callback registered for this id\n        }\n    } else if ( !('id' in data) && 'method' in data ) {\n        // incoming notification\n        if ( this.events[data.method] ) {\n            this.emit(data.method, data.params);\n        }\n    } else if ( 'id' in data && 'method' in data ) {\n        // execute incoming method and report to sender\n        if ( this.events[data.method] ) {\n            this.emit(data.method, data.params, function ( error, result ) {\n                send(self.socket, {\n                    error: error,\n                    result: result,\n                    id: data.id\n                });\n            });\n        } else {\n            // wrong method\n            send(this.socket, {\n                error: {code: -32601, message: 'Method not found'},\n                id: data.id\n            });\n        }\n    } else {\n        // wrong request\n        send(this.socket, {\n            error: {code: -32600, message: 'Invalid Request'},\n            id: null\n        });\n    }\n};\n\n\n/**\n * Send message to execute remotely or notify (without `callback` argument).\n *\n * @param {string} method procedure or event name\n * @param {*} [params] procedure associated data\n * @param {function} [callback] remote call results handler\n */\nWamp.prototype.call = function ( method, params, callback ) {\n    var message = {\n        method: method,\n        params: params\n    };\n\n    // execution mode with callback\n    // notification mode otherwise\n    if ( typeof callback === 'function' ) {\n        message.id = ++messageId;\n        callbacks[messageId] = callback;\n    }\n\n    send(this.socket, message);\n};\n\n\n// public\nmodule.exports = Wamp;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cjs-wamp/index.js\n// module id = 19\n// module chunks = 0","/**\n * Additional dev events.\n *\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n/* eslint new-cap: 0 */\n\nvar //util    = require('util'),\n    app      = require('../core'),\n    //Wamp     = require('spa-wamp'),\n    //request  = require('spa-request'),\n    gremlins = require('gremlins.js/gremlins.min.js'),\n    events   = {};\n    //app;\n    //dom     = require('spa-dom'),\n    //grid    = require('./grid');\n\n\nevents.load = function () {\n    // app instance\n    //window.app = app = require('spa-app');\n\n    /*if ( app.query.wampPort ) {\n        //console.log('connect to WAMP server');\n        app.develop.wamp = new Wamp(\n            //new WebSocket('ws://' + (app.query.wampHost || location.hostname) + ':' + app.query.wampPort + '/target')\n            'ws://' + (app.query.wampHost || location.hostname) + ':' + app.query.wampPort + '/target'\n        );\n\n        app.develop.wamp.addListener('connection:open', function () {\n            console.log('wamp open ' + app.develop.wamp.socket.url);\n        });\n\n        app.develop.wamp.addListener('connection:close', function () {\n            console.log('wamp close ' + app.develop.wamp.socket.url);\n        });\n\n        // ready\n        /!*window.app.wamp.socket.onopen = function () {\n            console.log('wamp is ready!');\n        };*!/\n    }*/\n\n    // export to globals div for develop HTML elements\n    /*window.$develop = document.body.appendChild(document.createElement('div'));\n    window.$develop.className = 'develop';/**/\n\n    // apply dev css\n    document.body.classList.add('develop');\n\n    //grid.init();\n\n    //if ( localStorage.getItem('grid.active') ) {\n    //    grid.show();\n    //}\n\n    // stress-testing\n    app.develop.horde = gremlins.createHorde();\n};\n\n\nevents.keydown = function ( event ) {\n    switch ( event.keyCode ) {\n        // key b\n        /*case 66:\n            if ( event.altKey && app.develop.wamp ) {\n                app.develop.wamp.call('runTask', {id: 'build'}, function ( error, result ) {\n                    console.log('task build executed: ', error, result);\n                });\n            }\n            break;/**/\n\n        // numpad 0\n        case 96:\n            //debug.info('full app reload', null, {tags: ['reload']});\n            console.log('full app reload');\n            location.hash = '';\n            location.reload();\n            break;\n\n        // numpad 5\n        //case 101:\n        //    // debug grid\n        //    if ( grid.active ) {\n        //        grid.hide();\n        //    } else {\n        //        grid.show();\n        //    }\n        //    debug.log('show grid: ' + grid.active, 'red');\n        //    localStorage.setItem('grid.active', grid.active);\n        //    break;\n\n        // numpad 6\n        case 102:\n            // stress-testing\n            app.develop.horde.unleash({nb: 500});\n            break;\n\n        // numpad 7\n        /*case 103:\n            //if ( !app.data.host ) {\n            //    debug.log('SpyJS in this mode is available only on STB devices.', 'red');\n            //} else {\n            // SpyJS enable/disable\n            if ( localStorage.getItem('spyjs.active') ) {\n                //isSpyJs = false;\n                localStorage.setItem('spyjs.active', false);\n                gSTB.ResetWebProxy();\n                debug.log('SpyJS: disable', 'red');\n                location.reload();\n            } else {\n                // try to \"ping\" proxy server\n                request.ajax(document.location.protocol + '//' + location.hostname + ':3546', {\n                    method: 'get',\n                    onload: function () {\n                        // proxy seems ready\n                        //isSpyJs = true;\n                        localStorage.setItem('spyjs.active', true);\n                        debug.log('SpyJS: enable', 'red');\n                        debug.log('SpyJS: set proxy to ' + location.hostname + ':' + 3546);\n\n                        gSTB.SetWebProxy(location.hostname, 3546, '', '', '');\n                        location.reload();\n                    },\n                    onerror: function () {\n                        debug.log('SpyJS: no connection (check SpyJS is started on the server)', 'red');\n                    }\n                });\n            }\n            //}\n            break;*/\n\n        //// numpad 8\n        //case 104:\n        //    // FireBug Lite\n        //    debug.log('firebug-lite activation', 'red');\n        //    document.head.appendChild(dom.tag('script', {\n        //        type: 'text/javascript',\n        //        src: 'http://getfirebug.com/firebug-lite.js#startOpened',\n        //        onload: function () {\n        //            debug.log('firebug-lite ready ...', 'green');\n        //        },\n        //        onerror: function ( error ) {\n        //            debug.inspect(error);\n        //        }\n        //    }));\n        //    break;\n\n        // numpad 9\n        /*case 105:\n            // outline components and inner structures\n            //debug.info('toggle develop/release css layout', null, {tags: ['css', 'toggle']});\n            console.log('toggle develop/release css layout');\n            // get through all css links\n            Array.prototype.forEach.call(document.querySelectorAll('link[rel=stylesheet]'), function ( link ) {\n                if ( link.href.indexOf('/release.') === -1 ) {\n                    link.href = link.href.replace('/develop.', '/release.');\n                } else {\n                    link.href = link.href.replace('/release.', '/develop.');\n                }\n            });\n            break;/**/\n\n        // numpad .\n        case 110:\n            // CSS reload\n            //debug.info('CSS reload', null, {tags: ['css', 'reload']});\n            console.log('CSS reload');\n            // get through all css links\n            Array.prototype.forEach.call(document.querySelectorAll('link[rel=stylesheet]'), function ( link ) {\n                // get base name, modify and apply\n                link.href = link.href.split('?')[0] + '?' + Date.now();\n                console.log(link.href);\n            });\n            break;\n    }\n};\n\n\n// additional top-level key handlers\nwindow.addEventListener('load',    events.load);\nwindow.addEventListener('keydown', events.keydown);\n\n\n// public\nmodule.exports = events;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-app/lib/develop/events.js\n// module id = 20\n// module chunks = 0","!function(e,n){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=n();else if(\"function\"==typeof define&&define.amd)define(n);else{var t=n();for(var a in t)(\"object\"==typeof exports?exports:e)[a]=t[a]}}(this,function(){return function(e){function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p=\"http://localhost:8080/\",n(0)}([function(e,n,t){e.exports=t(6)},function(e,n,t){var a;a=function(e){\"use strict\";function n(e,n){for(var t in n)!function(t){e[t]=function(a){return arguments.length?(n[t]=a,e):n[t]}}(t)}return n}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;!function(){function r(e,n){if(e||(e={}),!n)return e;for(var t in n)\"undefined\"==typeof e[t]&&(e[t]=n[t]);return e}function i(e,n){if(e)throw new RangeError(n)}var o=9007199254740992,s=-o,l=\"0123456789\",u=\"abcdefghijklmnopqrstuvwxyz\",c=u.toUpperCase(),m=l+\"abcdef\",h=function(e){void 0!==e&&(\"function\"==typeof e?this.random=e:this.seed=e),\"undefined\"==typeof this.random&&(this.mt=this.mersenne_twister(e),this.random=function(){return this.mt.random(this.seed)})};h.prototype.bool=function(e){return e=r(e,{likelihood:50}),i(e.likelihood<0||e.likelihood>100,\"Chance: Likelihood accepts values from 0 to 100.\"),100*this.random()<e.likelihood},h.prototype.character=function(e){e=r(e);var n,t,a=\"!@#$%^&*()[]\";return i(e.alpha&&e.symbols,\"Chance: Cannot specify both alpha and symbols.\"),n=\"lower\"===e.casing?u:\"upper\"===e.casing?c:u+c,t=e.pool?e.pool:e.alpha?n:e.symbols?a:n+l+a,t.charAt(this.natural({max:t.length-1}))},h.prototype.floating=function(e){var n;e=r(e,{fixed:4});var t=Math.pow(10,e.fixed);i(e.fixed&&e.precision,\"Chance: Cannot specify both fixed and precision.\");var a=o/t,s=-a;i(e.min&&e.fixed&&e.min<s,\"Chance: Min specified is out of range with fixed. Min should be, at least, \"+s),i(e.max&&e.fixed&&e.max>a,\"Chance: Max specified is out of range with fixed. Max should be, at most, \"+a),e=r(e,{min:s,max:a}),n=this.integer({min:e.min*t,max:e.max*t});var l=(n/t).toFixed(e.fixed);return parseFloat(l)},h.prototype.integer=function(e){var n,t;e=r(e,{min:s,max:o}),t=Math.max(Math.abs(e.min),Math.abs(e.max));do n=this.natural({max:t}),n=this.bool()?n:-1*n;while(n<e.min||n>e.max);return n},h.prototype.natural=function(e){return e=r(e,{min:0,max:o}),i(e.min>e.max,\"Chance: Min cannot be greater than Max.\"),Math.floor(this.random()*(e.max-e.min+1)+e.min)},h.prototype.normal=function(e){e=r(e,{mean:0,dev:1});var n,t,a,i,o=e.mean,s=e.dev;do t=2*this.random()-1,a=2*this.random()-1,n=t*t+a*a;while(n>=1);return i=t*Math.sqrt(-2*Math.log(n)/n),s*i+o},h.prototype.string=function(e){e=r(e);for(var n=e.length||this.natural({min:5,max:20}),t=\"\",a=e.pool,i=0;n>i;i++)t+=this.character({pool:a});return t},h.prototype.capitalize=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},h.prototype.mixin=function(e){for(var n in e)h.prototype[n]=e[n];return this},h.prototype.pick=function(e,n){return n&&1!==n?this.shuffle(e).slice(0,n):e[this.natural({max:e.length-1})]},h.prototype.shuffle=function(e){for(var n=e.slice(0),t=[],a=0,r=Number(n.length),i=0;r>i;i++)a=this.natural({max:n.length-1}),t[i]=n[a],n.splice(a,1);return t},h.prototype.paragraph=function(e){e=r(e);for(var n=e.sentences||this.natural({min:3,max:7}),t=[],a=0;n>a;a++)t.push(this.sentence());return t.join(\" \")},h.prototype.sentence=function(e){e=r(e);for(var n,t=e.words||this.natural({min:12,max:18}),a=[],i=0;t>i;i++)a.push(this.word());return n=a.join(\" \"),n=this.capitalize(n)+\".\"},h.prototype.syllable=function(e){e=r(e);for(var n,t=e.length||this.natural({min:2,max:3}),a=\"bcdfghjklmnprstvwz\",i=\"aeiou\",o=a+i,s=\"\",l=0;t>l;l++)n=this.character(0===l?{pool:o}:-1===a.indexOf(n)?{pool:a}:{pool:i}),s+=n;return s},h.prototype.word=function(e){e=r(e),i(e.syllables&&e.length,\"Chance: Cannot specify both syllables AND length.\");var n=e.syllables||this.natural({min:1,max:3}),t=\"\";if(e.length){do t+=this.syllable();while(t.length<e.length);t=t.substring(0,e.length)}else for(var a=0;n>a;a++)t+=this.syllable();return t},h.prototype.age=function(e){e=r(e);var n;switch(e.type){case\"child\":n=this.natural({min:1,max:12});break;case\"teen\":n=this.natural({min:13,max:19});break;case\"adult\":n=this.natural({min:18,max:120});break;case\"senior\":n=this.natural({min:65,max:120});break;default:n=this.natural({min:1,max:120})}return n},h.prototype.birthday=function(e){return e=r(e,{year:(new Date).getFullYear()-this.age(e)}),this.date(e)};var d=[\"Sophia\",\"Emma\",\"Isabella\",\"Jacob\",\"Mason\",\"Ethan\",\"Noah\",\"Olivia\",\"William\",\"Liam\",\"Jayden\",\"Michael\",\"Ava\",\"Alexander\",\"Aiden\",\"Daniel\",\"Matthew\",\"Elijah\",\"Emily\",\"James\",\"Anthony\",\"Benjamin\",\"Abigail\",\"Joshua\",\"Andrew\",\"David\",\"Joseph\",\"Logan\",\"Jackson\",\"Mia\",\"Christopher\",\"Gabriel\",\"Madison\",\"Samuel\",\"Ryan\",\"Lucas\",\"John\",\"Nathan\",\"Isaac\",\"Dylan\",\"Caleb\",\"Elizabeth\",\"Chloe\",\"Christian\",\"Landon\",\"Jonathan\",\"Carter\",\"Ella\",\"Luke\",\"Owen\",\"Brayden\",\"Avery\",\"Gavin\",\"Wyatt\",\"Addison\",\"Isaiah\",\"Aubrey\",\"Henry\",\"Eli\",\"Hunter\",\"Lily\",\"Jack\",\"Natalie\",\"Evan\",\"Sofia\",\"Jordan\",\"Nicholas\",\"Tyler\",\"Aaron\",\"Charlotte\",\"Zoey\",\"Jeremiah\",\"Julian\",\"Cameron\",\"Grace\",\"Hannah\",\"Amelia\",\"Harper\",\"Levi\",\"Lillian\",\"Brandon\",\"Angel\",\"Austin\",\"Connor\",\"Adrian\",\"Robert\",\"Samantha\",\"Charles\",\"Evelyn\",\"Victoria\",\"Thomas\",\"Brooklyn\",\"Sebastian\",\"Zoe\",\"Colton\",\"Jaxon\",\"Layla\",\"Kevin\",\"Zachary\",\"Ayden\",\"Dominic\",\"Blake\",\"Jose\",\"Hailey\",\"Oliver\",\"Justin\",\"Bentley\",\"Leah\",\"Jason\",\"Chase\",\"Ian\",\"Kaylee\",\"Anna\",\"Aaliyah\",\"Gabriella\",\"Josiah\",\"Allison\",\"Parker\",\"Xavier\",\"Nevaeh\",\"Alexis\",\"Adam\",\"Audrey\",\"Cooper\",\"Savannah\",\"Sarah\",\"Alyssa\",\"Claire\",\"Taylor\",\"Riley\",\"Camila\",\"Nathaniel\",\"Arianna\",\"Ashley\",\"Grayson\",\"Jace\",\"Brianna\",\"Carson\",\"Sophie\",\"Peyton\",\"Nolan\",\"Tristan\",\"Luis\",\"Brody\",\"Bella\",\"Khloe\",\"Genesis\",\"Alexa\",\"Juan\",\"Hudson\",\"Serenity\",\"Kylie\",\"Aubree\",\"Scarlett\",\"Bryson\",\"Carlos\",\"Stella\",\"Maya\",\"Easton\",\"Katherine\",\"Julia\",\"Damian\",\"Alex\",\"Kayden\",\"Ryder\",\"Lucy\",\"Madelyn\",\"Jesus\",\"Cole\",\"Autumn\",\"Makayla\",\"Kayla\",\"Mackenzie\",\"Micah\",\"Vincent\",\"Max\",\"Lauren\",\"Jaxson\",\"Gianna\",\"Eric\",\"Ariana\",\"Asher\",\"Hayden\",\"Faith\",\"Alexandra\",\"Melanie\",\"Sydney\",\"Bailey\",\"Caroline\",\"Naomi\",\"Morgan\",\"Kennedy\",\"Ellie\",\"Jasmine\",\"Eva\",\"Skylar\",\"Diego\",\"Kimberly\",\"Violet\",\"Molly\",\"Miles\",\"Steven\",\"Aria\",\"Ivan\",\"Jocelyn\",\"Trinity\",\"Elias\",\"Aidan\",\"Maxwell\",\"London\",\"Bryce\",\"Lydia\",\"Madeline\",\"Antonio\",\"Giovanni\",\"Reagan\",\"Timothy\",\"Bryan\",\"Piper\",\"Andrea\",\"Santiago\",\"Annabelle\",\"Maria\",\"Colin\",\"Richard\",\"Braxton\",\"Kaleb\",\"Brooke\",\"Kyle\",\"Kaden\",\"Preston\",\"Payton\",\"Miguel\",\"Jonah\",\"Paisley\",\"Paige\",\"Lincoln\",\"Ruby\",\"Nora\",\"Riley\",\"Mariah\",\"Leo\",\"Victor\",\"Brady\",\"Jeremy\",\"Mateo\",\"Brian\",\"Jaden\",\"Ashton\",\"Patrick\",\"Rylee\",\"Declan\",\"Lilly\",\"Brielle\",\"Sean\",\"Joel\",\"Gael\",\"Sawyer\",\"Alejandro\",\"Jade\",\"Marcus\",\"Destiny\",\"Leonardo\",\"Jesse\",\"Caden\",\"Jake\",\"Kaiden\",\"Nicole\",\"Mila\",\"Wesley\",\"Kendall\",\"Liliana\",\"Camden\",\"Kaitlyn\",\"Natalia\",\"Sadie\",\"Edward\",\"Brantley\",\"Jordyn\",\"Roman\",\"Vanessa\",\"Mary\",\"Mya\",\"Penelope\",\"Isabelle\",\"Alice\",\"Axel\",\"Silas\",\"Jude\",\"Grant\",\"Reese\",\"Gabrielle\",\"Hadley\",\"Katelyn\",\"Angelina\",\"Rachel\",\"Isabel\",\"Eleanor\",\"Cayden\",\"Emmanuel\",\"George\",\"Clara\",\"Brooklynn\",\"Jessica\",\"Maddox\",\"Malachi\",\"Bradley\",\"Alan\",\"Weston\",\"Elena\",\"Gage\",\"Aliyah\",\"Vivian\",\"Laila\",\"Sara\",\"Amy\",\"Devin\",\"Eliana\",\"Greyson\",\"Lyla\",\"Juliana\",\"Kenneth\",\"Mark\",\"Oscar\",\"Tanner\",\"Rylan\",\"Valeria\",\"Adriana\",\"Nicolas\",\"Makenzie\",\"Harrison\",\"Elise\",\"Mckenzie\",\"Derek\",\"Quinn\",\"Delilah\",\"Peyton\",\"Ezra\",\"Cora\",\"Kylee\",\"Tucker\",\"Emmett\",\"Avery\",\"Cody\",\"Rebecca\",\"Gracie\",\"Izabella\",\"Calvin\",\"Andres\",\"Jorge\",\"Abel\",\"Paul\",\"Abraham\",\"Kai\",\"Josephine\",\"Alaina\",\"Michelle\",\"Jennifer\",\"Collin\",\"Theodore\",\"Ezekiel\",\"Eden\",\"Omar\",\"Jayce\",\"Valentina\",\"Conner\",\"Bennett\",\"Aurora\",\"Catherine\",\"Stephanie\",\"Trevor\",\"Valerie\",\"Eduardo\",\"Peter\",\"Maximus\",\"Jayla\",\"Jaiden\",\"Willow\",\"Jameson\",\"Seth\",\"Daisy\",\"Alana\",\"Melody\",\"Hazel\",\"Kingston\",\"Summer\",\"Melissa\",\"Javier\",\"Margaret\",\"Travis\",\"Kinsley\",\"Kinley\",\"Garrett\",\"Everett\",\"Ariel\",\"Lila\",\"Graham\",\"Giselle\",\"Ryleigh\",\"Xander\",\"Haley\",\"Julianna\",\"Ivy\",\"Alivia\",\"Cristian\",\"Brynn\",\"Damien\",\"Ryker\",\"Griffin\",\"Keira\",\"Daniela\",\"Aniyah\",\"Angela\",\"Kate\",\"Londyn\",\"Corbin\",\"Myles\",\"Hayden\",\"Harmony\",\"Adalyn\",\"Luca\",\"Zane\",\"Francisco\",\"Ricardo\",\"Alexis\",\"Stephen\",\"Zayden\",\"Megan\",\"Allie\",\"Gabriela\",\"Iker\",\"Drake\",\"Alayna\",\"Lukas\",\"Presley\",\"Charlie\",\"Spencer\",\"Zion\",\"Erick\",\"Jenna\",\"Josue\",\"Alexandria\",\"Ashlyn\",\"Adrianna\",\"Jada\",\"Jeffrey\",\"Trenton\",\"Fiona\",\"Chance\",\"Norah\",\"Paxton\",\"Elliot\",\"Emery\",\"Fernando\",\"Maci\",\"Miranda\",\"Keegan\",\"Landen\",\"Ximena\",\"Amaya\",\"Manuel\",\"Amir\",\"Shane\",\"Cecilia\",\"Raymond\",\"Andre\",\"Ana\",\"Shelby\",\"Katie\",\"Hope\",\"Callie\",\"Jordan\",\"Luna\",\"Leilani\",\"Eliza\",\"Mckenna\",\"Angel\",\"Genevieve\",\"Makenna\",\"Isla\",\"Lola\",\"Danielle\",\"Chelsea\",\"Leila\",\"Tessa\",\"Adelyn\",\"Camille\",\"Mikayla\",\"Adeline\",\"Adalynn\",\"Sienna\",\"Esther\",\"Jacqueline\",\"Emerson\",\"Arabella\",\"Maggie\",\"Athena\",\"Lucia\",\"Lexi\",\"Ayla\"];h.prototype.first=function(){return this.pick(d)},h.prototype.gender=function(){return this.pick([\"Male\",\"Female\"])};var p=[\"Smith\",\"Johnson\",\"Williams\",\"Jones\",\"Brown\",\"Davis\",\"Miller\",\"Wilson\",\"Moore\",\"Taylor\",\"Anderson\",\"Thomas\",\"Jackson\",\"White\",\"Harris\",\"Martin\",\"Thompson\",\"Garcia\",\"Martinez\",\"Robinson\",\"Clark\",\"Rodriguez\",\"Lewis\",\"Lee\",\"Walker\",\"Hall\",\"Allen\",\"Young\",\"Hernandez\",\"King\",\"Wright\",\"Lopez\",\"Hill\",\"Scott\",\"Green\",\"Adams\",\"Baker\",\"Gonzalez\",\"Nelson\",\"Carter\",\"Mitchell\",\"Perez\",\"Roberts\",\"Turner\",\"Phillips\",\"Campbell\",\"Parker\",\"Evans\",\"Edwards\",\"Collins\",\"Stewart\",\"Sanchez\",\"Morris\",\"Rogers\",\"Reed\",\"Cook\",\"Morgan\",\"Bell\",\"Murphy\",\"Bailey\",\"Rivera\",\"Cooper\",\"Richardson\",\"Cox\",\"Howard\",\"Ward\",\"Torres\",\"Peterson\",\"Gray\",\"Ramirez\",\"James\",\"Watson\",\"Brooks\",\"Kelly\",\"Sanders\",\"Price\",\"Bennett\",\"Wood\",\"Barnes\",\"Ross\",\"Henderson\",\"Coleman\",\"Jenkins\",\"Perry\",\"Powell\",\"Long\",\"Patterson\",\"Hughes\",\"Flores\",\"Washington\",\"Butler\",\"Simmons\",\"Foster\",\"Gonzales\",\"Bryant\",\"Alexander\",\"Russell\",\"Griffin\",\"Diaz\",\"Hayes\",\"Myers\",\"Ford\",\"Hamilton\",\"Graham\",\"Sullivan\",\"Wallace\",\"Woods\",\"Cole\",\"West\",\"Jordan\",\"Owens\",\"Reynolds\",\"Fisher\",\"Ellis\",\"Harrison\",\"Gibson\",\"McDonald\",\"Cruz\",\"Marshall\",\"Ortiz\",\"Gomez\",\"Murray\",\"Freeman\",\"Wells\",\"Webb\",\"Simpson\",\"Stevens\",\"Tucker\",\"Porter\",\"Hunter\",\"Hicks\",\"Crawford\",\"Henry\",\"Boyd\",\"Mason\",\"Morales\",\"Kennedy\",\"Warren\",\"Dixon\",\"Ramos\",\"Reyes\",\"Burns\",\"Gordon\",\"Shaw\",\"Holmes\",\"Rice\",\"Robertson\",\"Hunt\",\"Black\",\"Daniels\",\"Palmer\",\"Mills\",\"Nichols\",\"Grant\",\"Knight\",\"Ferguson\",\"Rose\",\"Stone\",\"Hawkins\",\"Dunn\",\"Perkins\",\"Hudson\",\"Spencer\",\"Gardner\",\"Stephens\",\"Payne\",\"Pierce\",\"Berry\",\"Matthews\",\"Arnold\",\"Wagner\",\"Willis\",\"Ray\",\"Watkins\",\"Olson\",\"Carroll\",\"Duncan\",\"Snyder\",\"Hart\",\"Cunningham\",\"Bradley\",\"Lane\",\"Andrews\",\"Ruiz\",\"Harper\",\"Fox\",\"Riley\",\"Armstrong\",\"Carpenter\",\"Weaver\",\"Greene\",\"Lawrence\",\"Elliott\",\"Chavez\",\"Sims\",\"Austin\",\"Peters\",\"Kelley\",\"Franklin\",\"Lawson\",\"Fields\",\"Gutierrez\",\"Ryan\",\"Schmidt\",\"Carr\",\"Vasquez\",\"Castillo\",\"Wheeler\",\"Chapman\",\"Oliver\",\"Montgomery\",\"Richards\",\"Williamson\",\"Johnston\",\"Banks\",\"Meyer\",\"Bishop\",\"McCoy\",\"Howell\",\"Alvarez\",\"Morrison\",\"Hansen\",\"Fernandez\",\"Garza\",\"Harvey\",\"Little\",\"Burton\",\"Stanley\",\"Nguyen\",\"George\",\"Jacobs\",\"Reid\",\"Kim\",\"Fuller\",\"Lynch\",\"Dean\",\"Gilbert\",\"Garrett\",\"Romero\",\"Welch\",\"Larson\",\"Frazier\",\"Burke\",\"Hanson\",\"Day\",\"Mendoza\",\"Moreno\",\"Bowman\",\"Medina\",\"Fowler\",\"Brewer\",\"Hoffman\",\"Carlson\",\"Silva\",\"Pearson\",\"Holland\",\"Douglas\",\"Fleming\",\"Jensen\",\"Vargas\",\"Byrd\",\"Davidson\",\"Hopkins\",\"May\",\"Terry\",\"Herrera\",\"Wade\",\"Soto\",\"Walters\",\"Curtis\",\"Neal\",\"Caldwell\",\"Lowe\",\"Jennings\",\"Barnett\",\"Graves\",\"Jimenez\",\"Horton\",\"Shelton\",\"Barrett\",\"Obrien\",\"Castro\",\"Sutton\",\"Gregory\",\"McKinney\",\"Lucas\",\"Miles\",\"Craig\",\"Rodriquez\",\"Chambers\",\"Holt\",\"Lambert\",\"Fletcher\",\"Watts\",\"Bates\",\"Hale\",\"Rhodes\",\"Pena\",\"Beck\",\"Newman\",\"Haynes\",\"McDaniel\",\"Mendez\",\"Bush\",\"Vaughn\",\"Parks\",\"Dawson\",\"Santiago\",\"Norris\",\"Hardy\",\"Love\",\"Steele\",\"Curry\",\"Powers\",\"Schultz\",\"Barker\",\"Guzman\",\"Page\",\"Munoz\",\"Ball\",\"Keller\",\"Chandler\",\"Weber\",\"Leonard\",\"Walsh\",\"Lyons\",\"Ramsey\",\"Wolfe\",\"Schneider\",\"Mullins\",\"Benson\",\"Sharp\",\"Bowen\",\"Daniel\",\"Barber\",\"Cummings\",\"Hines\",\"Baldwin\",\"Griffith\",\"Valdez\",\"Hubbard\",\"Salazar\",\"Reeves\",\"Warner\",\"Stevenson\",\"Burgess\",\"Santos\",\"Tate\",\"Cross\",\"Garner\",\"Mann\",\"Mack\",\"Moss\",\"Thornton\",\"Dennis\",\"McGee\",\"Farmer\",\"Delgado\",\"Aguilar\",\"Vega\",\"Glover\",\"Manning\",\"Cohen\",\"Harmon\",\"Rodgers\",\"Robbins\",\"Newton\",\"Todd\",\"Blair\",\"Higgins\",\"Ingram\",\"Reese\",\"Cannon\",\"Strickland\",\"Townsend\",\"Potter\",\"Goodwin\",\"Walton\",\"Rowe\",\"Hampton\",\"Ortega\",\"Patton\",\"Swanson\",\"Joseph\",\"Francis\",\"Goodman\",\"Maldonado\",\"Yates\",\"Becker\",\"Erickson\",\"Hodges\",\"Rios\",\"Conner\",\"Adkins\",\"Webster\",\"Norman\",\"Malone\",\"Hammond\",\"Flowers\",\"Cobb\",\"Moody\",\"Quinn\",\"Blake\",\"Maxwell\",\"Pope\",\"Floyd\",\"Osborne\",\"Paul\",\"McCarthy\",\"Guerrero\",\"Lindsey\",\"Estrada\",\"Sandoval\",\"Gibbs\",\"Tyler\",\"Gross\",\"Fitzgerald\",\"Stokes\",\"Doyle\",\"Sherman\",\"Saunders\",\"Wise\",\"Colon\",\"Gill\",\"Alvarado\",\"Greer\",\"Padilla\",\"Simon\",\"Waters\",\"Nunez\",\"Ballard\",\"Schwartz\",\"McBride\",\"Houston\",\"Christensen\",\"Klein\",\"Pratt\",\"Briggs\",\"Parsons\",\"McLaughlin\",\"Zimmerman\",\"French\",\"Buchanan\",\"Moran\",\"Copeland\",\"Roy\",\"Pittman\",\"Brady\",\"McCormick\",\"Holloway\",\"Brock\",\"Poole\",\"Frank\",\"Logan\",\"Owen\",\"Bass\",\"Marsh\",\"Drake\",\"Wong\",\"Jefferson\",\"Park\",\"Morton\",\"Abbott\",\"Sparks\",\"Patrick\",\"Norton\",\"Huff\",\"Clayton\",\"Massey\",\"Lloyd\",\"Figueroa\",\"Carson\",\"Bowers\",\"Roberson\",\"Barton\",\"Tran\",\"Lamb\",\"Harrington\",\"Casey\",\"Boone\",\"Cortez\",\"Clarke\",\"Mathis\",\"Singleton\",\"Wilkins\",\"Cain\",\"Bryan\",\"Underwood\",\"Hogan\",\"McKenzie\",\"Collier\",\"Luna\",\"Phelps\",\"McGuire\",\"Allison\",\"Bridges\",\"Wilkerson\",\"Nash\",\"Summers\",\"Atkins\"];h.prototype.last=function(){return this.pick(p)},h.prototype.name=function(e){e=r(e);var n,t=this.first(),a=this.last();return n=e.middle?t+\" \"+this.first()+\" \"+a:e.middle_initial?t+\" \"+this.character({alpha:!0,casing:\"upper\"})+\". \"+a:t+\" \"+a,e.prefix&&(n=this.prefix()+\" \"+n),n},h.prototype.name_prefixes=function(){return[{name:\"Doctor\",abbreviation:\"Dr.\"},{name:\"Miss\",abbreviation:\"Miss\"},{name:\"Misses\",abbreviation:\"Mrs.\"},{name:\"Mister\",abbreviation:\"Mr.\"}]},h.prototype.prefix=function(e){return this.name_prefix(e)},h.prototype.name_prefix=function(e){return e=r(e),e.full?this.pick(this.name_prefixes()).name:this.pick(this.name_prefixes()).abbreviation},h.prototype.color=function(e){function n(e,n){return[e,e,e].join(n||\"\")}e=r(e,{format:this.pick([\"hex\",\"shorthex\",\"rgb\"]),grayscale:!1});var t=e.grayscale;if(\"hex\"===e.format)return\"#\"+(t?n(this.hash({length:2})):this.hash({length:6}));if(\"shorthex\"===e.format)return\"#\"+(t?n(this.hash({length:1})):this.hash({length:3}));if(\"rgb\"===e.format)return t?\"rgb(\"+n(this.natural({max:255}),\",\")+\")\":\"rgb(\"+this.natural({max:255})+\",\"+this.natural({max:255})+\",\"+this.natural({max:255})+\")\";throw new Error('Invalid format provided. Please provide one of \"hex\", \"shorthex\", or \"rgb\"')},h.prototype.domain=function(e){return e=r(e),this.word()+\".\"+(e.tld||this.tld())},h.prototype.email=function(e){return e=r(e),this.word()+\"@\"+(e.domain||this.domain())},h.prototype.fbid=function(){return parseInt(\"10000\"+this.natural({max:1e11}),10)},h.prototype.hashtag=function(){return\"#\"+this.word()},h.prototype.ip=function(){return this.natural({max:255})+\".\"+this.natural({max:255})+\".\"+this.natural({max:255})+\".\"+this.natural({max:255})},h.prototype.ipv6=function(){for(var e=\"\",n=0;8>n;n++)e+=this.hash({length:4})+\":\";return e.substr(0,e.length-1)},h.prototype.klout=function(){return this.natural({min:1,max:99})},h.prototype.tlds=function(){return[\"com\",\"org\",\"edu\",\"gov\",\"co.uk\",\"net\",\"io\"]},h.prototype.tld=function(){return this.pick(this.tlds())},h.prototype.twitter=function(){return\"@\"+this.word()},h.prototype.address=function(e){return e=r(e),this.natural({min:5,max:2e3})+\" \"+this.street(e)},h.prototype.areacode=function(e){e=r(e,{parens:!0});var n=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:8}).toString()+this.natural({min:0,max:9}).toString();return e.parens?\"(\"+n+\")\":n},h.prototype.city=function(){return this.capitalize(this.word({syllables:3}))},h.prototype.coordinates=function(e){return e=r(e),this.latitude(e)+\", \"+this.longitude(e)},h.prototype.latitude=function(e){return e=r(e,{fixed:5}),this.floating({min:-90,max:90,fixed:e.fixed})},h.prototype.longitude=function(e){return e=r(e,{fixed:5}),this.floating({min:0,max:180,fixed:e.fixed})},h.prototype.phone=function(e){e=r(e,{formatted:!0}),e.formatted||(e.parens=!1);var n=this.areacode(e).toString(),t=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:9}).toString()+this.natural({min:0,max:9}).toString(),a=this.natural({min:1e3,max:9999}).toString();return e.formatted?n+\" \"+t+\"-\"+a:n+t+a},h.prototype.postal=function(){var e=this.character({pool:\"XVTSRPNKLMHJGECBA\"}),n=e+this.natural({max:9})+this.character({alpha:!0,casing:\"upper\"}),t=this.natural({max:9})+this.character({alpha:!0,casing:\"upper\"})+this.natural({max:9});return n+\" \"+t},h.prototype.provinces=function(){return[{name:\"Alberta\",abbreviation:\"AB\"},{name:\"British Columbia\",abbreviation:\"BC\"},{name:\"Manitoba\",abbreviation:\"MB\"},{name:\"New Brunswick\",abbreviation:\"NB\"},{name:\"Newfoundland and Labrador\",abbreviation:\"NL\"},{name:\"Nova Scotia\",abbreviation:\"NS\"},{name:\"Ontario\",abbreviation:\"ON\"},{name:\"Prince Edward Island\",abbreviation:\"PE\"},{name:\"Quebec\",abbreviation:\"QC\"},{name:\"Saskatchewan\",abbreviation:\"SK\"},{name:\"Northwest Territories\",abbreviation:\"NT\"},{name:\"Nunavut\",abbreviation:\"NU\"},{name:\"Yukon\",abbreviation:\"YT\"}]},h.prototype.province=function(e){return e&&e.full?this.pick(this.provinces()).name:this.pick(this.provinces()).abbreviation},h.prototype.radio=function(e){e=r(e,{side:\"?\"});var n=\"\";switch(e.side.toLowerCase()){case\"east\":case\"e\":n=\"W\";break;case\"west\":case\"w\":n=\"K\";break;default:n=this.character({pool:\"KW\"})}return n+this.character({alpha:!0,casing:\"upper\"})+this.character({alpha:!0,casing:\"upper\"})+this.character({alpha:!0,casing:\"upper\"})},h.prototype.state=function(e){return e&&e.full?this.pick(this.states()).name:this.pick(this.states()).abbreviation},h.prototype.states=function(){return[{name:\"Alabama\",abbreviation:\"AL\"},{name:\"Alaska\",abbreviation:\"AK\"},{name:\"American Samoa\",abbreviation:\"AS\"},{name:\"Arizona\",abbreviation:\"AZ\"},{name:\"Arkansas\",abbreviation:\"AR\"},{name:\"Armed Forces Europe\",abbreviation:\"AE\"},{name:\"Armed Forces Pacific\",abbreviation:\"AP\"},{name:\"Armed Forces the Americas\",abbreviation:\"AA\"},{name:\"California\",abbreviation:\"CA\"},{name:\"Colorado\",abbreviation:\"CO\"},{name:\"Connecticut\",abbreviation:\"CT\"},{name:\"Delaware\",abbreviation:\"DE\"},{name:\"District of Columbia\",abbreviation:\"DC\"},{name:\"Federated States of Micronesia\",abbreviation:\"FM\"},{name:\"Florida\",abbreviation:\"FL\"},{name:\"Georgia\",abbreviation:\"GA\"},{name:\"Guam\",abbreviation:\"GU\"},{name:\"Hawaii\",abbreviation:\"HI\"},{name:\"Idaho\",abbreviation:\"ID\"},{name:\"Illinois\",abbreviation:\"IL\"},{name:\"Indiana\",abbreviation:\"IN\"},{name:\"Iowa\",abbreviation:\"IA\"},{name:\"Kansas\",abbreviation:\"KS\"},{name:\"Kentucky\",abbreviation:\"KY\"},{name:\"Louisiana\",abbreviation:\"LA\"},{name:\"Maine\",abbreviation:\"ME\"},{name:\"Marshall Islands\",abbreviation:\"MH\"},{name:\"Maryland\",abbreviation:\"MD\"},{name:\"Massachusetts\",abbreviation:\"MA\"},{name:\"Michigan\",abbreviation:\"MI\"},{name:\"Minnesota\",abbreviation:\"MN\"},{name:\"Mississippi\",abbreviation:\"MS\"},{name:\"Missouri\",abbreviation:\"MO\"},{name:\"Montana\",abbreviation:\"MT\"},{name:\"Nebraska\",abbreviation:\"NE\"},{name:\"Nevada\",abbreviation:\"NV\"},{name:\"New Hampshire\",abbreviation:\"NH\"},{name:\"New Jersey\",abbreviation:\"NJ\"},{name:\"New Mexico\",abbreviation:\"NM\"},{name:\"New York\",abbreviation:\"NY\"},{name:\"North Carolina\",abbreviation:\"NC\"},{name:\"North Dakota\",abbreviation:\"ND\"},{name:\"Northern Mariana Islands\",abbreviation:\"MP\"},{name:\"Ohio\",abbreviation:\"OH\"},{name:\"Oklahoma\",abbreviation:\"OK\"},{name:\"Oregon\",abbreviation:\"OR\"},{name:\"Pennsylvania\",abbreviation:\"PA\"},{name:\"Puerto Rico\",abbreviation:\"PR\"},{name:\"Rhode Island\",abbreviation:\"RI\"},{name:\"South Carolina\",abbreviation:\"SC\"},{name:\"South Dakota\",abbreviation:\"SD\"},{name:\"Tennessee\",abbreviation:\"TN\"},{name:\"Texas\",abbreviation:\"TX\"},{name:\"Utah\",abbreviation:\"UT\"},{name:\"Vermont\",abbreviation:\"VT\"},{name:\"Virgin Islands, U.S.\",abbreviation:\"VI\"},{name:\"Virginia\",abbreviation:\"VA\"},{name:\"Washington\",abbreviation:\"WA\"},{name:\"West Virginia\",abbreviation:\"WV\"},{name:\"Wisconsin\",abbreviation:\"WI\"},{name:\"Wyoming\",abbreviation:\"WY\"}]},h.prototype.street=function(e){e=r(e);var n=this.word({syllables:2});return n=this.capitalize(n),n+=\" \",n+=e.short_suffix?this.street_suffix().abbreviation:this.street_suffix().name},h.prototype.street_suffix=function(){return this.pick(this.street_suffixes())},h.prototype.street_suffixes=function(){return[{name:\"Avenue\",abbreviation:\"Ave\"},{name:\"Boulevard\",abbreviation:\"Blvd\"},{name:\"Center\",abbreviation:\"Ctr\"},{name:\"Circle\",abbreviation:\"Cir\"},{name:\"Court\",abbreviation:\"Ct\"},{name:\"Drive\",abbreviation:\"Dr\"},{name:\"Extension\",abbreviation:\"Ext\"},{name:\"Glen\",abbreviation:\"Gln\"},{name:\"Grove\",abbreviation:\"Grv\"},{name:\"Heights\",abbreviation:\"Hts\"},{name:\"Highway\",abbreviation:\"Hwy\"},{name:\"Junction\",abbreviation:\"Jct\"},{name:\"Key\",abbreviation:\"Key\"},{name:\"Lane\",abbreviation:\"Ln\"},{name:\"Loop\",abbreviation:\"Loop\"},{name:\"Manor\",abbreviation:\"Mnr\"},{name:\"Mill\",abbreviation:\"Mill\"},{name:\"Park\",abbreviation:\"Park\"},{name:\"Parkway\",abbreviation:\"Pkwy\"},{name:\"Pass\",abbreviation:\"Pass\"},{name:\"Path\",abbreviation:\"Path\"},{name:\"Pike\",abbreviation:\"Pike\"},{name:\"Place\",abbreviation:\"Pl\"},{name:\"Plaza\",abbreviation:\"Plz\"},{name:\"Point\",abbreviation:\"Pt\"},{name:\"Ridge\",abbreviation:\"Rdg\"},{name:\"River\",abbreviation:\"Riv\"},{name:\"Road\",abbreviation:\"Rd\"},{name:\"Square\",abbreviation:\"Sq\"},{name:\"Street\",abbreviation:\"St\"},{name:\"Terrace\",abbreviation:\"Ter\"},{name:\"Trail\",abbreviation:\"Trl\"},{name:\"Turnpike\",abbreviation:\"Tpke\"},{name:\"View\",abbreviation:\"Vw\"},{name:\"Way\",abbreviation:\"Way\"}]},h.prototype.tv=function(e){return this.radio(e)},h.prototype.zip=function(e){for(var n=\"\",t=0;5>t;t++)n+=this.natural({max:9}).toString();if(e&&e.plusfour===!0)for(n+=\"-\",t=0;4>t;t++)n+=this.natural({max:9}).toString();return n},h.prototype.ampm=function(){return this.bool()?\"am\":\"pm\"},h.prototype.date=function(e){var n,t=this.month({raw:!0});e=r(e,{year:parseInt(this.year(),10),month:t.numeric-1,day:this.natural({min:1,max:t.days}),hour:this.hour(),minute:this.minute(),second:this.second(),millisecond:this.millisecond(),american:!0,string:!1});var a=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return n=e.american?a.getMonth()+1+\"/\"+a.getDate()+\"/\"+a.getFullYear():a.getDate()+\"/\"+(a.getMonth()+1)+\"/\"+a.getFullYear(),e.string?n:a},h.prototype.hammertime=function(e){return this.date(e).getTime()},h.prototype.hour=function(e){e=r(e);var n=e.twentyfour?24:12;return this.natural({min:1,max:n})},h.prototype.millisecond=function(){return this.natural({max:999})},h.prototype.minute=h.prototype.second=function(){return this.natural({max:59})},h.prototype.month=function(e){e=r(e);var n=this.pick(this.months());return e.raw?n:n.name},h.prototype.months=function(){return[{name:\"January\",short_name:\"Jan\",numeric:\"01\",days:31},{name:\"February\",short_name:\"Feb\",numeric:\"02\",days:28},{name:\"March\",short_name:\"Mar\",numeric:\"03\",days:31},{name:\"April\",short_name:\"Apr\",numeric:\"04\",days:30},{name:\"May\",short_name:\"May\",numeric:\"05\",days:31},{name:\"June\",short_name:\"Jun\",numeric:\"06\",days:30},{name:\"July\",short_name:\"Jul\",numeric:\"07\",days:31},{name:\"August\",short_name:\"Aug\",numeric:\"08\",days:31},{name:\"September\",short_name:\"Sep\",numeric:\"09\",days:30},{name:\"October\",short_name:\"Oct\",numeric:\"10\",days:31},{name:\"November\",short_name:\"Nov\",numeric:\"11\",days:30},{name:\"December\",short_name:\"Dec\",numeric:\"12\",days:31}]},h.prototype.second=function(){return this.natural({max:59})},h.prototype.timestamp=function(){return this.natural({min:1,max:parseInt((new Date).getTime()/1e3,10)})},h.prototype.year=function(e){return e=r(e,{min:(new Date).getFullYear()}),e.max=\"undefined\"!=typeof e.max?e.max:e.min+100,this.natural(e).toString()},h.prototype.cc=function(e){e=r(e);var n,t,a;n=this.cc_type(e.type?{name:e.type,raw:!0}:{raw:!0}),t=n.prefix.split(\"\"),a=n.length-n.prefix.length-1;for(var i=0;a>i;i++)t.push(this.integer({min:0,max:9}));return t.push(this.luhn_calculate(t.join(\"\"))),t.join(\"\")},h.prototype.cc_types=function(){return[{name:\"American Express\",short_name:\"amex\",prefix:\"34\",length:15},{name:\"Bankcard\",short_name:\"bankcard\",prefix:\"5610\",length:16},{name:\"China UnionPay\",short_name:\"chinaunion\",prefix:\"62\",length:16},{name:\"Diners Club Carte Blanche\",short_name:\"dccarte\",prefix:\"300\",length:14},{name:\"Diners Club enRoute\",short_name:\"dcenroute\",prefix:\"2014\",length:15},{name:\"Diners Club International\",short_name:\"dcintl\",prefix:\"36\",length:14},{name:\"Diners Club United States & Canada\",short_name:\"dcusc\",prefix:\"54\",length:16},{name:\"Discover Card\",short_name:\"discover\",prefix:\"6011\",length:16},{name:\"InstaPayment\",short_name:\"instapay\",prefix:\"637\",length:16},{name:\"JCB\",short_name:\"jcb\",prefix:\"3528\",length:16},{name:\"Laser\",short_name:\"laser\",prefix:\"6304\",length:16},{name:\"Maestro\",short_name:\"maestro\",prefix:\"5018\",length:16},{name:\"Mastercard\",short_name:\"mc\",prefix:\"51\",length:16},{name:\"Solo\",short_name:\"solo\",prefix:\"6334\",length:16},{name:\"Switch\",short_name:\"switch\",prefix:\"4903\",length:16},{name:\"Visa\",short_name:\"visa\",prefix:\"4\",length:16},{name:\"Visa Electron\",short_name:\"electron\",prefix:\"4026\",length:16}]},h.prototype.cc_type=function(e){e=r(e);var n=this.cc_types(),t=null;if(e.name){for(var a=0;a<n.length;a++)if(n[a].name===e.name||n[a].short_name===e.name){t=n[a];break}if(null===t)throw new Error(\"Credit card type '\"+e.name+\"'' is not suppoted\")}else t=this.pick(n);return e.raw?t:t.name},h.prototype.dollar=function(e){e=r(e,{max:1e4,min:0});var n=this.floating({min:e.min,max:e.max,fixed:2}).toString(),t=n.split(\".\")[1];return void 0===t?n+=\".00\":t.length<2&&(n+=\"0\"),0>n?\"-$\"+n.replace(\"-\",\"\"):\"$\"+n},h.prototype.exp=function(e){e=r(e);var n={};return n.year=this.exp_year(),n.year===(new Date).getFullYear()?n.month=this.exp_month({future:!0}):n.month=this.exp_month(),e.raw?n:n.month+\"/\"+n.year},h.prototype.exp_month=function(e){e=r(e);var n,t;if(e.future){do n=this.month({raw:!0}).numeric,t=parseInt(n,10);while(t<(new Date).getMonth())}else n=this.month({raw:!0}).numeric;return n},h.prototype.exp_year=function(){return this.year({max:(new Date).getFullYear()+10})},h.prototype.d4=function(){return this.natural({min:1,max:4})},h.prototype.d6=function(){return this.natural({min:1,max:6})},h.prototype.d8=function(){return this.natural({min:1,max:8})},h.prototype.d10=function(){return this.natural({min:1,max:10})},h.prototype.d12=function(){return this.natural({min:1,max:12})},h.prototype.d20=function(){return this.natural({min:1,max:20})},h.prototype.d30=function(){return this.natural({min:1,max:30})},h.prototype.d100=function(){return this.natural({min:1,max:100})},h.prototype.rpg=function(e,n){if(n=r(n),null===e)throw new Error(\"A type of die roll must be included\");var t=e.toLowerCase().split(\"d\"),a=[];if(2!==t.length||!parseInt(t[0],10)||!parseInt(t[1],10))throw new Error(\"Invalid format provided. Please provide #d# where the first # is the number of dice to roll, the second # is the max of each die\");for(var i=t[0];i>0;i--)a[i-1]=this.natural({min:1,max:t[1]});return\"undefined\"!=typeof n.sum&&n.sum?a.reduce(function(e,n){return e+n}):a},h.prototype.guid=function(e){e=e||{version:5};var n=\"ABCDEF1234567890\",t=\"AB89\",a=this.string({pool:n,length:8})+\"-\"+this.string({pool:n,length:4})+\"-\"+e.version+this.string({pool:n,length:3})+\"-\"+this.string({pool:t,length:1})+this.string({pool:n,length:3})+\"-\"+this.string({pool:n,length:12});return a},h.prototype.hash=function(e){e=r(e,{length:40,casing:\"lower\"});var n=\"upper\"===e.casing?m.toUpperCase():m;return this.string({pool:n,length:e.length})},h.prototype.luhn_check=function(e){var n=e.toString(),t=+n.substring(n.length-1);return t===this.luhn_calculate(+n.substring(0,n.length-1))},h.prototype.luhn_calculate=function(e){for(var n=e.toString().split(\"\").reverse(),t=0,a=0,r=n.length;r>a;++a){var i=+n[a];a%2===0&&(i*=2,i>9&&(i-=9)),t+=i}return 9*t%10},h.prototype.mersenne_twister=function(e){return new f(e)},h.prototype.VERSION=\"0.5.4\";var f=function(e){void 0===e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};f.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++)e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0},f.prototype.init_by_array=function(e,n){var t,a,r=1,i=0;for(this.init_genrand(19650218),t=this.N>n?this.N:n;t;t--)a=this.mt[r-1]^this.mt[r-1]>>>30,this.mt[r]=(this.mt[r]^(1664525*((4294901760&a)>>>16)<<16)+1664525*(65535&a))+e[i]+i,this.mt[r]>>>=0,r++,i++,r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1),i>=n&&(i=0);for(t=this.N-1;t;t--)a=this.mt[r-1]^this.mt[r-1]>>>30,this.mt[r]=(this.mt[r]^(1566083941*((4294901760&a)>>>16)<<16)+1566083941*(65535&a))-r,this.mt[r]>>>=0,r++,r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1);this.mt[0]=2147483648},f.prototype.genrand_int32=function(){var e,n=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var t;for(this.mti===this.N+1&&this.init_genrand(5489),t=0;t<this.N-this.M;t++)e=this.mt[t]&this.UPPER_MASK|this.mt[t+1]&this.LOWER_MASK,this.mt[t]=this.mt[t+this.M]^e>>>1^n[1&e];for(;t<this.N-1;t++)e=this.mt[t]&this.UPPER_MASK|this.mt[t+1]&this.LOWER_MASK,this.mt[t]=this.mt[t+(this.M-this.N)]^e>>>1^n[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^n[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^=e>>>18,e>>>0},f.prototype.genrand_int31=function(){return this.genrand_int32()>>>1},f.prototype.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},f.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},f.prototype.genrand_real3=function(){return(this.genrand_int32()+.5)*(1/4294967296)},f.prototype.genrand_res53=function(){var e=this.genrand_int32()>>>5,n=this.genrand_int32()>>>6;return(67108864*e+n)*(1/9007199254740992)},\"undefined\"!=typeof e&&e.exports&&(n=e.exports=h),n.Chance=h,a=function(){return h}.call(n,t,n,e),!(void 0!==a&&(e.exports=a)),\"object\"==typeof window&&\"object\"==typeof window.document&&(window.Chance=h,window.chance=new h)}()},function(e,n,t){var a;a=function(e){\"use strict\";function n(){this.message=\"This gremlin requires a randomizer to run. Please call randomizer(randomizerObject) before executing the gremlin\",this.toString=function(){return this.message}}return n}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";function n(e,n,t,a){var r=n.length;e=e.slice(0);var i=function(e,n){if(!e.length)return\"function\"==typeof a?a():!0;var o=e.shift();o.apply(t,n),o.length===r&&i(e,n,a)};n.push(function(){i(e,n,a)}),i(e,n,a)}return n}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";function n(){this.message=\"This mogwai requires a logger to run. Please call logger(loggerObject) before executing the mogwai\",this.toString=function(){return this.message}}return n}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";function n(e,n){for(var t=0,a=n.length;a>t;t++)for(var r in e)\"function\"!=typeof n[t][r]||n[t][r]()||n[t][r](e[r])}var a=t(2),r={species:{clicker:t(10),toucher:t(13),formFiller:t(11),scroller:t(12),typer:t(14)},mogwais:{alert:t(7),fps:t(8),gizmo:t(9)},strategies:{allTogether:t(15),bySpecies:t(16),distribution:t(17)}},i=t(4),o=function(){this._gremlins=[],\nthis._mogwais=[],this._strategies=[],this._beforeCallbacks=[],this._afterCallbacks=[],this._logger=console,this._randomizer=new a};return o.prototype.gremlin=function(e){return this._gremlins.push(e),this},o.prototype.allGremlins=function(){for(var e in r.species)this.gremlin(r.species[e]());return this},o.prototype.mogwai=function(e){return this._mogwais.push(e),this},o.prototype.allMogwais=function(){for(var e in r.mogwais)this.mogwai(r.mogwais[e]());return this},o.prototype.strategy=function(e){return this._strategies.push(e),this},o.prototype.before=function(e){return this._beforeCallbacks.push(e),this},o.prototype.after=function(e){return this._afterCallbacks.push(e),this},o.prototype.logger=function(e){return arguments.length?(this._logger=e,this):this._logger},o.prototype.log=function(e){this._logger.log(e)},o.prototype.randomizer=function(e){return arguments.length?(this._randomizer=e,this):this._randomizer},o.prototype.seed=function(e){return this._randomizer=new a(e),this},o.prototype.unleash=function(e,t){0===this._gremlins.length&&this.allGremlins(),0===this._mogwais.length&&this.allMogwais(),0===this._strategies.length&&this.strategy(r.strategies.distribution());var a=[].concat(this._gremlins,this._mogwais),o=a.concat(this._strategies,this._beforeCallbacks,this._afterCallbacks);n({logger:this._logger,randomizer:this._randomizer},o);var s=this._beforeCallbacks;s=s.concat(this._mogwais);for(var l=this._afterCallbacks,u=0,c=a.length;c>u;u++)\"function\"==typeof a[u].cleanUp&&l.push(a[u].cleanUp);var m=this;i(s,[],m,function(){i(m._strategies,[m._gremlins,e],m,function(){i(l,[],m,function(){\"function\"==typeof t&&t()})})})},o.prototype.stop=function(){for(var e=this._strategies,n=0,t=e.length;t>n;n++)e[n].stop()},r.createHorde=function(){return new o},window&&(window.gremlins=r),r}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(1),a=(t(2),t(5));return function(){function e(){return o.randomizer.bool()}function t(){return o.randomizer.sentence()}function r(){if(!o.logger)throw new a;-1!==o.watchEvents.indexOf(\"alert\")&&(window.alert=function(e){o.logger.warn(\"mogwai \",\"alert     \",e,\"alert\")}),-1!==o.watchEvents.indexOf(\"confirm\")&&(window.confirm=function(e){o.confirmResponse(),o.logger.warn(\"mogwai \",\"alert     \",e,\"confirm\")}),-1!==o.watchEvents.indexOf(\"prompt\")&&(window.prompt=function(e){o.promptResponse(),o.logger.warn(\"mogwai \",\"alert     \",e,\"prompt\")})}var i=[\"alert\",\"confirm\",\"prompt\"],o={watchEvents:i,confirmResponse:e,promptResponse:t,logger:null,randomizer:null},s=window.alert,l=window.confirm,u=window.prompt;return r.cleanUp=function(){return window.alert=s,window.confirm=l,window.prompt=u,r},n(r,o),r}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(1),a=t(5);return function(){function e(e){return 10>e?\"error\":20>e?\"warn\":\"log\"}function t(e){e-l>s.delay&&(r(e),l=e),o&&window.requestAnimationFrame(t)}function r(){function e(e){t=e,window.requestAnimationFrame(n)}function n(e){var n=16>e-t?60:1e3/(e-t),a=s.levelSelector(n);s.logger[a](\"mogwai \",\"fps       \",n)}var t;window.requestAnimationFrame(e)}function i(){if(!s.logger)throw new a;o=!0,window.requestAnimationFrame(t)}window.requestAnimationFrame||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)});var o,s={delay:500,levelSelector:e,logger:null},l=-(1/0);return i.cleanUp=function(){return o=!1,i},n(i,s),i}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(1);return function(){function e(){function e(){if(n++,n==r.maxErrors){if(i.stop(),!r.logger)return;window.setTimeout(function(){r.logger.warn(\"mogwai \",\"gizmo     \",\"stopped test execution after \",r.maxErrors,\"errors\")},4)}}var n=0,i=this;t=window.onerror,window.onerror=function(n,a,r){return e(),t?t(n,a,r):!1},a=console.error,console.error=function(){e(),a.apply(console,arguments)}}var t,a,r={maxErrors:10,logger:null};return e.cleanUp=function(){return window.onerror=t,console.error=a.bind(console),e},n(e,r),e}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(1),a=(t(2),t(3));return function(){function e(){return[u.randomizer.natural({max:o.documentElement.clientWidth-1}),u.randomizer.natural({max:o.documentElement.clientHeight-1})]}function t(e,n){var t=o.createElement(\"div\");t.style.zIndex=2e3,t.style.border=\"3px solid red\",t.style[\"border-radius\"]=\"50%\",t.style.borderRadius=\"50%\",t.style.width=\"40px\",t.style.height=\"40px\",t.style[\"box-sizing\"]=\"border-box\",t.style.position=\"absolute\",t.style.webkitTransition=\"opacity 1s ease-out\",t.style.mozTransition=\"opacity 1s ease-out\",t.style.transition=\"opacity 1s ease-out\",t.style.left=e-20+\"px\",t.style.top=n-20+\"px\";var a=s.appendChild(t);setTimeout(function(){s.removeChild(a)},1e3),setTimeout(function(){a.style.opacity=0},50)}function r(){return!0}function i(){if(!u.randomizer)throw new a;var e,n,t,r,i=0;do if(e=u.positionSelector(),n=e[0],t=e[1],r=o.elementFromPoint(n,t),i++,i>u.maxNbTries)return!1;while(!r||!u.canClick(r));var s=o.createEvent(\"MouseEvents\"),l=u.randomizer.pick(u.clickTypes);s.initMouseEvent(l,!0,!0,window,0,0,0,n,t,!1,!1,!1,!1,0,null),r.dispatchEvent(s),\"function\"==typeof u.showAction&&u.showAction(n,t,l),u.logger&&\"function\"==typeof u.logger.log&&u.logger.log(\"gremlin\",\"clicker   \",l,\"at\",n,t)}var o=window.document,s=o.body,l=[\"click\",\"click\",\"click\",\"click\",\"click\",\"click\",\"dblclick\",\"dblclick\",\"mousedown\",\"mouseup\",\"mouseover\",\"mouseover\",\"mouseover\",\"mousemove\",\"mouseout\"],u={clickTypes:l,positionSelector:e,showAction:t,canClick:r,maxNbTries:10,logger:null,randomizer:null};return n(i,u),i}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(1),a=(t(2),t(3));return function(){function e(e){\"undefined\"==typeof e.attributes[\"data-old-border\"]&&(e.attributes[\"data-old-border\"]=e.style.border);var n=e.attributes[\"data-old-border\"];e.style.border=\"1px solid red\",setTimeout(function(){e.style.border=n},500)}function t(){return!0}function r(){if(!p.randomizer)throw new a;var e=[];for(var n in p.elementMapTypes)p.elementMapTypes.hasOwnProperty(n)&&e.push(n);var t,r=0;do{var i=h.querySelectorAll(e.join(\",\"));if(0===i.length)return!1;if(t=p.randomizer.pick(i),r++,r>p.maxNbTries)return!1}while(!t||!p.canFillElement(t));var o=null;for(var s in p.elementMapTypes)if(m(t,s)){o=s;break}var l=p.elementMapTypes[o](t);\"function\"==typeof p.showAction&&p.showAction(t),p.logger&&\"function\"==typeof p.logger.log&&p.logger.log(\"gremlin\",\"formFiller\",\"input\",l,\"in\",t)}function i(e){var n=p.randomizer.character();return e.value+=n,n}function o(e){var n=p.randomizer.character({pool:\"0123456789\"});return e.value+=n,n}function s(e){var n=e.querySelectorAll(\"option\");if(0!==n.length){for(var t=p.randomizer.pick(n),a=0,r=n.length;r>a;a++){var i=n[a];i.selected=i.value==t.value}return t.value}}function l(e){var n=h.createEvent(\"MouseEvents\");return n.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(n),e.value}function u(e){var n=h.createEvent(\"MouseEvents\");return n.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(n),e.value}function c(e){var n=p.randomizer.email();return e.value=n,n}function m(e,n){if(e.webkitMatchesSelector)m=function(e,n){return e.webkitMatchesSelector(n)};else if(e.mozMatchesSelector)m=function(e,n){return e.mozMatchesSelector(n)};else if(e.msMatchesSelector)m=function(e,n){return e.msMatchesSelector(n)};else{if(!e.oMatchesSelector)throw new Error(\"Unsupported browser\");m=function(e,n){return e.oMatchesSelector(n)}}return m(e,n)}var h=window.document,d={textarea:i,'input[type=\"text\"]':i,'input[type=\"password\"]':i,'input[type=\"number\"]':o,select:s,'input[type=\"radio\"]':l,'input[type=\"checkbox\"]':u,'input[type=\"email\"]':c,\"input:not([type])\":i},p={elementMapTypes:d,showAction:e,canFillElement:t,maxNbTries:10,logger:null,randomizer:null};return n(r,p),r}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(1),a=(t(2),t(3));return function(){function e(){var e=Math.max(s.scrollWidth,s.offsetWidth,o.scrollWidth,o.offsetWidth,o.clientWidth),n=Math.max(s.scrollHeight,s.offsetHeight,o.scrollHeight,o.offsetHeight,o.clientHeight);return[l.randomizer.natural({max:e-o.clientWidth}),l.randomizer.natural({max:n-o.clientHeight})]}function t(e,n){var t=i.createElement(\"div\");t.style.zIndex=2e3,t.style.border=\"3px solid red\",t.style.width=o.clientWidth-25+\"px\",t.style.height=o.clientHeight-25+\"px\",t.style.position=\"absolute\",t.style.webkitTransition=\"opacity 1s ease-out\",t.style.mozTransition=\"opacity 1s ease-out\",t.style.transition=\"opacity 1s ease-out\",t.style.left=e+10+\"px\",t.style.top=n+10+\"px\";var a=s.appendChild(t);setTimeout(function(){s.removeChild(a)},1e3),setTimeout(function(){a.style.opacity=0},50)}function r(){if(!l.randomizer)throw new a;var e=l.positionSelector(),n=e[0],t=e[1];window.scrollTo(n,t),\"function\"==typeof l.showAction&&l.showAction(n,t),\"function\"==typeof l.logger.log&&l.logger.log(\"gremlin\",\"scroller  \",\"scroll to\",n,t)}var i=window.document,o=i.documentElement,s=i.body,l={positionSelector:e,showAction:t,logger:null,randomizer:null};return n(r,l),r}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(1),a=(t(2),t(3));return function(){function e(){return[h.randomizer.natural({max:u.documentElement.clientWidth-1}),h.randomizer.natural({max:u.documentElement.clientHeight-1})]}function t(e){var n=u.createDocumentFragment();e.forEach(function(e){var t=u.createElement(\"div\");t.style.zIndex=2e3,t.style.background=\"red\",t.style[\"border-radius\"]=\"50%\",t.style.borderRadius=\"50%\",t.style.width=\"20px\",t.style.height=\"20px\",t.style.position=\"absolute\",t.style.webkitTransition=\"opacity .5s ease-out\",t.style.mozTransition=\"opacity .5s ease-out\",t.style.transition=\"opacity .5s ease-out\",t.style.left=e.x-10+\"px\",t.style.top=e.y-10+\"px\";var a=n.appendChild(t);setTimeout(function(){c.removeChild(a)},500),setTimeout(function(){a.style.opacity=0},50)}),u.body.appendChild(n)}function r(){return!0}function i(e,n,t,a){var r,i,o,s=e[0],l=e[1],u=[];if(1===n)return[{x:s,y:l}];for(t=t||100,a=null!==a?a*Math.PI/180:0,r=2*Math.PI/n,i=0;n>i;i++)o=r*i+a,u.push({x:s+t*Math.cos(o),y:l+t*Math.sin(o)});return u}function o(e,n,t){var a=[],r=u.createEvent(\"Event\");r.initEvent(\"touch\"+t,!0,!0),a.identifiedTouch=a.item=function(e){return this[e]||{}},e.forEach(function(e,t){var r=Math.round(e.x),i=Math.round(e.y);a.push({pageX:r,pageY:i,clientX:r,clientY:i,screenX:r,screenY:i,target:n,identifier:t})}),r.touches=\"end\"==t?[]:a,r.targetTouches=\"end\"==t?[]:a,r.changedTouches=a,n.dispatchEvent(r),h.showAction(e)}function s(e,n,t,a,r){function s(){var m=a.radius;1!==a.scale&&(m=a.radius-a.radius*(1-a.scale)*(1/u)*c);var h=n[0]+a.distanceX/u*c,d=n[1]+a.distanceY/u*c,p=\"number\"==typeof a.rotation?a.rotation/u*c:null,f=i([h,d],t.length,m,p),y=1==c,b=c==u;if(y)o(f,e,\"start\");else{if(b)return o(f,e,\"end\"),r(f);o(f,e,\"move\")}setTimeout(s,l),c++}var l=10,u=Math.ceil(a.duration/l),c=1;s()}function l(e){function n(n,t){\"function\"==typeof h.showAction&&h.showAction(n),h.logger&&\"function\"==typeof h.logger.log&&h.logger.log(\"gremlin\",\"toucher   \",l,\"at\",r,i,t),e()}if(!h.randomizer)throw new a;var t,r,i,o,s=0;do if(t=h.positionSelector(),r=t[0],i=t[1],o=u.elementFromPoint(r,i),s++,s>h.maxNbTries)return;while(!o||!h.canTouch(o));var l=h.randomizer.pick(h.touchTypes);d[l](t,o,n)}var u=window.document,c=u.body,m=[\"tap\",\"tap\",\"tap\",\"doubletap\",\"gesture\",\"gesture\",\"gesture\",\"multitouch\",\"multitouch\"],h={touchTypes:m,positionSelector:e,showAction:t,canTouch:r,maxNbTries:10,logger:null,randomizer:null,maxTouches:2},d={tap:function(e,n,t){var a=i(e,1),r={duration:h.randomizer.integer({min:20,max:700})};o(a,n,\"start\"),setTimeout(function(){o(a,n,\"end\"),t(a,r)},r.duration)},doubletap:function(e,n,t){d.tap(e,n,function(){setTimeout(function(){d.tap(e,n,t)},30)})},gesture:function p(e,n,t){var p={distanceX:h.randomizer.integer({min:-100,max:200}),distanceY:h.randomizer.integer({min:-100,max:200}),duration:h.randomizer.integer({min:20,max:500})},a=i(e,1,p.radius);s(n,e,a,p,function(e){t(e,p)})},multitouch:function(e,n,t){var a=h.randomizer.integer({min:2,max:h.maxTouches}),r={scale:h.randomizer.floating({min:0,max:2}),rotation:h.randomizer.natural({min:-100,max:100}),radius:h.randomizer.integer({min:50,max:200}),distanceX:h.randomizer.integer({min:-20,max:20}),distanceY:h.randomizer.integer({min:-20,max:20}),duration:h.randomizer.integer({min:100,max:1500})},o=i(e,a,r.radius);s(n,e,o,r,function(e){t(e,r)})}};return n(l,h),l}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(1),a=(t(2),t(3));return function(){function e(){return c.randomizer.natural({min:3,max:254})}function t(e,n){return o.elementFromPoint(e,n)}function r(e,n,t,a){var r=o.createElement(\"div\");r.style.zIndex=2e3,r.style.border=\"3px solid orange\",r.style[\"border-radius\"]=\"50%\",r.style.borderRadius=\"50%\",r.style.width=\"40px\",r.style.height=\"40px\",r.style[\"box-sizing\"]=\"border-box\",r.style.position=\"absolute\",r.style.webkitTransition=\"opacity 1s ease-out\",r.style.mozTransition=\"opacity 1s ease-out\",r.style.transition=\"opacity 1s ease-out\",r.style.left=n+\"px\",r.style.top=t+\"px\",r.style.textAlign=\"center\",r.style.paddingTop=\"7px\",r.innerHTML=String.fromCharCode(a);var i=l.appendChild(r);setTimeout(function(){l.removeChild(i)},1e3),setTimeout(function(){i.style.opacity=0},50)}function i(){if(!c.randomizer)throw new a;var e=o.createEventObject?o.createEventObject():o.createEvent(\"Events\"),n=c.randomizer.pick(c.eventTypes),t=c.keyGenerator(),r=c.randomizer.natural({max:s.clientWidth-1}),i=c.randomizer.natural({max:s.clientHeight-1}),l=c.targetElement(r,i);e.initEvent&&e.initEvent(n,!0,!0),e.keyCode=t,e.which=t,e.keyCodeVal=t,l.dispatchEvent?l.dispatchEvent(e):l.fireEvent(\"on\"+n,e),\"function\"==typeof c.showAction&&c.showAction(l,r,i,t),c.logger&&\"function\"==typeof c.logger.log&&c.logger.log(\"gremlin\",\"typer       type\",String.fromCharCode(t),\"at\",r,i)}var o=window.document,s=o.documentElement,l=o.body,u=[\"keypress\",\"keyup\",\"keydown\"],c={eventTypes:u,showAction:r,keyGenerator:e,targetElement:t,logger:null,randomizer:null};return n(i,c),i}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(4),a=t(1);return function(){function e(e,a,s){function l(t){n(e,[],m,t)}function u(e){return r?void 0:e>=c?t():void l(function(){setTimeout(function(){u(++e)},o.delay)})}var c=a&&a.nb?a.nb:o.nb,m=this;r=!1,i=s,u(0)}function t(){\"function\"==typeof i&&i(),i=null}var r,i,o={delay:10,nb:100};return e.stop=function(){r=!0,setTimeout(t,4)},a(e,o),e}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(4),a=t(1);return function(){function e(e,a,s){function l(e,t,a){return r?void 0:t>=c?a():void n([e],[],m,function(){setTimeout(function(){l(e,++t,a)},o.delay)})}function u(){return r?void 0:0===e.length?t():void l(e.shift(),0,u)}var c=a&&a.nb?a.nb:o.nb,e=e.slice(0),m=this;r=!1,i=s,u()}function t(){\"function\"==typeof i&&i(),i=null}var r,i,o={delay:10,nb:200};return e.stop=function(){r=!0,setTimeout(t,4)},a(e,o),e}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))},function(e,n,t){var a;a=function(e){\"use strict\";var n=t(4),a=t(1),r=t(2);return function(){function e(e,a,r){function c(t,a,r){return s?void 0:a>=m?o():void n([t],[],d,function(){setTimeout(function(){c(i(e,h),++a,r)},u.delay)})}var m=a&&a.nb?a.nb:u.nb,e=e.slice(0),h=0===u.distribution.length?t(e):u.distribution,d=this;return 0===m?r():(s=!1,l=r,void c(i(e,h),0,c))}function t(e){var n=e.length;if(0===n)return[];for(var t=[],a=1/n,r=0;n>r;r++)t.push(a);return t}function i(e,n){for(var t=0,a=u.randomizer.floating({min:0,max:1}),r=0,i=e.length;i>r;r++)if(t+=n[r],t>=a)return e[r];return function(){}}function o(){\"function\"==typeof l&&l(),l=null}var s,l,u={distribution:[],delay:10,nb:1e3,randomizer:new r};return e.stop=function(){s=!0,setTimeout(o,4)},a(e,u),e}}.call(n,t,n,e),!(void 0!==a&&(e.exports=a))}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/gremlins.js/gremlins.min.js\n// module id = 21\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar getElementById = document.getElementById,\n    querySelector  = document.querySelector;\n\n\ndocument.getElementById = function ( id ) {\n    var el = getElementById.call(document, id);\n\n    if ( !el ) {\n        throw new Error(__filename + ': no element with id ' + id);\n    }\n\n    return el;\n};\n\n\ndocument.querySelector = function ( selector ) {\n    var el = querySelector.call(document, selector);\n\n    if ( !el ) {\n        throw new Error(__filename + ': no element with selector: ' + selector);\n    }\n\n    return el;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-app/lib/develop/hooks.js\n// module id = 22\n// module chunks = 0","/**\n * Static files reload on change.\n *\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n//var tag = require('spa-dom').tag;\n\n\n//window.LiveReloadOptions = {port: LIVERELOAD.port};\nwindow.LiveReloadOptions = {\n    host: location.hostname,\n    port: LIVERELOAD.port || 35729\n};\n//console.log(require('spa-gulp-livereload/config').default.tinylr);\n//console.log(LIVERELOAD);\n\nrequire('livereload-js/dist/livereload.js');\n\n// livereload activation\n//if ( config.livereload ) {\n// load external script\n//document.head.appendChild(tag('script', {\n//    type: 'text/javascript',\n//    src: '/node_modules/livereload-js/dist/livereload.js?host=' + location.hostname + '&port=' + LIVERELOAD.port\n//}));\n//}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-app/lib/develop/static.js\n// module id = 23\n// module chunks = 0","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function() {\n  var Connector, PROTOCOL_6, PROTOCOL_7, Parser, Version, ref;\n\n  ref = require('./protocol'), Parser = ref.Parser, PROTOCOL_6 = ref.PROTOCOL_6, PROTOCOL_7 = ref.PROTOCOL_7;\n\n  Version = \"2.4.0\";\n\n  exports.Connector = Connector = (function() {\n    function Connector(options, WebSocket, Timer, handlers) {\n      var path;\n      this.options = options;\n      this.WebSocket = WebSocket;\n      this.Timer = Timer;\n      this.handlers = handlers;\n      path = this.options.path ? \"\" + this.options.path : \"livereload\";\n      this._uri = \"ws\" + (this.options.https ? \"s\" : \"\") + \"://\" + this.options.host + \":\" + this.options.port + \"/\" + path;\n      this._nextDelay = this.options.mindelay;\n      this._connectionDesired = false;\n      this.protocol = 0;\n      this.protocolParser = new Parser({\n        connected: (function(_this) {\n          return function(protocol) {\n            _this.protocol = protocol;\n            _this._handshakeTimeout.stop();\n            _this._nextDelay = _this.options.mindelay;\n            _this._disconnectionReason = 'broken';\n            return _this.handlers.connected(_this.protocol);\n          };\n        })(this),\n        error: (function(_this) {\n          return function(e) {\n            _this.handlers.error(e);\n            return _this._closeOnError();\n          };\n        })(this),\n        message: (function(_this) {\n          return function(message) {\n            return _this.handlers.message(message);\n          };\n        })(this)\n      });\n      this._handshakeTimeout = new this.Timer((function(_this) {\n        return function() {\n          if (!_this._isSocketConnected()) {\n            return;\n          }\n          _this._disconnectionReason = 'handshake-timeout';\n          return _this.socket.close();\n        };\n      })(this));\n      this._reconnectTimer = new this.Timer((function(_this) {\n        return function() {\n          if (!_this._connectionDesired) {\n            return;\n          }\n          return _this.connect();\n        };\n      })(this));\n      this.connect();\n    }\n\n    Connector.prototype._isSocketConnected = function() {\n      return this.socket && this.socket.readyState === this.WebSocket.OPEN;\n    };\n\n    Connector.prototype.connect = function() {\n      this._connectionDesired = true;\n      if (this._isSocketConnected()) {\n        return;\n      }\n      this._reconnectTimer.stop();\n      this._disconnectionReason = 'cannot-connect';\n      this.protocolParser.reset();\n      this.handlers.connecting();\n      this.socket = new this.WebSocket(this._uri);\n      this.socket.onopen = (function(_this) {\n        return function(e) {\n          return _this._onopen(e);\n        };\n      })(this);\n      this.socket.onclose = (function(_this) {\n        return function(e) {\n          return _this._onclose(e);\n        };\n      })(this);\n      this.socket.onmessage = (function(_this) {\n        return function(e) {\n          return _this._onmessage(e);\n        };\n      })(this);\n      return this.socket.onerror = (function(_this) {\n        return function(e) {\n          return _this._onerror(e);\n        };\n      })(this);\n    };\n\n    Connector.prototype.disconnect = function() {\n      this._connectionDesired = false;\n      this._reconnectTimer.stop();\n      if (!this._isSocketConnected()) {\n        return;\n      }\n      this._disconnectionReason = 'manual';\n      return this.socket.close();\n    };\n\n    Connector.prototype._scheduleReconnection = function() {\n      if (!this._connectionDesired) {\n        return;\n      }\n      if (!this._reconnectTimer.running) {\n        this._reconnectTimer.start(this._nextDelay);\n        return this._nextDelay = Math.min(this.options.maxdelay, this._nextDelay * 2);\n      }\n    };\n\n    Connector.prototype.sendCommand = function(command) {\n      if (this.protocol == null) {\n        return;\n      }\n      return this._sendCommand(command);\n    };\n\n    Connector.prototype._sendCommand = function(command) {\n      return this.socket.send(JSON.stringify(command));\n    };\n\n    Connector.prototype._closeOnError = function() {\n      this._handshakeTimeout.stop();\n      this._disconnectionReason = 'error';\n      return this.socket.close();\n    };\n\n    Connector.prototype._onopen = function(e) {\n      var hello;\n      this.handlers.socketConnected();\n      this._disconnectionReason = 'handshake-failed';\n      hello = {\n        command: 'hello',\n        protocols: [PROTOCOL_6, PROTOCOL_7]\n      };\n      hello.ver = Version;\n      if (this.options.ext) {\n        hello.ext = this.options.ext;\n      }\n      if (this.options.extver) {\n        hello.extver = this.options.extver;\n      }\n      if (this.options.snipver) {\n        hello.snipver = this.options.snipver;\n      }\n      this._sendCommand(hello);\n      return this._handshakeTimeout.start(this.options.handshake_timeout);\n    };\n\n    Connector.prototype._onclose = function(e) {\n      this.protocol = 0;\n      this.handlers.disconnected(this._disconnectionReason, this._nextDelay);\n      return this._scheduleReconnection();\n    };\n\n    Connector.prototype._onerror = function(e) {};\n\n    Connector.prototype._onmessage = function(e) {\n      return this.protocolParser.process(e.data);\n    };\n\n    return Connector;\n\n  })();\n\n}).call(this);\n\n},{\"./protocol\":6}],2:[function(require,module,exports){\n(function() {\n  var CustomEvents;\n\n  CustomEvents = {\n    bind: function(element, eventName, handler) {\n      if (element.addEventListener) {\n        return element.addEventListener(eventName, handler, false);\n      } else if (element.attachEvent) {\n        element[eventName] = 1;\n        return element.attachEvent('onpropertychange', function(event) {\n          if (event.propertyName === eventName) {\n            return handler();\n          }\n        });\n      } else {\n        throw new Error(\"Attempt to attach custom event \" + eventName + \" to something which isn't a DOMElement\");\n      }\n    },\n    fire: function(element, eventName) {\n      var event;\n      if (element.addEventListener) {\n        event = document.createEvent('HTMLEvents');\n        event.initEvent(eventName, true, true);\n        return document.dispatchEvent(event);\n      } else if (element.attachEvent) {\n        if (element[eventName]) {\n          return element[eventName]++;\n        }\n      } else {\n        throw new Error(\"Attempt to fire custom event \" + eventName + \" on something which isn't a DOMElement\");\n      }\n    }\n  };\n\n  exports.bind = CustomEvents.bind;\n\n  exports.fire = CustomEvents.fire;\n\n}).call(this);\n\n},{}],3:[function(require,module,exports){\n(function() {\n  var LessPlugin;\n\n  module.exports = LessPlugin = (function() {\n    LessPlugin.identifier = 'less';\n\n    LessPlugin.version = '1.0';\n\n    function LessPlugin(window, host) {\n      this.window = window;\n      this.host = host;\n    }\n\n    LessPlugin.prototype.reload = function(path, options) {\n      if (this.window.less && this.window.less.refresh) {\n        if (path.match(/\\.less$/i)) {\n          return this.reloadLess(path);\n        }\n        if (options.originalPath.match(/\\.less$/i)) {\n          return this.reloadLess(options.originalPath);\n        }\n      }\n      return false;\n    };\n\n    LessPlugin.prototype.reloadLess = function(path) {\n      var i, len, link, links;\n      links = (function() {\n        var i, len, ref, results;\n        ref = document.getElementsByTagName('link');\n        results = [];\n        for (i = 0, len = ref.length; i < len; i++) {\n          link = ref[i];\n          if (link.href && link.rel.match(/^stylesheet\\/less$/i) || (link.rel.match(/stylesheet/i) && link.type.match(/^text\\/(x-)?less$/i))) {\n            results.push(link);\n          }\n        }\n        return results;\n      })();\n      if (links.length === 0) {\n        return false;\n      }\n      for (i = 0, len = links.length; i < len; i++) {\n        link = links[i];\n        link.href = this.host.generateCacheBustUrl(link.href);\n      }\n      this.host.console.log(\"LiveReload is asking LESS to recompile all stylesheets\");\n      this.window.less.refresh(true);\n      return true;\n    };\n\n    LessPlugin.prototype.analyze = function() {\n      return {\n        disable: !!(this.window.less && this.window.less.refresh)\n      };\n    };\n\n    return LessPlugin;\n\n  })();\n\n}).call(this);\n\n},{}],4:[function(require,module,exports){\n(function() {\n  var Connector, LiveReload, Options, ProtocolError, Reloader, Timer,\n    hasProp = {}.hasOwnProperty;\n\n  Connector = require('./connector').Connector;\n\n  Timer = require('./timer').Timer;\n\n  Options = require('./options').Options;\n\n  Reloader = require('./reloader').Reloader;\n\n  ProtocolError = require('./protocol').ProtocolError;\n\n  exports.LiveReload = LiveReload = (function() {\n    function LiveReload(window1) {\n      var k, ref, v;\n      this.window = window1;\n      this.listeners = {};\n      this.plugins = [];\n      this.pluginIdentifiers = {};\n      this.console = this.window.console && this.window.console.log && this.window.console.error ? this.window.location.href.match(/LR-verbose/) ? this.window.console : {\n        log: function() {},\n        error: this.window.console.error.bind(this.window.console)\n      } : {\n        log: function() {},\n        error: function() {}\n      };\n      if (!(this.WebSocket = this.window.WebSocket || this.window.MozWebSocket)) {\n        this.console.error(\"LiveReload disabled because the browser does not seem to support web sockets\");\n        return;\n      }\n      if ('LiveReloadOptions' in window) {\n        this.options = new Options();\n        ref = window['LiveReloadOptions'];\n        for (k in ref) {\n          if (!hasProp.call(ref, k)) continue;\n          v = ref[k];\n          this.options.set(k, v);\n        }\n      } else {\n        this.options = Options.extract(this.window.document);\n        if (!this.options) {\n          this.console.error(\"LiveReload disabled because it could not find its own <SCRIPT> tag\");\n          return;\n        }\n      }\n      this.reloader = new Reloader(this.window, this.console, Timer);\n      this.connector = new Connector(this.options, this.WebSocket, Timer, {\n        connecting: (function(_this) {\n          return function() {};\n        })(this),\n        socketConnected: (function(_this) {\n          return function() {};\n        })(this),\n        connected: (function(_this) {\n          return function(protocol) {\n            var base;\n            if (typeof (base = _this.listeners).connect === \"function\") {\n              base.connect();\n            }\n            _this.log(\"LiveReload is connected to \" + _this.options.host + \":\" + _this.options.port + \" (protocol v\" + protocol + \").\");\n            return _this.analyze();\n          };\n        })(this),\n        error: (function(_this) {\n          return function(e) {\n            if (e instanceof ProtocolError) {\n              if (typeof console !== \"undefined\" && console !== null) {\n                return console.log(e.message + \".\");\n              }\n            } else {\n              if (typeof console !== \"undefined\" && console !== null) {\n                return console.log(\"LiveReload internal error: \" + e.message);\n              }\n            }\n          };\n        })(this),\n        disconnected: (function(_this) {\n          return function(reason, nextDelay) {\n            var base;\n            if (typeof (base = _this.listeners).disconnect === \"function\") {\n              base.disconnect();\n            }\n            switch (reason) {\n              case 'cannot-connect':\n                return _this.log(\"LiveReload cannot connect to \" + _this.options.host + \":\" + _this.options.port + \", will retry in \" + nextDelay + \" sec.\");\n              case 'broken':\n                return _this.log(\"LiveReload disconnected from \" + _this.options.host + \":\" + _this.options.port + \", reconnecting in \" + nextDelay + \" sec.\");\n              case 'handshake-timeout':\n                return _this.log(\"LiveReload cannot connect to \" + _this.options.host + \":\" + _this.options.port + \" (handshake timeout), will retry in \" + nextDelay + \" sec.\");\n              case 'handshake-failed':\n                return _this.log(\"LiveReload cannot connect to \" + _this.options.host + \":\" + _this.options.port + \" (handshake failed), will retry in \" + nextDelay + \" sec.\");\n              case 'manual':\n                break;\n              case 'error':\n                break;\n              default:\n                return _this.log(\"LiveReload disconnected from \" + _this.options.host + \":\" + _this.options.port + \" (\" + reason + \"), reconnecting in \" + nextDelay + \" sec.\");\n            }\n          };\n        })(this),\n        message: (function(_this) {\n          return function(message) {\n            switch (message.command) {\n              case 'reload':\n                return _this.performReload(message);\n              case 'alert':\n                return _this.performAlert(message);\n            }\n          };\n        })(this)\n      });\n      this.initialized = true;\n    }\n\n    LiveReload.prototype.on = function(eventName, handler) {\n      return this.listeners[eventName] = handler;\n    };\n\n    LiveReload.prototype.log = function(message) {\n      return this.console.log(\"\" + message);\n    };\n\n    LiveReload.prototype.performReload = function(message) {\n      var ref, ref1, ref2;\n      this.log(\"LiveReload received reload request: \" + (JSON.stringify(message, null, 2)));\n      return this.reloader.reload(message.path, {\n        liveCSS: (ref = message.liveCSS) != null ? ref : true,\n        liveImg: (ref1 = message.liveImg) != null ? ref1 : true,\n        reloadMissingCSS: (ref2 = message.reloadMissingCSS) != null ? ref2 : true,\n        originalPath: message.originalPath || '',\n        overrideURL: message.overrideURL || '',\n        serverURL: \"http://\" + this.options.host + \":\" + this.options.port\n      });\n    };\n\n    LiveReload.prototype.performAlert = function(message) {\n      return alert(message.message);\n    };\n\n    LiveReload.prototype.shutDown = function() {\n      var base;\n      if (!this.initialized) {\n        return;\n      }\n      this.connector.disconnect();\n      this.log(\"LiveReload disconnected.\");\n      return typeof (base = this.listeners).shutdown === \"function\" ? base.shutdown() : void 0;\n    };\n\n    LiveReload.prototype.hasPlugin = function(identifier) {\n      return !!this.pluginIdentifiers[identifier];\n    };\n\n    LiveReload.prototype.addPlugin = function(pluginClass) {\n      var plugin;\n      if (!this.initialized) {\n        return;\n      }\n      if (this.hasPlugin(pluginClass.identifier)) {\n        return;\n      }\n      this.pluginIdentifiers[pluginClass.identifier] = true;\n      plugin = new pluginClass(this.window, {\n        _livereload: this,\n        _reloader: this.reloader,\n        _connector: this.connector,\n        console: this.console,\n        Timer: Timer,\n        generateCacheBustUrl: (function(_this) {\n          return function(url) {\n            return _this.reloader.generateCacheBustUrl(url);\n          };\n        })(this)\n      });\n      this.plugins.push(plugin);\n      this.reloader.addPlugin(plugin);\n    };\n\n    LiveReload.prototype.analyze = function() {\n      var i, len, plugin, pluginData, pluginsData, ref;\n      if (!this.initialized) {\n        return;\n      }\n      if (!(this.connector.protocol >= 7)) {\n        return;\n      }\n      pluginsData = {};\n      ref = this.plugins;\n      for (i = 0, len = ref.length; i < len; i++) {\n        plugin = ref[i];\n        pluginsData[plugin.constructor.identifier] = pluginData = (typeof plugin.analyze === \"function\" ? plugin.analyze() : void 0) || {};\n        pluginData.version = plugin.constructor.version;\n      }\n      this.connector.sendCommand({\n        command: 'info',\n        plugins: pluginsData,\n        url: this.window.location.href\n      });\n    };\n\n    return LiveReload;\n\n  })();\n\n}).call(this);\n\n},{\"./connector\":1,\"./options\":5,\"./protocol\":6,\"./reloader\":7,\"./timer\":9}],5:[function(require,module,exports){\n(function() {\n  var Options;\n\n  exports.Options = Options = (function() {\n    function Options() {\n      this.https = false;\n      this.host = null;\n      this.port = 35729;\n      this.snipver = null;\n      this.ext = null;\n      this.extver = null;\n      this.mindelay = 1000;\n      this.maxdelay = 60000;\n      this.handshake_timeout = 5000;\n    }\n\n    Options.prototype.set = function(name, value) {\n      if (typeof value === 'undefined') {\n        return;\n      }\n      if (!isNaN(+value)) {\n        value = +value;\n      }\n      return this[name] = value;\n    };\n\n    return Options;\n\n  })();\n\n  Options.extract = function(document) {\n    var element, i, j, keyAndValue, len, len1, m, mm, options, pair, ref, ref1, src;\n    ref = document.getElementsByTagName('script');\n    for (i = 0, len = ref.length; i < len; i++) {\n      element = ref[i];\n      if ((src = element.src) && (m = src.match(/^[^:]+:\\/\\/(.*)\\/z?livereload\\.js(?:\\?(.*))?$/))) {\n        options = new Options();\n        options.https = src.indexOf(\"https\") === 0;\n        if (mm = m[1].match(/^([^\\/:]+)(?::(\\d+))?(\\/+.*)?$/)) {\n          options.host = mm[1];\n          if (mm[2]) {\n            options.port = parseInt(mm[2], 10);\n          }\n        }\n        if (m[2]) {\n          ref1 = m[2].split('&');\n          for (j = 0, len1 = ref1.length; j < len1; j++) {\n            pair = ref1[j];\n            if ((keyAndValue = pair.split('=')).length > 1) {\n              options.set(keyAndValue[0].replace(/-/g, '_'), keyAndValue.slice(1).join('='));\n            }\n          }\n        }\n        return options;\n      }\n    }\n    return null;\n  };\n\n}).call(this);\n\n},{}],6:[function(require,module,exports){\n(function() {\n  var PROTOCOL_6, PROTOCOL_7, Parser, ProtocolError,\n    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  exports.PROTOCOL_6 = PROTOCOL_6 = 'http://livereload.com/protocols/official-6';\n\n  exports.PROTOCOL_7 = PROTOCOL_7 = 'http://livereload.com/protocols/official-7';\n\n  exports.ProtocolError = ProtocolError = (function() {\n    function ProtocolError(reason, data) {\n      this.message = \"LiveReload protocol error (\" + reason + \") after receiving data: \\\"\" + data + \"\\\".\";\n    }\n\n    return ProtocolError;\n\n  })();\n\n  exports.Parser = Parser = (function() {\n    function Parser(handlers) {\n      this.handlers = handlers;\n      this.reset();\n    }\n\n    Parser.prototype.reset = function() {\n      return this.protocol = null;\n    };\n\n    Parser.prototype.process = function(data) {\n      var command, e, error, message, options, ref;\n      try {\n        if (this.protocol == null) {\n          if (data.match(/^!!ver:([\\d.]+)$/)) {\n            this.protocol = 6;\n          } else if (message = this._parseMessage(data, ['hello'])) {\n            if (!message.protocols.length) {\n              throw new ProtocolError(\"no protocols specified in handshake message\");\n            } else if (indexOf.call(message.protocols, PROTOCOL_7) >= 0) {\n              this.protocol = 7;\n            } else if (indexOf.call(message.protocols, PROTOCOL_6) >= 0) {\n              this.protocol = 6;\n            } else {\n              throw new ProtocolError(\"no supported protocols found\");\n            }\n          }\n          return this.handlers.connected(this.protocol);\n        } else if (this.protocol === 6) {\n          message = JSON.parse(data);\n          if (!message.length) {\n            throw new ProtocolError(\"protocol 6 messages must be arrays\");\n          }\n          command = message[0], options = message[1];\n          if (command !== 'refresh') {\n            throw new ProtocolError(\"unknown protocol 6 command\");\n          }\n          return this.handlers.message({\n            command: 'reload',\n            path: options.path,\n            liveCSS: (ref = options.apply_css_live) != null ? ref : true\n          });\n        } else {\n          message = this._parseMessage(data, ['reload', 'alert']);\n          return this.handlers.message(message);\n        }\n      } catch (error) {\n        e = error;\n        if (e instanceof ProtocolError) {\n          return this.handlers.error(e);\n        } else {\n          throw e;\n        }\n      }\n    };\n\n    Parser.prototype._parseMessage = function(data, validCommands) {\n      var e, error, message, ref;\n      try {\n        message = JSON.parse(data);\n      } catch (error) {\n        e = error;\n        throw new ProtocolError('unparsable JSON', data);\n      }\n      if (!message.command) {\n        throw new ProtocolError('missing \"command\" key', data);\n      }\n      if (ref = message.command, indexOf.call(validCommands, ref) < 0) {\n        throw new ProtocolError(\"invalid command '\" + message.command + \"', only valid commands are: \" + (validCommands.join(', ')) + \")\", data);\n      }\n      return message;\n    };\n\n    return Parser;\n\n  })();\n\n}).call(this);\n\n},{}],7:[function(require,module,exports){\n(function() {\n  var IMAGE_STYLES, Reloader, numberOfMatchingSegments, pathFromUrl, pathsMatch, pickBestMatch, splitUrl;\n\n  splitUrl = function(url) {\n    var comboSign, hash, index, params;\n    if ((index = url.indexOf('#')) >= 0) {\n      hash = url.slice(index);\n      url = url.slice(0, index);\n    } else {\n      hash = '';\n    }\n    comboSign = url.indexOf('??');\n    if (comboSign >= 0) {\n      if (comboSign + 1 !== url.lastIndexOf('?')) {\n        index = url.lastIndexOf('?');\n      }\n    } else {\n      index = url.indexOf('?');\n    }\n    if (index >= 0) {\n      params = url.slice(index);\n      url = url.slice(0, index);\n    } else {\n      params = '';\n    }\n    return {\n      url: url,\n      params: params,\n      hash: hash\n    };\n  };\n\n  pathFromUrl = function(url) {\n    var path;\n    url = splitUrl(url).url;\n    if (url.indexOf('file://') === 0) {\n      path = url.replace(/^file:\\/\\/(localhost)?/, '');\n    } else {\n      path = url.replace(/^([^:]+:)?\\/\\/([^:\\/]+)(:\\d*)?\\//, '/');\n    }\n    return decodeURIComponent(path);\n  };\n\n  pickBestMatch = function(path, objects, pathFunc) {\n    var bestMatch, i, len1, object, score;\n    bestMatch = {\n      score: 0\n    };\n    for (i = 0, len1 = objects.length; i < len1; i++) {\n      object = objects[i];\n      score = numberOfMatchingSegments(path, pathFunc(object));\n      if (score > bestMatch.score) {\n        bestMatch = {\n          object: object,\n          score: score\n        };\n      }\n    }\n    if (bestMatch.score > 0) {\n      return bestMatch;\n    } else {\n      return null;\n    }\n  };\n\n  numberOfMatchingSegments = function(path1, path2) {\n    var comps1, comps2, eqCount, len;\n    path1 = path1.replace(/^\\/+/, '').toLowerCase();\n    path2 = path2.replace(/^\\/+/, '').toLowerCase();\n    if (path1 === path2) {\n      return 10000;\n    }\n    comps1 = path1.split('/').reverse();\n    comps2 = path2.split('/').reverse();\n    len = Math.min(comps1.length, comps2.length);\n    eqCount = 0;\n    while (eqCount < len && comps1[eqCount] === comps2[eqCount]) {\n      ++eqCount;\n    }\n    return eqCount;\n  };\n\n  pathsMatch = function(path1, path2) {\n    return numberOfMatchingSegments(path1, path2) > 0;\n  };\n\n  IMAGE_STYLES = [\n    {\n      selector: 'background',\n      styleNames: ['backgroundImage']\n    }, {\n      selector: 'border',\n      styleNames: ['borderImage', 'webkitBorderImage', 'MozBorderImage']\n    }\n  ];\n\n  exports.Reloader = Reloader = (function() {\n    function Reloader(window, console, Timer) {\n      this.window = window;\n      this.console = console;\n      this.Timer = Timer;\n      this.document = this.window.document;\n      this.importCacheWaitPeriod = 200;\n      this.plugins = [];\n    }\n\n    Reloader.prototype.addPlugin = function(plugin) {\n      return this.plugins.push(plugin);\n    };\n\n    Reloader.prototype.analyze = function(callback) {\n      return results;\n    };\n\n    Reloader.prototype.reload = function(path, options) {\n      var base, i, len1, plugin, ref;\n      this.options = options;\n      if ((base = this.options).stylesheetReloadTimeout == null) {\n        base.stylesheetReloadTimeout = 15000;\n      }\n      ref = this.plugins;\n      for (i = 0, len1 = ref.length; i < len1; i++) {\n        plugin = ref[i];\n        if (plugin.reload && plugin.reload(path, options)) {\n          return;\n        }\n      }\n      if (options.liveCSS && path.match(/\\.css(?:\\.map)?$/i)) {\n        if (this.reloadStylesheet(path)) {\n          return;\n        }\n      }\n      if (options.liveImg && path.match(/\\.(jpe?g|png|gif)$/i)) {\n        this.reloadImages(path);\n        return;\n      }\n      if (options.isChromeExtension) {\n        this.reloadChromeExtension();\n        return;\n      }\n      return this.reloadPage();\n    };\n\n    Reloader.prototype.reloadPage = function() {\n      return this.window.document.location.reload();\n    };\n\n    Reloader.prototype.reloadChromeExtension = function() {\n      return this.window.chrome.runtime.reload();\n    };\n\n    Reloader.prototype.reloadImages = function(path) {\n      var expando, i, img, j, k, len1, len2, len3, len4, m, ref, ref1, ref2, ref3, results1, selector, styleNames, styleSheet;\n      expando = this.generateUniqueString();\n      ref = this.document.images;\n      for (i = 0, len1 = ref.length; i < len1; i++) {\n        img = ref[i];\n        if (pathsMatch(path, pathFromUrl(img.src))) {\n          img.src = this.generateCacheBustUrl(img.src, expando);\n        }\n      }\n      if (this.document.querySelectorAll) {\n        for (j = 0, len2 = IMAGE_STYLES.length; j < len2; j++) {\n          ref1 = IMAGE_STYLES[j], selector = ref1.selector, styleNames = ref1.styleNames;\n          ref2 = this.document.querySelectorAll(\"[style*=\" + selector + \"]\");\n          for (k = 0, len3 = ref2.length; k < len3; k++) {\n            img = ref2[k];\n            this.reloadStyleImages(img.style, styleNames, path, expando);\n          }\n        }\n      }\n      if (this.document.styleSheets) {\n        ref3 = this.document.styleSheets;\n        results1 = [];\n        for (m = 0, len4 = ref3.length; m < len4; m++) {\n          styleSheet = ref3[m];\n          results1.push(this.reloadStylesheetImages(styleSheet, path, expando));\n        }\n        return results1;\n      }\n    };\n\n    Reloader.prototype.reloadStylesheetImages = function(styleSheet, path, expando) {\n      var e, error, i, j, len1, len2, rule, rules, styleNames;\n      try {\n        rules = styleSheet != null ? styleSheet.cssRules : void 0;\n      } catch (error) {\n        e = error;\n      }\n      if (!rules) {\n        return;\n      }\n      for (i = 0, len1 = rules.length; i < len1; i++) {\n        rule = rules[i];\n        switch (rule.type) {\n          case CSSRule.IMPORT_RULE:\n            this.reloadStylesheetImages(rule.styleSheet, path, expando);\n            break;\n          case CSSRule.STYLE_RULE:\n            for (j = 0, len2 = IMAGE_STYLES.length; j < len2; j++) {\n              styleNames = IMAGE_STYLES[j].styleNames;\n              this.reloadStyleImages(rule.style, styleNames, path, expando);\n            }\n            break;\n          case CSSRule.MEDIA_RULE:\n            this.reloadStylesheetImages(rule, path, expando);\n        }\n      }\n    };\n\n    Reloader.prototype.reloadStyleImages = function(style, styleNames, path, expando) {\n      var i, len1, newValue, styleName, value;\n      for (i = 0, len1 = styleNames.length; i < len1; i++) {\n        styleName = styleNames[i];\n        value = style[styleName];\n        if (typeof value === 'string') {\n          newValue = value.replace(/\\burl\\s*\\(([^)]*)\\)/, (function(_this) {\n            return function(match, src) {\n              if (pathsMatch(path, pathFromUrl(src))) {\n                return \"url(\" + (_this.generateCacheBustUrl(src, expando)) + \")\";\n              } else {\n                return match;\n              }\n            };\n          })(this));\n          if (newValue !== value) {\n            style[styleName] = newValue;\n          }\n        }\n      }\n    };\n\n    Reloader.prototype.reloadStylesheet = function(path) {\n      var i, imported, j, k, len1, len2, len3, len4, link, links, m, match, ref, ref1, style;\n      links = (function() {\n        var i, len1, ref, results1;\n        ref = this.document.getElementsByTagName('link');\n        results1 = [];\n        for (i = 0, len1 = ref.length; i < len1; i++) {\n          link = ref[i];\n          if (link.rel.match(/^stylesheet$/i) && !link.__LiveReload_pendingRemoval) {\n            results1.push(link);\n          }\n        }\n        return results1;\n      }).call(this);\n      imported = [];\n      ref = this.document.getElementsByTagName('style');\n      for (i = 0, len1 = ref.length; i < len1; i++) {\n        style = ref[i];\n        if (style.sheet) {\n          this.collectImportedStylesheets(style, style.sheet, imported);\n        }\n      }\n      for (j = 0, len2 = links.length; j < len2; j++) {\n        link = links[j];\n        this.collectImportedStylesheets(link, link.sheet, imported);\n      }\n      if (this.window.StyleFix && this.document.querySelectorAll) {\n        ref1 = this.document.querySelectorAll('style[data-href]');\n        for (k = 0, len3 = ref1.length; k < len3; k++) {\n          style = ref1[k];\n          links.push(style);\n        }\n      }\n      this.console.log(\"LiveReload found \" + links.length + \" LINKed stylesheets, \" + imported.length + \" @imported stylesheets\");\n      match = pickBestMatch(path, links.concat(imported), (function(_this) {\n        return function(l) {\n          return pathFromUrl(_this.linkHref(l));\n        };\n      })(this));\n      if (match) {\n        if (match.object.rule) {\n          this.console.log(\"LiveReload is reloading imported stylesheet: \" + match.object.href);\n          this.reattachImportedRule(match.object);\n        } else {\n          this.console.log(\"LiveReload is reloading stylesheet: \" + (this.linkHref(match.object)));\n          this.reattachStylesheetLink(match.object);\n        }\n      } else {\n        if (this.options.reloadMissingCSS) {\n          this.console.log(\"LiveReload will reload all stylesheets because path '\" + path + \"' did not match any specific one. To disable this behavior, set 'options.reloadMissingCSS' to 'false'.\");\n          for (m = 0, len4 = links.length; m < len4; m++) {\n            link = links[m];\n            this.reattachStylesheetLink(link);\n          }\n        } else {\n          this.console.log(\"LiveReload will not reload path '\" + path + \"' because the stylesheet was not found on the page and 'options.reloadMissingCSS' was set to 'false'.\");\n        }\n      }\n      return true;\n    };\n\n    Reloader.prototype.collectImportedStylesheets = function(link, styleSheet, result) {\n      var e, error, i, index, len1, rule, rules;\n      try {\n        rules = styleSheet != null ? styleSheet.cssRules : void 0;\n      } catch (error) {\n        e = error;\n      }\n      if (rules && rules.length) {\n        for (index = i = 0, len1 = rules.length; i < len1; index = ++i) {\n          rule = rules[index];\n          switch (rule.type) {\n            case CSSRule.CHARSET_RULE:\n              continue;\n            case CSSRule.IMPORT_RULE:\n              result.push({\n                link: link,\n                rule: rule,\n                index: index,\n                href: rule.href\n              });\n              this.collectImportedStylesheets(link, rule.styleSheet, result);\n              break;\n            default:\n              break;\n          }\n        }\n      }\n    };\n\n    Reloader.prototype.waitUntilCssLoads = function(clone, func) {\n      var callbackExecuted, executeCallback, poll;\n      callbackExecuted = false;\n      executeCallback = (function(_this) {\n        return function() {\n          if (callbackExecuted) {\n            return;\n          }\n          callbackExecuted = true;\n          return func();\n        };\n      })(this);\n      clone.onload = (function(_this) {\n        return function() {\n          _this.console.log(\"LiveReload: the new stylesheet has finished loading\");\n          _this.knownToSupportCssOnLoad = true;\n          return executeCallback();\n        };\n      })(this);\n      if (!this.knownToSupportCssOnLoad) {\n        (poll = (function(_this) {\n          return function() {\n            if (clone.sheet) {\n              _this.console.log(\"LiveReload is polling until the new CSS finishes loading...\");\n              return executeCallback();\n            } else {\n              return _this.Timer.start(50, poll);\n            }\n          };\n        })(this))();\n      }\n      return this.Timer.start(this.options.stylesheetReloadTimeout, executeCallback);\n    };\n\n    Reloader.prototype.linkHref = function(link) {\n      return link.href || link.getAttribute('data-href');\n    };\n\n    Reloader.prototype.reattachStylesheetLink = function(link) {\n      var clone, parent;\n      if (link.__LiveReload_pendingRemoval) {\n        return;\n      }\n      link.__LiveReload_pendingRemoval = true;\n      if (link.tagName === 'STYLE') {\n        clone = this.document.createElement('link');\n        clone.rel = 'stylesheet';\n        clone.media = link.media;\n        clone.disabled = link.disabled;\n      } else {\n        clone = link.cloneNode(false);\n      }\n      clone.href = this.generateCacheBustUrl(this.linkHref(link));\n      parent = link.parentNode;\n      if (parent.lastChild === link) {\n        parent.appendChild(clone);\n      } else {\n        parent.insertBefore(clone, link.nextSibling);\n      }\n      return this.waitUntilCssLoads(clone, (function(_this) {\n        return function() {\n          var additionalWaitingTime;\n          if (/AppleWebKit/.test(navigator.userAgent)) {\n            additionalWaitingTime = 5;\n          } else {\n            additionalWaitingTime = 200;\n          }\n          return _this.Timer.start(additionalWaitingTime, function() {\n            var ref;\n            if (!link.parentNode) {\n              return;\n            }\n            link.parentNode.removeChild(link);\n            clone.onreadystatechange = null;\n            return (ref = _this.window.StyleFix) != null ? ref.link(clone) : void 0;\n          });\n        };\n      })(this));\n    };\n\n    Reloader.prototype.reattachImportedRule = function(arg) {\n      var href, index, link, media, newRule, parent, rule, tempLink;\n      rule = arg.rule, index = arg.index, link = arg.link;\n      parent = rule.parentStyleSheet;\n      href = this.generateCacheBustUrl(rule.href);\n      media = rule.media.length ? [].join.call(rule.media, ', ') : '';\n      newRule = \"@import url(\\\"\" + href + \"\\\") \" + media + \";\";\n      rule.__LiveReload_newHref = href;\n      tempLink = this.document.createElement(\"link\");\n      tempLink.rel = 'stylesheet';\n      tempLink.href = href;\n      tempLink.__LiveReload_pendingRemoval = true;\n      if (link.parentNode) {\n        link.parentNode.insertBefore(tempLink, link);\n      }\n      return this.Timer.start(this.importCacheWaitPeriod, (function(_this) {\n        return function() {\n          if (tempLink.parentNode) {\n            tempLink.parentNode.removeChild(tempLink);\n          }\n          if (rule.__LiveReload_newHref !== href) {\n            return;\n          }\n          parent.insertRule(newRule, index);\n          parent.deleteRule(index + 1);\n          rule = parent.cssRules[index];\n          rule.__LiveReload_newHref = href;\n          return _this.Timer.start(_this.importCacheWaitPeriod, function() {\n            if (rule.__LiveReload_newHref !== href) {\n              return;\n            }\n            parent.insertRule(newRule, index);\n            return parent.deleteRule(index + 1);\n          });\n        };\n      })(this));\n    };\n\n    Reloader.prototype.generateUniqueString = function() {\n      return 'livereload=' + Date.now();\n    };\n\n    Reloader.prototype.generateCacheBustUrl = function(url, expando) {\n      var hash, oldParams, originalUrl, params, ref;\n      if (expando == null) {\n        expando = this.generateUniqueString();\n      }\n      ref = splitUrl(url), url = ref.url, hash = ref.hash, oldParams = ref.params;\n      if (this.options.overrideURL) {\n        if (url.indexOf(this.options.serverURL) < 0) {\n          originalUrl = url;\n          url = this.options.serverURL + this.options.overrideURL + \"?url=\" + encodeURIComponent(url);\n          this.console.log(\"LiveReload is overriding source URL \" + originalUrl + \" with \" + url);\n        }\n      }\n      params = oldParams.replace(/(\\?|&)livereload=(\\d+)/, function(match, sep) {\n        return \"\" + sep + expando;\n      });\n      if (params === oldParams) {\n        if (oldParams.length === 0) {\n          params = \"?\" + expando;\n        } else {\n          params = oldParams + \"&\" + expando;\n        }\n      }\n      return url + params + hash;\n    };\n\n    return Reloader;\n\n  })();\n\n}).call(this);\n\n},{}],8:[function(require,module,exports){\n(function() {\n  var CustomEvents, LiveReload, k;\n\n  CustomEvents = require('./customevents');\n\n  LiveReload = window.LiveReload = new (require('./livereload').LiveReload)(window);\n\n  for (k in window) {\n    if (k.match(/^LiveReloadPlugin/)) {\n      LiveReload.addPlugin(window[k]);\n    }\n  }\n\n  LiveReload.addPlugin(require('./less'));\n\n  LiveReload.on('shutdown', function() {\n    return delete window.LiveReload;\n  });\n\n  LiveReload.on('connect', function() {\n    return CustomEvents.fire(document, 'LiveReloadConnect');\n  });\n\n  LiveReload.on('disconnect', function() {\n    return CustomEvents.fire(document, 'LiveReloadDisconnect');\n  });\n\n  CustomEvents.bind(document, 'LiveReloadShutDown', function() {\n    return LiveReload.shutDown();\n  });\n\n}).call(this);\n\n},{\"./customevents\":2,\"./less\":3,\"./livereload\":4}],9:[function(require,module,exports){\n(function() {\n  var Timer;\n\n  exports.Timer = Timer = (function() {\n    function Timer(func1) {\n      this.func = func1;\n      this.running = false;\n      this.id = null;\n      this._handler = (function(_this) {\n        return function() {\n          _this.running = false;\n          _this.id = null;\n          return _this.func();\n        };\n      })(this);\n    }\n\n    Timer.prototype.start = function(timeout) {\n      if (this.running) {\n        clearTimeout(this.id);\n      }\n      this.id = setTimeout(this._handler, timeout);\n      return this.running = true;\n    };\n\n    Timer.prototype.stop = function() {\n      if (this.running) {\n        clearTimeout(this.id);\n        this.running = false;\n        return this.id = null;\n      }\n    };\n\n    return Timer;\n\n  })();\n\n  Timer.start = function(timeout, func) {\n    return setTimeout(func, timeout);\n  };\n\n}).call(this);\n\n},{}]},{},[8]);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/livereload-js/dist/livereload.js\n// module id = 24\n// module chunks = 0","/**\n * Additional dev events.\n *\n * @module stb/develop/events\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n/* eslint new-cap: 0 */\n\nvar //util    = require('util'),\n    app       = require('spa-app/lib/core'),\n    stringify = require('cjs-query').stringify,\n    //request = require('spa-request'),\n    //dom     = require('spa-dom'),\n    //storage = require('./storage'),\n    grid      = require('./grid'),\n    events    = {};\n\n\n/**\n * Apply the given screen geometry and reload the page.\n *\n * @param {number} width screen param\n * @param {number} height screen param\n */\nfunction changeScreenDimension ( width, height ) {\n    app.query.screenHeight = height;\n    location.search = '?' + stringify(app.query);\n\n    // check if it's necessary\n    /*if ( Number(localStorage.getItem('screen.height')) === height ) {\n        // not really\n        debug.log('no resolution change: new and current values are identical', 'red');\n    } else {\n        // yes\n        debug.log(util.format('switch to %sx%s', width, height), 'red');\n\n        // save in case of document reload\n        localStorage.setItem('screen.height', height);\n        localStorage.setItem('screen.width',  width);\n\n        // hide content to avoid raw HTML blinking\n        document.body.style.display = 'none';\n\n        // apply new metrics\n        app.setScreen(require('app:metrics')[height]);\n\n        // restore visibility\n        document.body.style.display = '';\n    }*/\n}\n\n\n// inherit SPA tools\n//require('spa-develop/events');\n\n\nevents.load = function () {\n    // export to globals div for develop HTML elements\n    //window.$develop = document.body.appendChild(document.createElement('div'));\n    // window.$develop.className = 'develop';\n\n    // apply dev css\n    //document.body.classList.add('develop');\n\n    grid.init();\n\n    if ( app.develop.storage.getItem('grid.active') === 'true' ) {\n        grid.show();\n    }\n\n    // stress-testing\n    //window.gremlins = require('gremlins.js/gremlins.min.js');\n    //window.horde    = window.gremlins.createHorde();\n};\n\n\nevents.keydown = function ( event ) {\n    var xhr, gSTB;\n\n    switch ( event.keyCode ) {\n        //// numpad 0\n        //case 96:\n        //    debug.log('full document reload', 'red');\n        //    location.hash = '';\n        //    location.reload();\n        //    break;\n\n        // numpad 1\n        case 97:\n            // NTSC\n            changeScreenDimension(720, 480);\n            break;\n\n        // numpad 2\n        case 98:\n            // PAL\n            changeScreenDimension(720, 576);\n            break;\n\n        // numpad 3\n        case 99:\n            // 720p\n            changeScreenDimension(1280, 720);\n            break;\n\n        // numpad 4\n        case 100:\n            // 1080p\n            changeScreenDimension(1920, 1080);\n            break;\n\n        // numpad 5\n        case 101:\n            // debug grid\n            if ( grid.active ) {\n                grid.hide();\n            } else {\n                grid.show();\n            }\n            debug.log('show grid: ' + grid.active, 'red');\n            app.develop.storage.setItem('grid.active', grid.active.toString());\n            break;\n\n        // numpad 6\n        //case 102:\n        //    // stress-testing for emulation\n        //    window.horde.unleash({nb: 500});\n        //    break;\n\n        // numpad 7\n        case 103:\n            gSTB = window.gSTB || window.parent.gSTB || window.top.gSTB;\n\n            // SpyJS enable/disable\n            if ( app.develop.storage.getItem('spyjs.active') ) {\n                //isSpyJs = false;\n                app.develop.storage.setItem('spyjs.active', false);\n                gSTB.ResetWebProxy();\n                debug.log('SpyJS: disable', 'red');\n                location.reload();\n            } else {\n                // try to \"ping\" proxy server\n                xhr = new XMLHttpRequest();\n                xhr.open('GET', document.location.protocol + '//' + location.hostname + ':3546');\n\n                xhr.onload = function () {\n                    // proxy seems ready\n                    //isSpyJs = true;\n                    app.develop.storage.setItem('spyjs.active', true);\n                    debug.log('SpyJS: enable', 'red');\n                    debug.log('SpyJS: set proxy to ' + location.hostname + ':' + 3546);\n\n                    gSTB.SetWebProxy(location.hostname, 3546, '', '', '');\n                    location.reload();\n                };\n\n                xhr.onerror = function () {\n                    debug.log('SpyJS: no connection (check SpyJS is started on the server)', 'red');\n                };\n\n                xhr.send();\n            }\n            break;\n\n        // numpad 8\n        //case 104:\n        //    // FireBug Lite\n        //    debug.log('firebug-lite activation', 'red');\n        //    document.head.appendChild(dom.tag('script', {\n        //        type: 'text/javascript',\n        //        src: 'http://getfirebug.com/firebug-lite.js#startOpened',\n        //        onload: function () {\n        //            debug.log('firebug-lite ready ...', 'green');\n        //        },\n        //        onerror: function ( error ) {\n        //            debug.inspect(error);\n        //        }\n        //    }));\n        //    break;\n\n        // numpad 9\n        //case 105:\n        //    // outline components and inner structures\n        //    debug.log('toggle develop css layout', 'red');\n        //    document.body.classList.toggle('develop');\n        //    break;\n\n        // numpad .\n        //case 110:\n        //    // CSS reload\n        //    debug.log('CSS reload', 'red');\n        //    // get through all css links\n        //    Array.prototype.slice.call(document.head.getElementsByTagName('link')).forEach(function forEachLink ( tag ) {\n        //        // get base name, modify and apply\n        //        tag.href = tag.href.split('?')[0] + '?' + (+new Date());\n        //    });\n        //    break;\n    }\n};\n\n\n// additional top-level key handlers\nwindow.addEventListener('load',    events.load);\nwindow.addEventListener('keydown', events.keydown);\n\n\n// public\nmodule.exports = events;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-app/lib/develop/events.js\n// module id = 25\n// module chunks = 0","/**\n * Visual grid with cursor.\n *\n * @module stb/develop/grid\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    metrics = app.metrics;\n    //storage = require('./storage');\n\n// public\nmodule.exports = window.grid = {\n\n    /** @type {HTMLElement} */\n    $canvas: null,\n\n    /** @type {CanvasRenderingContext2D} */\n    ctx: null,\n\n    lineWidth: 1,\n\n    // content middle point\n    centerX: 0,\n    centerY: 0,\n\n    // last click point\n    lastX: 0,\n    lastY: 0,\n\n    // mouse pointer\n    cursorX: 0,\n    cursorY: 0,\n\n    // list of click points\n    points: JSON.parse(app.develop.storage.getItem('grid.points') || '[]'),\n\n    // points to snap\n    snaps: [],\n\n    // visible or not\n    active: false,\n\n\n    init: function () {\n        // current execution context\n        var self = this;\n\n        this.$canvas = document.body.appendChild(document.createElement('canvas'));\n        this.ctx = this.$canvas.getContext('2d');\n\n        // apply size\n        this.ctx.canvas.width  = metrics.width;\n        this.ctx.canvas.height = metrics.height;\n\n        // safe zone center\n        this.centerX = metrics.availWidth  / 2 + metrics.availLeft;\n        this.centerY = metrics.availHeight / 2 + metrics.availTop;\n\n        this.snaps.push({x: metrics.availLeft,  y: metrics.availTop});\n        this.snaps.push({x: metrics.width - metrics.availRight, y: metrics.height - metrics.availBottom});\n        this.snaps.push({x: this.centerX, y: this.centerY});\n\n        this.ctx.lineWidth = this.lineWidth;\n        this.ctx.font = '14px Ubuntu';\n\n        this.$canvas.addEventListener('contextmenu', function ( event ) {\n            event.preventDefault();\n        });\n\n        this.$canvas.addEventListener('mousedown', function ( event ) {\n            self.mousedown(event);\n        });\n\n        this.$canvas.addEventListener('mousemove', function ( event ) {\n            self.mousemove(event);\n        });\n    },\n\n\n    mousemove: function ( event ) {\n        // current execution context\n        var self = this;\n\n        this.cursorX = event.x;\n        this.cursorY = event.y;\n\n        this.repaint();\n\n        if ( event.shiftKey ) {\n            // snap to the point divisible by 10\n            this.cursorX = Math.round(event.x / 10) * 10;\n            this.cursorY = Math.round(event.y / 10) * 10;\n        } else if ( !event.ctrlKey ) {\n            // snap to the nearest line\n            this.points.concat(this.snaps).forEach(function ( point ) {\n                if ( Math.abs(point.x - self.cursorX) <= 10 ) {\n                    self.cursorX = point.x;\n                }\n                if ( Math.abs(point.y - self.cursorY) <= 10 ) {\n                    self.cursorY = point.y;\n                }\n            });\n        }\n\n        this.drawPointer();\n    },\n\n\n    mousedown: function ( event ) {\n        var matchPoint = null,\n            self       = this,  // current execution context\n            point;\n\n        // all clicked crosses\n        this.points.forEach(function ( point ) {\n            if ( self.cursorX === point.x && self.cursorY === point.y ) {\n                matchPoint = point;\n            }\n        });\n\n        if ( event.button === 0 ) {\n            // left mouse button\n            if ( matchPoint === null ) {\n                this.points.push({x: this.cursorX, y: this.cursorY});\n            }\n            this.lastX = this.cursorX;\n            this.lastY = this.cursorY;\n        } else if ( event.button === 1 ) {\n            // middle mouse button\n            this.points.pop();\n            point = this.points[this.points.length - 1];\n            if ( point ) {\n                this.lastX = point.x;\n                this.lastY = point.y;\n            } else {\n                this.lastX = 0;\n                this.lastY = 0;\n            }\n        } else if ( event.button === 2 ) {\n            // right mouse button\n            if ( matchPoint === null ) {\n                this.lastX = 0;\n                this.lastY = 0;\n            } else {\n                this.points.splice(this.points.indexOf(matchPoint), 1);\n                point = this.points[this.points.length - 1];\n                if ( point ) {\n                    this.lastX = point.x;\n                    this.lastY = point.y;\n                } else {\n                    this.lastX = 0;\n                    this.lastY = 0;\n                }\n            }\n        }\n        this.repaint();\n        this.drawPointer();\n        app.develop.storage.setItem('grid.points', JSON.stringify(this.points));\n    },\n\n\n    show: function () {\n        this.active = true;\n        this.$canvas.classList.add('active');\n        this.repaint();\n    },\n\n\n    hide: function () {\n        this.active = false;\n        this.$canvas.classList.remove('active');\n    },\n\n\n    repaint: function () {\n        var ctx  = this.ctx,\n            self = this;  // current execution context\n\n        // remove all\n        ctx.clearRect(0, 0, metrics.width, metrics.height);\n\n        // safe zone center\n        this.drawCross({x: this.centerX, y: this.centerY}, {color: 'grey'});\n\n        // draw safe zone borders\n        ctx.strokeStyle = 'red';\n        ctx.strokeRect(metrics.availLeft + 0.5, metrics.availTop + 0.5, metrics.availWidth, metrics.availHeight);\n\n        // all clicked crosses\n        this.points.forEach(function ( point ) {\n            self.drawCross(point, {color: 'green', mark: 3});\n        });\n    },\n\n\n    drawPointer: function () {\n        var ctx    = this.ctx,\n            height = 16,\n            width, dx, dy, angle, title;\n\n        title = this.cursorX + ' : ' + this.cursorY;\n\n        // there were some clicks\n        if ( this.lastX || this.lastY ) {\n            // distance by X and Y from last point\n            dx = this.cursorX - this.lastX;\n            dy = this.cursorY - this.lastY;\n            title = title + ' [' + (dx > 0 ? '+' : '') + dx + ', ' + (dy > 0 ? '+' : '') + dy + ']';\n\n            // angle of the line connecting the cursor and the last point\n            angle = Math.atan2(dy, dx) * 180 / Math.PI;\n            title = title + ' ' + angle.toFixed(2) + '°';\n\n            // not perpendicular\n            if ( dx && dy ) {\n                // distance between the cursor and the last point\n                title = title + ' len: ' + Math.sqrt(Math.pow(Math.abs(dx), 2) + Math.pow(Math.abs(dy), 2)).toFixed(2);\n            }\n\n            // angle line\n            ctx.beginPath();\n            // show by color if 45°\n            ctx.strokeStyle = [-135, 135, -45, 45].indexOf(angle) === -1 ? 'grey' : 'yellow';\n            ctx.moveTo(this.lastX, this.lastY);\n            ctx.lineTo(this.cursorX, this.cursorY);\n            ctx.stroke();\n        }\n\n        // pointer itself\n        this.drawCross({x: this.cursorX, y: this.cursorY});\n\n        title = ' ' + title + ' ';\n        width = ctx.measureText(title).width;\n\n        // title background\n        ctx.fillStyle = 'yellow';\n        ctx.fillRect(\n            this.cursorX > this.centerX ? this.cursorX - width  : this.cursorX,\n            this.cursorY > this.centerY ? this.cursorY - height : this.cursorY,\n            width, height\n        );\n\n        // title itself\n        ctx.fillStyle    = 'black';\n        ctx.textBaseline = this.cursorY > this.centerY ? 'bottom' : 'top';\n        ctx.textAlign    = this.cursorX > this.centerX ? 'right'  : 'left';\n        ctx.fillText(title, this.cursorX, this.cursorY);\n    },\n\n\n    drawCross: function ( point, options ) {\n        var ctx = this.ctx;\n\n        // defaults\n        options = options || {};\n\n        // apply style options\n        ctx.lineWidth   = options.width || this.lineWidth;\n        ctx.strokeStyle = options.color || 'yellow';\n\n        ctx.beginPath();\n        // horizontal line\n        ctx.moveTo(0, point.y + 0.5);\n        ctx.lineTo(metrics.width, point.y + 0.5);\n        // vertical line\n        ctx.moveTo(point.x + 0.5, 0);\n        ctx.lineTo(point.x + 0.5, metrics.height);\n        // draw\n        ctx.stroke();\n\n        // center mark\n        if ( options.mark ) {\n            ctx.lineWidth = 3;\n            ctx.beginPath();\n            // horizontal line\n            ctx.moveTo(point.x - options.mark + 0.5, point.y + 0.5);\n            ctx.lineTo(point.x + options.mark + 0.5, point.y + 0.5);\n            // vertical line\n            ctx.moveTo(point.x + 0.5, point.y - options.mark + 0.5);\n            ctx.lineTo(point.x + 0.5, point.y + options.mark + 0.5);\n            // draw\n            ctx.stroke();\n            ctx.lineWidth = this.lineWidth;\n        }\n    }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-app/lib/develop/grid.js\n// module id = 26\n// module chunks = 0","/**\n * Global list of non-printable control key codes.\n *\n * At the moment `keypress` and `keydown` events are emitted for the same keys (for both printable and non-printable characters).\n *\n * WARNING!!! All codes in this file (except 'volumeUp' and 'volumeDown')\n * are used in window 'keydown' handler to prevent wrong 'keypress' firings.\n * If you add new code to this file 'keypress' event with this code will never fire.\n *\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar keys = require('spa-keys');\n\n\n// extend with additional codes\nkeys.back         = keys.backspace;\nkeys.channelNext  = keys.tab;        // Tab\nkeys.channelPrev  = keys.tab + 's';  // Shift+Tab\nkeys.ok           = keys.enter;      // Enter\nkeys.exit         = keys.escape;     // Esc\nkeys.volumeUp     = 107;             // NUMPAD +\nkeys.volumeDown   = 109;             // NUMPAD -\nkeys.f1           = 112 + 'c';       // Ctrl+F1\nkeys.f2           = 113 + 'c';       // Ctrl+F2\nkeys.f3           = 114 + 'c';       // Ctrl+F3\nkeys.f4           = 115 + 'c';       // Ctrl+F4\nkeys.refresh      = 116 + 'c';       // Ctrl+F5\nkeys.frame        = 117 + 'c';       // Ctrl+F6\nkeys.phone        = 119 + 'c';       // Ctrl+F8\nkeys.set          = 120 + 'c';       // Ctrl+F9\nkeys.tv           = 121 + 'c';       // Ctrl+F10\nkeys.menu         = 122 + 'c';       // Ctrl+F11\nkeys.app          = 123 + 'c';       // Ctrl+F12\nkeys.rewind       = 66  + 'a';       // Alt+B\nkeys.forward      = 70  + 'a';       // Alt+F\nkeys.audio        = 71  + 'a';       // Alt+G\nkeys.standby      = 74  + 'a';       // Alt+J\nkeys.keyboard     = 76  + 'a';       // Alt+L\nkeys.usbMounted   = 80  + 'a';       // Alt+P\nkeys.usbUnmounted = 81  + 'a';       // Alt+Q\nkeys.playPause    = 82  + 'a';       // Alt+R\nkeys.play         = -1;              // should be redefined on some platforms\nkeys.pause        = -1;              // should be redefined on some platforms\nkeys.stop         = 83  + 'a';       // Alt+S\nkeys.power        = 85  + 'a';       // Alt+U\nkeys.record       = 87  + 'a';       // Alt+W\nkeys.info         = 89  + 'a';       // Alt+Y\nkeys.mute         = 192 + 'a';\nkeys.digit0       = 48;\nkeys.digit1       = 49;\nkeys.digit2       = 50;\nkeys.digit3       = 51;\nkeys.digit4       = 52;\nkeys.digit5       = 53;\nkeys.digit6       = 54;\nkeys.digit7       = 55;\nkeys.digit8       = 56;\nkeys.digit9       = 57;\n\n\n// public\nmodule.exports = keys;\n\n// public\n// module.exports = {\n//     getCode: function ( event ) {\n//         var code = event.keyCode;\n//\n//         // apply key modifiers\n//         if ( event.shiftKey ) { code += 1000; }\n//         if ( event.altKey )   { code += 2000; }\n//\n//         return code;\n//     },\n//\n//     codes: {\n//         back:         8,    // Backspace\n//         channelPrev:  1009, // Shift+Tab\n//         channelNext:  9,    // Tab\n//         ok:           13,   // Enter\n//         exit:         27,   // Esc\n//         pageUp:       33,\n//         pageDown:     34,\n//         end:          35,\n//         home:         36,\n//         left:         37,\n//         up:           38,\n//         right:        39,\n//         down:         40,\n//         'delete':     46,\n//         volumeUp:     107,  // NUMPAD +\n//         volumeDown:   109,  // NUMPAD -\n//         f1:           112,  // F1\n//         f2:           113,  // F2\n//         f3:           114,  // F3\n//         f4:           115,  // F4\n//         refresh:      116,  // F5\n//         frame:        117,  // F6\n//         phone:        119,  // F8\n//         set:          120,  // F9\n//         tv:           121,  // F10\n//         menu:         122,  // F11\n//         app:          123,  // F12\n//         rewind:       2066, // Alt+B\n//         forward:      2070, // Alt+F\n//         audio:        2071, // Alt+G\n//         standby:      2074, // Alt+J\n//         keyboard:     2076, // Alt+L\n//         usbMounted:   2080, // Alt+P\n//         usbUnmounted: 2081, // Alt+Q\n//         playPause:    2082, // Alt+R\n//         stop:         2083, // Alt+S\n//         power:        2085, // Alt+U\n//         record:       2087, // Alt+W\n//         info:         2089, // Alt+Y\n//         mute:         2192\n//     }\n// };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-keys/index.js\n// module id = 27\n// module chunks = 0","/**\n * Global list of non-printable control key codes.\n *\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    backspace: 8,\n    tab:       9,\n    enter:     13,\n    escape:    27,\n    space:     32,\n    pageUp:    33,\n    pageDown:  34,\n    end:       35,\n    home:      36,\n    left:      37,\n    up:        38,\n    right:     39,\n    down:      40,\n    insert:    45,\n    // not \"delete\" because of old browsers issue\n    del:       46\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-keys/index.js\n// module id = 28\n// module chunks = 0","/**\n * Gettext localization configuration.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n\t// turn on/off localization support\n\tactive: true,\n\n\t// list of languages to generate localization files for\n\tlanguages: [\n\t\t'en',\n\t\t'ru',\n\t\t'uk',\n\t\t'de',\n\t\t'ar'\n\t],\n\n\t// list of languages to generate localization files for\n\tlanguagesCodeLocalized: [\n\t\t'EN',\n\t\t'РУ',\n\t\t'УКР',\n\t\t'DE',\n\t\t'AR'\n\t],\n\n\tlanguagesLocalized: [\n\t\t'English',\n\t\t'Русский',\n\t\t'Українська',\n\t\t'Deutch',\n\t\t'Arabian'\n\t],\n\n\tlocales: [\n\t\t'en-US',\n\t\t'ru-RU',\n\t\t'uk-UA',\n\t\t'de-DE',\n\t\t'ar-EG'\n\t],\n\n\tregions: [\n\t\t'US',\n\t\t'RU',\n\t\t'UA',\n\t\t'DE',\n\t\t'EG'\n\t],\n\n\tdirections: [\n\t\t'ltr',\n\t\t'ltr',\n\t\t'ltr',\n\t\t'ltr',\n\t\t'rtl'\n\t],\n\n\t// Specifies the encoding of the input files.\n\t// This option is needed only if some untranslated message strings or their corresponding comments\n\t// contain non-ASCII characters.\n\t// @flag --from-code=name\n\tfromCode: 'UTF-8',\n\n\t// Place comment blocks starting with tag and preceding keyword lines in the output file.\n\t// Without a tag, the option means to put all comment blocks preceding keyword lines in the output file.\n\t// Note that comment blocks supposed to be extracted must be adjacent to keyword lines.\n\t// @flag --add-comments[=tag]\n\taddComments: 'gettext',\n\n\t// Write the .po file using indented style.\n\t// @flag --indent\n\tindent: false,\n\n\t// Write \"#: filename:line\" lines.\n\t// @flag --no-location\n\tnoLocation: true,\n\n\t// Do not break long message lines.\n\t// Message lines whose width exceeds the output page width will not be split into several lines.\n\t// Only file reference lines which are wider than the output page width will be split.\n\t// @flag --no-wrap\n\tnoWrap: true,\n\n\t// Generate sorted output.\n\t// Note that using this option makes it much harder for the translator to understand each message’s context.\n\t// @flag --sort-output\n\tsortOutput: true,\n\n\t// Sort output by file location.\n\t// @flag --sort-by-file\n\tsortByFile: false,\n\n\t// Increase verbosity level.\n\t// @flag --verbose\n\tverbose: false\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/lang.js\n// module id = 29\n// module chunks = 0","/**\n * Global application configuration.\n * Should store run-time options, paths, flags and so on.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n// public export\nmodule.exports = {\n\tdefaultSettings: {\n\t\tsafeSearch: 0,\n\t\tquality: 0,\n\t\tlanguage: 'en',\n\t\tlanguageOverwrite: 0,\n\t\tkeyboardLanguage: 0,\n\t\tcredentialsIndex: -1,\n\t\trefreshToken: null,\n\t\tsessionToken: null\n\t},\n\tsettingsFile: 'youtube.json',\n\tlogging: false,\n\tajaxDebug: false\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/app.js\n// module id = 30\n// module chunks = 0","'use strict';\n\n\nvar app = require('mag-app'),\n\tPromise = require('../promise'),\n\n\tfetch = require('../util/fetch'),\n\n\tlang = require('../../../../config/lang'),\n\n\tchannelsIcons = require('./category.icons.js'),\n\tapi = {\n\t\tcredentials: [],\n\t\tcategories: [],\n\t\tsubscriptions: [],\n\t\tplaylists: [],\n\t\tBASE_URL: 'https://www.googleapis.com/youtube/v3/',\n\t\tAPP_DOMAIN: 'https://mathiasbynens.be/demo/css-without-html',\n\t\tAUTH_URL: '',\n\t\tcredentialsIndex: 0,\n\t\ttoken: false,\n\t\trefreshToken: false,\n\t\tactiveKey: '',\n\t\tstaticUrl: '',\n\t\tregionCode: '',\n\n\t\t/**\n\t\t * Base api request function.\n\t\t *\n\t\t * @param {string} method http request method\n\t\t * @param {string} url control part of the url\n\t\t * @param {string} [body] option post params\n\t\t * @return {Promise} promised action\n\t\t */\n\t\trequest: function ( method, url, body ) {\n\t\t\tvar self = this;\n\n\t\t\t//console.log('AJAX ' + method + ' to ' + self.BASE_URL + url + self.staticUrl);\n\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t// \t//debug.log('AJAX ' + method + ' to ' + self.BASE_URL + url + self.staticUrl);\n\t\t\t// }\n\n\t\t\t// Creating a promise\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\t\t\t\t// Instantiates the XMLHttpRequest\n\t\t\t\tvar client = new XMLHttpRequest();\n\n\t\t\t\tclient.open(method, self.BASE_URL + url + self.staticUrl + '&qq=123');\n\n\t\t\t\tclient.setRequestHeader('Accept', 'application/json');\n\t\t\t\tclient.setRequestHeader('Content-Type', 'application/json');\n\n\t\t\t\tif ( self.token ) {\n\t\t\t\t\tclient.setRequestHeader('Authorization', 'Bearer ' + self.token);\n\t\t\t\t}\n\n\t\t\t\tclient.onload = function () {\n\t\t\t\t\tvar data;\n\n\t\t\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t\t\t// \tdebug.log(this.status);\n\t\t\t\t\t// }\n\t\t\t\t\tif ( this.status === 200 ) {\n\t\t\t\t\t\t// Performs the function \"resolve\" when this.status is equal to 200\n\t\t\t\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t\t\t\t// \twindow.dump(self.BASE_URL + url + self.staticUrl, 'LOADED');\n\t\t\t\t\t\t// \twindow.dump(this.responseText, 'response');\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t//debug.info(this.responseText)\n\t\t\t\t\t\tresolve( this.responseText );\n\t\t\t\t\t} else if ( this.status === 401 ) {\n\t\t\t\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t\t\t\t// \twindow.dump(self.BASE_URL + url + self.staticUrl, 'LOADED with code 401');\n\t\t\t\t\t\t// \twindow.dump(this.responseText, 'response');\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tapi.token = false;\n\t\t\t\t\t\tapp.settings.sessionToken = false;\n\t\t\t\t\t\trefreshToken(app.settings).then(function () {\n\t\t\t\t\t\t\treturn menuInit();\n\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\tclient.request(method, url, body).then(function ( data ) {\n\t\t\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})['catch'](function ( e ) {\n\t\t\t\t\t\t\treject( e );\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if ( this.status === 403 ) {\n\t\t\t\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t\t\t\t// \twindow.dump(self.BASE_URL + url + self.staticUrl, 'LOADED with code 401');\n\t\t\t\t\t\t// \twindow.dump(this.responseText, 'response');\n\t\t\t\t\t\t// }\n\t\t\t\t\t\treject( this.status );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t\t\t\t// \twindow.dump(self.BASE_URL + url + self.staticUrl, 'LOADED with code ' + this.status);\n\t\t\t\t\t\t// \twindow.dump(this.responseText, 'response');\n\t\t\t\t\t\t// }\n\t\t\t\t\t\t// Performs the function \"reject\" when this.status is different than 200\n\t\t\t\t\t\treject( this.status );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tclient.onerror = function () {\n\t\t\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t\t\t// \twindow.dump(self.BASE_URL + url + self.staticUrl, 'ERRORRED with code ' + this.status);\n\t\t\t\t\t// }\n\t\t\t\t\treject();\n\t\t\t\t};\n\t\t\t\tclient.send(body);\n\t\t\t});\n\t\t}\n\t};\n\n\nfunction getRandomInt ( min, max ) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n\nfunction resolveCredentials ( index, callback ) {\n\tvar credentials = api.credentials[index],\n\t\txhr, baseUrl;\n\n\txhr = new XMLHttpRequest();\n\tbaseUrl = 'https://www.googleapis.com/youtube/v3/search?part=id&hl=ru-RU&regionCode=UA&q=sad&key=';\n\n\txhr.onload = function () {\n\t\tif ( this.status === 200 ) {\n\t\t\tapi.activeKey = api.credentials[index].key;\n\t\t\tapi.staticUrl = '&key=' + api.activeKey + '&hl=' + lang.locales[app.languageIndex] + '&regionCode=' + api.regionCode;\n\t\t\tcallback();\n\t\t} else {\n\t\t\tresolveCredentials(getRandomInt(0, api.credentials.length - 1), callback);\n\t\t}\n\t};\n\n\txhr.open('GET', baseUrl + credentials.key);\n\n\txhr.setRequestHeader('Accept', 'application/json');\n\txhr.setRequestHeader('Content-Type', 'application/json');\n\n\txhr.send();\n}\n\n\nfunction x (a, b) {\n\tvar i = 0, size = a.length,\n\t\td = [],\n\t\tk;\n\n\td.length = size;\n\n\twhile (i < size) {\n\t\tk = i % b.length;\n\t\td[i] = (String.fromCharCode(a.charCodeAt(i) ^ b.charCodeAt(k)))\n\t\t++i;\n\t}\n\n\treturn d.join('');\n}\n\n\nfunction setupConfig ( configRaw ) {\n\tvar config;\n\n\ttry {\n\t\tconfig = JSON.parse(configRaw);\n\t\tif ( config.keys ) {\n\t\t\tapi.credentials = config.keys;\n\t\t}\n\t} catch ( e ) {\n\t\t//debug.info(e);\n\t\tconfig = {menu: {}}\n\t}\n\n\treturn new Promise(function ( resolve ) {\n\t\tvar xhr;\n\n\t\tif ( !(config.keys && config.keys[0].key !== 'AIzaSyCFtsKHmupT42nYB2HO_xiwMIrkWe4CD3c' ) ) {\n\t\t\t// decode public keys\n\t\t\txhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', '1.cab', false);\n\t\t\txhr.send();\n\t\t\txhr = x(atob(xhr.responseText), kol('googleshallnotpass', 'magiscool'));\n\n\t\t\tapi.credentials = JSON.parse(xhr).map(function ( item ) {\n\t\t\t\treturn {\n\t\t\t\t\tkey: item.k,\n\t\t\t\t\tclientId: item.c,\n\t\t\t\t\tsecret: item.s\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tresolveCredentials(getRandomInt(0, api.credentials.length - 1), function () {\n\t\t\tif ( config.menu && config.menu.categories ) {\n\t\t\t\tObject.keys(config.menu.categories).forEach(function ( categoryId ) {\n\t\t\t\t\tapi.categories.push({\n\t\t\t\t\t\tid: categoryId,\n\t\t\t\t\t\tvalue: config.menu.categories[categoryId],\n\t\t\t\t\t\ttitle: config.menu.categories[categoryId],\n\t\t\t\t\t\ticon: channelsIcons[categoryId]\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t//if ( config.menu.playlists ) {\n\t\t\t\t//\tObject.keys(config.menu.playlists).forEach(function ( playlistId ) {\n\t\t\t\t//\t\tapi.playlists.push({\n\t\t\t\t//\t\t\tid: playlistId,\n\t\t\t\t//\t\t\tvalue: config.menu.playlists[playlistId],\n\t\t\t\t//\t\t\ttitle: config.menu.playlists[playlistId],\n\t\t\t\t//\t\t\ticon: channelsIcons['GCQmVzdCBvZiBZb3VUdWJl']\n\t\t\t\t//\t\t});\n\t\t\t\t//\t});\n\t\t\t\t//}\n\t\t\t\tif ( config.menu.channels ) {\n\t\t\t\t\tObject.keys(config.menu.channels).forEach(function ( channelId ) {\n\t\t\t\t\t\tapi.subscriptions.push({\n\t\t\t\t\t\t\tid: channelId,\n\t\t\t\t\t\t\tvalue: config.menu.channels[channelId],\n\t\t\t\t\t\t\ttitle: config.menu.channels[channelId],\n\t\t\t\t\t\t\ticon: channelsIcons['GCVG9wIEJsb2dz']\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tresolve();\n\n\t\t\t} else {\n\t\t\t\tapi.request('GET', 'guideCategories?part=snippet').then(function ( data ) {\n\t\t\t\t\tif ( data && data.items ) {\n\t\t\t\t\t\tdata.items.forEach(function ( item ) {\n\t\t\t\t\t\t\tapi.categories.push({\n\t\t\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\t\t\ttitle: item.snippet.title,\n\t\t\t\t\t\t\t\tvalue: item.snippet.title,\n\t\t\t\t\t\t\t\ticon: channelsIcons[item.id]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( config.menu ) {\n\t\t\t\t\t\t//if ( config.menu.playlists ) {\n\t\t\t\t\t\t//\tObject.keys(config.menu.playlists).forEach(function ( playlistId ) {\n\t\t\t\t\t\t//\t\tapi.subscriptions.push({\n\t\t\t\t\t\t//\t\t\tid: playlistId,\n\t\t\t\t\t\t//\t\t\tvalue: playlistId,\n\t\t\t\t\t\t//\t\t\ttitle: config.menu.playlists[playlistId],\n\t\t\t\t\t\t//\t\t\ticon: channelsIcons['GCVG9wIEJsb2dz']\n\t\t\t\t\t\t//\t\t});\n\t\t\t\t\t\t//\t});\n\t\t\t\t\t\t//}\n\t\t\t\t\t\tif ( config.menu.channels ) {\n\t\t\t\t\t\t\tObject.keys(config.menu.channels).forEach(function ( channelId ) {\n\t\t\t\t\t\t\t\tapi.subscriptions.push({\n\t\t\t\t\t\t\t\t\tid: channelId,\n\t\t\t\t\t\t\t\t\tvalue: channelId,\n\t\t\t\t\t\t\t\t\ttitle: config.menu.channels[channelId],\n\t\t\t\t\t\t\t\t\ticon: channelsIcons['GCVG9wIEJsb2dz']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve();\n\t\t\t\t}, function ( error ) {\n\t\t\t\t\tif ( error === 403 && api.credentials.length > 0 ) {\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t//var i, size, categoriesIds, playlistsIds, channelsIds;\n\t\t\t//\n\t\t\t//if ( config.menu.categories ) {\n\t\t\t//\tcategoriesIds = Object.keys(config.menu.categories);\n\t\t\t//\tsize = categoriesIds.length;\n\t\t\t//\ti = 0;\n\t\t\t//\twhile ( i < size ) {\n\t\t\t//\n\t\t\t//\t}\n\t\t\t//}\n\n\t\t})\n\t})\n\n\t//if ( useRandomCredentials ) {\n\t//\tif ( configRaw.credentials ) {\n\t//\t\tapi.credentials = config.credentials;\n\t//\t}\n\t//\tapi.credentialsIndex = getRandomInt(0, api.credentials.key.length - 1);\n\t//\tapi.activeKey = api.credentials.key[self.credentialsIndex];\n\t//\tapi.AUTH_URL = 'https://accounts.google.com/o/oauth2/auth?response_type=code&scope=https://www.googleapis.com/auth/youtube.force-ssl&access_type=offline&redirect_uri=' + api.APP_DOMAIN + '&client_id=' + api.credentials.clientId[api.credentialsIndex];\n\t//}\n\n\t//guideCategories = JSON.parse(guideCategories).items;\n\t//guideCategories.forEach(function ( item ) {\n\t//\tcategories[item.id] = {\n\t//\t\tid: item.id,\n\t//\t\ttitle: item.snippet.title,\n\t//\t\tvalue: item.snippet.title,\n\t//\t\ticon: channelsIcons[item.id]\n\t//\t};\n\t//});\n    //\n\t//if ( categoriesKeys.length > 0 ) {\n\t//\tconfig.forEach(function ( id ) {\n\t//\t\tif ( categories[id] ) {\n\t//\t\t\tapi.categories.push(categories[id]);\n\t//\t\t}\n\t//\t});\n\t//} else {\n\t//\tguideCategories.forEach(function ( item ) {\n\t//\t\tapi.categories.push({\n\t//\t\t\tid: item.id,\n\t//\t\t\ttitle: item.snippet.title,\n\t//\t\t\tvalue: item.snippet.title,\n\t//\t\t\ticon: channelsIcons[item.id]\n\t//\t\t});\n\t//\t});\n\t//}\n    //\n\t//if ( api.token ) {\n\t//\treturn api.request('GET', 'subscriptions?part=snippet&mine=true&maxResults=50').then(function ( data ) {\n\t//\t\tdata = JSON.parse(data).items;\n\t//\t\tdata.forEach(function ( item ) {\n\t//\t\t\tapi.subscriptions.push({\n\t//\t\t\t\tid: item.snippet.resourceId.channelId,\n\t//\t\t\t\tvalue: item.snippet.title,\n\t//\t\t\t\ttitle: item.snippet.title,\n\t//\t\t\t\ticon: item.snippet.thumbnails['default'].url\n\t//\t\t\t});\n\t//\t\t});\n\t//\t}, function (  ) {\n    //\n\t//\t});\n\t//}\n}\n\n\nfunction menuInit () {\n\t//return api.request('GET', 'guideCategories?part=snippet').then(function ( data ) {\n\t\tvar xhr = new XMLHttpRequest(),\n\t\t\tconfigUrl = 'https://raw.githubusercontent.com/GeraldBrooks/youtube/master/config.json';\n\n\t\tif ( app.params.config ) {\n\t\t\tconfigUrl = app.params.config;\n\t\t}\n\n\t\txhr.open('GET', configUrl);\n\n\t\t// if ( AJAX_DEBUG ) {\n\t\t// \twindow.dump(configUrl, 'CONFIG URL');\n\t\t// }\n\n\t\treturn fetch(xhr).then(function ( config ) {\n\t\t\treturn setupConfig(config);\n\t\t})['catch'](function (err) {\n\t\t\txhr.open('GET', 'config.json');\n\n\t\t\tfetch(xhr).then(function ( config ) {\n\t\t\t\treturn setupConfig(config);\n\t\t\t})['catch'](function (  ) {\n\t\t\t\tsetupConfig();\n\t\t\t\t//data = JSON.parse(data).items;\n\t\t\t\t//data.splice(1, 1);\n\t\t\t\t//data.forEach(function ( item ) {\n\t\t\t\t//\tapi.categories.push({\n\t\t\t\t//\t\tid: item.id,\n\t\t\t\t//\t\ttitle: item.snippet.title,\n\t\t\t\t//\t\tvalue: item.snippet.title,\n\t\t\t\t//\t\ticon: channelsIcons[item.id]\n\t\t\t\t//\t});\n\t\t\t\t//});\n\t\t\t\t//if ( api.token ) {\n\t\t\t\t//\treturn api.request('GET', 'subscriptions?part=snippet&mine=true&maxResults=50').then(function ( data ) {\n\t\t\t\t//\t\tdata = JSON.parse(data).items;\n\t\t\t\t//\t\tdata.forEach(function ( item ) {\n\t\t\t\t//\t\t\tapi.subscriptions.push({\n\t\t\t\t//\t\t\t\tid: item.snippet.resourceId.channelId,\n\t\t\t\t//\t\t\t\tvalue: item.snippet.title,\n\t\t\t\t//\t\t\t\ttitle: item.snippet.title,\n\t\t\t\t//\t\t\t\ticon: item.snippet.thumbnails['default'].url\n\t\t\t\t//\t\t\t});\n\t\t\t\t//\t\t});\n\t\t\t\t//\t}, function (  ) {\n                //\n\t\t\t\t//\t});\n\t\t\t\t//}\n\t\t\t})\n\t\t});\n\t//})['catch'](function (error, url) {\n\t//\t//debug.info([error, url], 'catch API LOAD ERROR');\n\t//});\n}\n\n\nfunction refreshToken ( settings ) {\n\t//return new Promise( function ( resolve, reject )\n\t\t//var client = new XMLHttpRequest();\n        //\n\t\t////debug.info(settings, 'SETTINGS');\n\t\t//if ( settings.refreshToken ) {\n\t\t//\tclient.open('POST', 'https://accounts.google.com/o/oauth2/token');\n\t\t//\tclient.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        //\n\t\t//\tclient.onload = function () {\n\t\t//\t\tif ( this.status === 200 ) {\n\t\t//\t\t\t// Performs the function \"resolve\" when this.status is equal to 200\n\t\t//\t\t\tapi.token = JSON.parse(this.responseText).access_token;\n\t\t//\t\t\tapi.refreshToken = refreshToken;\n\t\t//\t\t\tresolve();\n\t\t//\t\t} else {\n\t\t//\t\t\tapi.token = false;\n\t\t//\t\t\tapi.refreshToken = false;\n\t\t//\t\t\t// Performs the function \"reject\" when this.status is different than 200\n\t\t//\t\t\treject(this.status);\n\t\t//\t\t}\n\t\t//\t};\n\t\t//\tclient.onerror = function () {\n\t\t//\t\tapi.token = false;\n\t\t//\t\tapi.refreshToken = false;\n\t\t//\t\treject(this.status);\n\t\t//\t};\n\t\t//\tif ( AJAX_DEBUG ) {\n\t\t//\t\t//debug.info('client_id=' + api.credentials.clientId[api.credentialsIndex] + '&client_secret=' + api.credentials.secret[api.credentialsIndex] + '&grant_type=refresh_token&refresh_token=' + settings.refreshToken, 'refreshToken');\n\t\t//\t}\n\t\t//\tclient.send('client_id=' + api.credentials.clientId[api.credentialsIndex] + '&client_secret=' + api.credentials.secret[api.credentialsIndex] + '&grant_type=refresh_token&refresh_token=' + settings.refreshToken);\n\t\t//\treturn;\n\t\t//} else if ( settings.sessionToken ) {\n\t\t//\tapi.token = settings.sessionToken;\n\t\t//\tresolve();\n\t\t//\treturn;\n\t\t//}\n\t\t//reject();\n\t//});\n}\n\n\n/**\n *\n * @param {Object} settings user settings\n * @return {Promise} result promise\n */\napi.init = function ( settings ) {\n\t//if ( settings.customCredenitals ) {\n\t//\tthis.credentials = settings.customCredenitals;\n\t//\tthis.credentialsIndex = getRandomInt(0, this.credentials.key.length - 1);\n\t//} else {\n\t//\tif ( settings.refreshToken && typeof settings.credentialsIndex === 'number' && settings.credentialsIndex !== -1 ) {\n\t//\t\tthis.credentialsIndex = settings.credentialsIndex;\n\t//\t} else {\n\t//\t\tthis.credentialsIndex = getRandomInt(0, this.credentials.keys.length - 1);\n\t//\t}\n\t//}\n\n\t//this.activeKey = this.credentials.key[this.credentialsIndex];\n    //\n\t//this.AUTH_URL = 'https://accounts.google.com/o/oauth2/auth?approval_prompt=force&response_type=code&scope=https://www.googleapis.com/auth/youtube.force-ssl&access_type=offline&redirect_uri=' + this.APP_DOMAIN + '&client_id=' + this.credentials.clientId[this.credentialsIndex];\n    //\n\tif ( app.params.regionCode ) {\n\t\tapi.regionCode = app.params.regionCode;\n\t} else {\n\t\tapi.regionCode = lang.regions[app.languageIndex];\n\t}\n\t//\tthis.staticUrl = '&key=' + this.activeKey + '&hl=' + lang.locales[app.languageIndex] + '&regionCode=' + lang.regions[app.languageIndex];\n\t//}\n\n\t//return refreshToken(app.settings).then(function () {\n\t\treturn menuInit();\n\t//}, function () {\n\t//\treturn menuInit(true);\n\t//})['catch'](function ( e ) {\n\t//\t//debug.info(e);\n\t//});\n};\n\n\napi.postAuth = function ( code ) {\n\t//var self = this;\n    //\n\t////debug.info(code, 'postAuth');\n\t//return new Promise( function ( resolve, reject ) {\n\t//\t// Instantiates the XMLHttpRequest\n\t//\tvar client = new XMLHttpRequest();\n    //\n\t//\tif ( !code ) {\n\t//\t\t//debug.log('postAuth reject');\n\t//\t\treject();\n\t//\t}\n    //\n\t//\tclient.open('POST', 'https://www.googleapis.com/oauth2/v4/token');\n\t//\tclient.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    //\n\t//\tclient.onload = function () {\n\t//\t\t//debug.log('postAuth onload');\n\t//\t\t//debug.info(this.responseText)\n\t//\t\tif ( this.status === 200 ) {\n\t//\t\t\t// Performs the function \"resolve\" when this.status is equal to 200\n\t//\t\t\tself.token = JSON.parse(this.responseText);\n\t//\t\t\tself.refreshToken = self.token.refresh_token;\n\t//\t\t\tself.token = self.token.access_token;\n\t//\t\t\tresolve({\n\t//\t\t\t\trefreshToken: self.refreshToken,\n\t//\t\t\t\tsessionToken: self.token\n\t//\t\t\t});\n\t//\t\t} else {\n\t//\t\t\tself.token = false;\n\t//\t\t\tself.refreshToken = false;\n\t//\t\t\t// Performs the function \"reject\" when this.status is different than 200\n\t//\t\t\treject(this.status);\n\t//\t\t}\n\t//\t};\n\t//\tclient.onerror = function () {\n\t//\t\t//debug.log('postAuth onerror');\n\t//\t\tself.token = false;\n\t//\t\tself.refreshToken = false;\n\t//\t\treject(this.status);\n\t//\t};\n\t//\tdebug.info('code=' + code + '&client_id=' +\n\t//\t\tself.credentials.clientId[self.credentialsIndex] + '&client_secret=' +\n\t//\t\tself.credentials.secret[self.credentialsIndex] + '&grant_type=authorization_code&redirect_uri=' +\n\t//\t\tself.APP_DOMAIN, 'POST AUTH');\n    //\n\t//\tclient.send('code=' + code + '&client_id=' +\n\t//\t\tself.credentials.clientId[self.credentialsIndex] + '&client_secret=' +\n\t//\t\tself.credentials.secret[self.credentialsIndex] + '&grant_type=authorization_code&redirect_uri='\n\t//\t\t+ self.APP_DOMAIN);\n\t//});\n};\n\n\n/**\n * Convert time in seconds for better human readability.\n *\n * @param {string} timeStr time in ISO-8601 standart, like 'PT2M7S' = 2min 7 sec\n * @return {string} readable seconds\n */\napi.normalizeVideoDuration = function ( timeStr ) {\n\tvar time = new Date(0),\n\t\thours, minutes, seconds;\n\n\ttimeStr = timeStr.replace('PT', '').replace('S', '').split('M');\n\tif ( timeStr.length > 1 ) {\n\t\ttimeStr[0] = timeStr[0].split('H');\n\t\tif ( timeStr[0].length > 1 ) {\n\t\t\ttime.setUTCHours(timeStr[0][0]);\n\t\t\ttime.setUTCMinutes(timeStr[0][1]);\n\t\t} else {\n\t\t\ttime.setUTCMinutes(timeStr[0]);\n\t\t}\n\t\ttime.setUTCSeconds(timeStr[1]);\n\t\tseconds = timeStr[1];\n\t} else {\n\t\ttime.setUTCSeconds(timeStr[0]);\n\t\tseconds = timeStr[0];\n\t}\n\n\thours = time.getUTCHours();\n\tminutes = time.getUTCMinutes();\n\tif ( seconds < 10 ) {\n\t\tif ( !seconds ) {\n\t\t\tseconds = '0';\n\t\t}\n\t\tseconds = '0' + seconds;\n\t}\n\tif ( hours > 1 && minutes < 10 ) {\n\t\tminutes = '0' + minutes;\n\t}\n\tif ( hours < 1 ) {\n\t\thours = '';\n\t} else if ( hours < 10 ) {\n\t\thours = '0' + hours + ':';\n\t}\n\treturn hours + minutes + ':' + seconds;\n};\n\nmodule.exports = api;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/api/client.js\n// module id = 31\n// module chunks = 0","/**\n * https://github.com/taylorhakes/promise-polyfill\n *\n * @module stb/promise\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n/* eslint-disable */\n\n/**\n * Base Promise implementation.\n *\n * @param {function} fn function executor with two arguments resolve and reject\n *\n * @constructor\n *\n * @example\n * var p = new Promise(function ( resolve, reject ) {\n *     // do a thing, possibly async, then ...\n *     if ( everything_turned_out_fine ) {\n *         resolve('ok');\n *     } else {\n *         reject(new Error('failure'));\n *     }\n * });\n */\nfunction Promise ( fn ) {\n    if ( DEBUG ) {\n        if ( typeof this !== 'object' ) { throw new Error(__filename + ': must be constructed via new'); }\n        if ( typeof fn !== 'function' ) { throw new Error(__filename + ': argument should be a function'); }\n    }\n\n    this.state = null;\n    this.value = null;\n    this.deferreds = [];\n    //this.executor  = fn;\n\n    doResolve(fn, bind(resolve, this), bind(reject, this));\n}\n\n\n/*Promise.prototype = {\n    then: function ( onFulfilled, onRejected ) {\n        var self = this;\n\n        return new Promise(function ( resolve, reject ) {\n            handle.call(self, new Handler(onFulfilled, onRejected, resolve, reject));\n        });\n    }\n};*/\n\n\n// Polyfill for Function.prototype.bind\nfunction bind ( fn, thisArg ) {\n    return function () {\n        fn.apply(thisArg, arguments);\n    };\n}\n\n\nfunction handle ( deferred ) {\n    var self = this;\n\n    if ( this.state === null ) {\n        this.deferreds.push(deferred);\n        return;\n    }\n    setTimeout(function () {\n        var cb = self.state ? deferred.onFulfilled : deferred.onRejected,\n            ret;\n\n        if ( cb === null ) {\n            (self.state ? deferred.resolve : deferred.reject)(self.value);\n            return;\n        }\n\n        try {\n            ret = cb(self.value);\n        } catch ( e ) {\n            deferred.reject(e);\n            return;\n        }\n\n        deferred.resolve(ret);\n    });\n}\n\n\nfunction resolve ( newValue ) {\n    try { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n        if ( newValue === this ) { throw new TypeError('A promise cannot be resolved with itself.'); }\n        if ( newValue && (typeof newValue === 'object' || typeof newValue === 'function') ) {\n            var then = newValue.then;\n\n            if ( typeof then === 'function' ) {\n                doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n                return;\n            }\n        }\n        this.state = true;\n        this.value = newValue;\n        finale.call(this);\n    } catch ( e ) {\n        reject.call(this, e);\n    }\n}\n\n\nfunction reject ( newValue ) {\n    this.state = false;\n    this.value = newValue;\n    finale.call(this);\n}\n\n\nfunction finale () {\n    var i, len;\n\n    for ( i = 0, len = this.deferreds.length; i < len; i++ ) {\n        handle.call(this, this.deferreds[i]);\n    }\n    this.deferreds = null;\n}\n\n\nfunction Handler ( onFulfilled, onRejected, resolve, reject ) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.resolve = resolve;\n    this.reject = reject;\n}\n\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve ( fn, onFulfilled, onRejected ) {\n    var done = false;\n\n    try {\n        fn(function ( value ) {\n            if ( done ) { return; }\n            done = true;\n            onFulfilled(value);\n        }, function ( reason ) {\n            if ( done ) { return; }\n            done = true;\n            onRejected(reason);\n        });\n    } catch ( ex ) {\n        if ( done ) { return; }\n        done = true;\n        onRejected(ex);\n    }\n}\n\n\nPromise.prototype['catch'] = function ( onRejected ) {\n    return this.then(null, onRejected);\n};\n\n\nPromise.prototype.then = function ( onFulfilled, onRejected ) {\n    var self = this;\n\n    return new Promise(function ( resolve, reject ) {\n        handle.call(self, new Handler(onFulfilled, onRejected, resolve, reject));\n    });\n};\n\n\nPromise.all = function () {\n    var args = Array.prototype.slice.call(arguments.length === 1 && Array.isArray(arguments[0]) ? arguments[0] : arguments);\n\n    return new Promise(function ( resolve, reject ) {\n        var remaining = args.length,\n            i;\n\n        if ( args.length === 0 ) { return resolve([]); }\n\n        function res ( i, val ) {\n            try {\n                if ( val && (typeof val === 'object' || typeof val === 'function') ) {\n                    var then = val.then;\n\n                    if ( typeof then === 'function' ) {\n                        then.call(val, function ( val ) {\n                            res(i, val);\n                        }, reject);\n                        return;\n                    }\n                }\n                args[i] = val;\n                if ( --remaining === 0 ) {\n                    resolve(args);\n                }\n            } catch ( ex ) {\n                reject(ex);\n            }\n        }\n\n        for ( i = 0; i < args.length; i++ ) {\n            res(i, args[i]);\n        }\n    });\n};\n\n\nPromise.resolve = function ( value ) {\n    if ( value && typeof value === 'object' && value.constructor === Promise ) {\n        return value;\n    }\n\n    return new Promise(function ( resolve ) {\n        resolve(value);\n    });\n};\n\n\nPromise.reject = function ( value ) {\n    return new Promise(function ( resolve, reject ) {\n        reject(value);\n    });\n};\n\n\nPromise.race = function ( values ) {\n    return new Promise(function ( resolve, reject ) {\n        for ( var i = 0, len = values.length; i < len; i++ ) {\n            values[i].then(resolve, reject);\n        }\n    });\n};\n\n\n// public\nmodule.exports = window.Promise || Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/promise.js\n// module id = 32\n// module chunks = 0","'use strict';\n\nvar Promise = require('../promise');\n\n\n/**\n * Fetch a xhr.\n *\n * @param {XMLHttpRequest} client  opened xhr\n * @param {string} [body] request body\n * @return {Promise} resulted promise\n */\nfunction fetch ( client, body ) {\n\t// Creating a promise\n\treturn new Promise( function ( resolve, reject ) {\n\t\tclient.onload = function () {\n\t\t\tif ( this.status === 200 ) {\n\t\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t\t// \twindow.dump('CONFIG LOADED');\n\t\t\t\t// \twindow.dump(this.responseText, 'CONFIG CONTENT');\n\t\t\t\t// }\n\t\t\t\tresolve( this.responseText );\n\t\t\t} else {\n\t\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t\t// \twindow.dump('CONFIG LOADED WITH STATUS ' + this.status);\n\t\t\t\t// \twindow.dump(this.responseText, 'CONFIG CONTENT');\n\t\t\t\t// }\n\t\t\t\treject( this.statusText );\n\t\t\t}\n\t\t};\n\t\tclient.onerror = function () {\n\t\t\t// if ( AJAX_DEBUG ) {\n\t\t\t// \twindow.dump('CONFIG LOADING ERROR ' + this.status);\n\t\t\t// \twindow.dump(this.responseText, 'CONFIG CONTENT');\n\t\t\t// }\n\t\t\treject();\n\t\t};\n\t\tclient.send(body);\n\t});\n}\n\nmodule.exports = fetch;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/util/fetch.js\n// module id = 33\n// module chunks = 0","'use strict';\n\nmodule.exports = {\n\tGCQmVzdCBvZiBZb3VUdWJl           : 'icon popular',\n\tGCUGFpZCBDaGFubmVscw             : 'icon purchases', // Paid channles\n\tGCTXVzaWM                        : 'icon music',\n\tGCQ29tZWR5                       : 'icon humor',\n\tGCRmlsbSAmIEVudGVydGFpbm1lbnQ    : 'icon entertainment',\n\tGCR2FtaW5n                       : 'icon games',\n\tGCQmVhdXR5ICYgRmFzaGlvbg         : 'icon social', // Beauty & Fashion\n\tGCRnJvbSBUVg                     : 'fa fa-youtube-play', // from tv\n\tGCQXV0b21vdGl2ZQ                 : 'fa fa-car', // Automotive\n\tGCQW5pbWF0aW9u                   : 'fa fa-picture-o', // Animation\n\tGCVG9wIFlvdVR1YmUgQ29sbGVjdGlvbnM: 'icon popular', // Top YouTube Collections\n\tGCVG9wIEJsb2dz                   : 'icon social', // Top Blogs\n\tGCU3BvcnRz                       : 'icon sport', // Sports\n\tGCSG93LXRvICYgRElZ               : 'fa fa-wrench', // How-to & DIY\n\tGCVGVjaA                         : 'icon hobbie', // Tech\n\tGCU2NpZW5jZSAmIEVkdWNhdGlvbg     : 'fa fa-book', // Science & Education\n\tGCQ29va2luZyAmIEhlYWx0aA         : 'fa fa-spoon', // Cooking & Health\n\tGCQ2F1c2VzICYgTm9uLXByb2ZpdHM    : 'fa fa-users', // Causes & Non-profits\n\tGCTmV3cyAmIFBvbGl0aWNz           : 'icon news', // News & Politics\n\tGCTGlmZXN0eWxl                   : 'fa fa-leaf' // Lifestyle\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/api/category.icons.js\n// module id = 34\n// module chunks = 0","/**\n * Main page implementation.\n *\n * @author Igor Zaporozhets <deadbyelpy@gmail.com>\n * @license Commercial\n */\n\n'use strict';\n\nvar\tkeys   = require('stb-keys'),\n\tapp    = require('mag-app'),\n\n\tPage = require('stb-component-page'),\n\n\tid   = 'pm',\n\n\twidgetHelp = require('../components/widget.help'),\n\n\tpage = new Page({$node: document.getElementById(id)}),\n\tbackTo = null,\n\n\tmenuList, menu, lastActiveTab;\n\npage.addListener('keydown', function ( event ) {\n\tif ( event.code === keys.info ) {\n\t\t// if ( menuList.visible ) {\n\t\t// \tmenu.content.tabs[menu.activeTab].activate();\n\t\t// } else {\n\t\tmenuList.focus();\n\t\t// }\n\t} else if ( event.code === keys.f3 ) {\n\t\tapp.route(app.pages.search);\n\t} else if ( event.code === keys.back && backTo ) {\n\t\tapp.route(backTo);\n\t\tevent.stop = true;\n\t}\n});\n\n\npage.once('show', function () {\n\tmenu.content.tabs[menu.activeTab].activate();\n});\n\npage.addListener('show', function ( event ) {\n\t// menu = require('../modules/api/model/menu');\n\n\tbackTo = null;\n\twindow.page = event.page;\n\twidgetHelp.updateView({\n\t\tSEARCH: {\n\t\t\ticon: 'search',\n\t\t\tvisible: true,\n\t\t\ttext: gettext('Search')\n\t\t},\n\t\tMORE: {\n\t\t\ticon: 'more',\n\t\t\tvisible: false,\n\t\t\ttext: ''\n\t\t},\n\t\tGUIDE: {\n\t\t\ticon: 'info',\n\t\t\tvisible: true,\n\t\t\ttext: gettext('Guide')\n\t\t},\n\t\tBACK: {\n\t\t\ticon: 'back',\n\t\t\tvisible: true,\n\t\t\ttext: gettext('Exit')\n\t\t}\n\t}, 'pageMain');\n\n\tif ( event.data && event.data.channel ) {\n\t\tlastActiveTab = menu.activeTab;\n\t\tmenu.content.tabs[menu.activeTab].hide();\n\t\tmenu.activeTab = 1;\n\t\tif ( !event.data.channel.noBack ) {\n\t\t\tbackTo = app.pages.search;\n\t\t}\n\t\t//channel\n\t\tmenu.content.tabs[menu.activeTab].activate(event.data.channel);\n\t} else if ( menu.content.tabs.length > 0 ) {\n\t\t//debug.info(lastActiveTab, 'lastActiveTab');\n\t\tif ( !lastActiveTab ) {\n\t\t\tlastActiveTab = 3;\n\t\t}\n\t\tmenu.content.tabs[menu.activeTab].hide();\n\t\tmenu.activeTab = lastActiveTab;\n\t\t//debug.info(menu.activeTab, 'menu.activeTab');\n\t\tmenu.content.tabs[menu.activeTab].activate();\n\t}\n});\n\npage.addListener('hide', function () {\n\trequire('../components/loader').hide();\n});\n\nmenu = require('../modules/api/model/menu');\n\npage.add(menuList = require('../components/page.main/list.menu'));\n\nmenuList.addListener('show', function () {\n\twidgetHelp.updateView({\n\t\tSEARCH: {\n\t\t\ticon: 'search',\n\t\t\tvisible: false,\n\t\t\ttext: gettext('Search')\n\t\t},\n\t\tGUIDE: {\n\t\t\ticon: 'info',\n\t\t\tvisible: true,\n\t\t\ttext: gettext('Close guide')\n\t\t}\n\t}, 'pageMain');\n});\n\nmenuList.addListener('hide', function () {\n\twidgetHelp.updateView({\n\t\tSEARCH: {\n\t\t\ticon: 'search',\n\t\t\tvisible: true,\n\t\t\ttext: gettext('Search')\n\t\t},\n\t\tGUIDE: {\n\t\t\ticon: 'info',\n\t\t\tvisible: true,\n\t\t\ttext: gettext('Guide')\n\t\t}\n\t}, 'pageMain');\n});\n\nmenu.content.tabs.push(require('../components/page.main/tabs/category.content'));\nmenu.content.tabs.push(require('../components/page.main/tabs/channel.content'));\nmenu.content.tabs.push(require('../components/page.main/tabs/settings'));\nmenu.content.tabs.push(require('../components/page.main/tabs/main.content'));\n\nmenu.content.tabs.forEach(function ( item ) {\n\tpage.add(item);\n});\n\nif ( require('../modules/api/client').token ) {\n\trequire('../modules/api/model/channels').getMine().then(function ( channel ) {\n\t\twindow.pmUserInfo.data = {disabled: true};\n\t\twindow.pmUserInfo.appendChild(document.createElement('div'));\n\t\twindow.pmUserInfo.firstChild.style.backgroundImage = 'url(' + channel.icon + ')';\n\t\twindow.pmUserInfo.firstChild.classList.add('userImage');\n\t\twindow.pmUserInfo.appendChild(document.createElement('div'));\n\t\twindow.pmUserInfo.children[1].innerHTML = channel.title;\n\t\twindow.pmUserInfo.children[1].classList.add('userName');\n\t})['catch'](function ( e ) {\n\t\t//debug.info(e);\n\t});\n} else {\n\twindow.pmUserInfo.style.display = 'none';\n}\n\nif ( DEVELOP ) {\n\twindow.menu = menu;\n}\n\n// public export\nmodule.exports = page;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/pages/main.js\n// module id = 35\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-page');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-page';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-component-page/index.js\n// module id = 36\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base page implementation.\n *\n * A full-screen top-level layer that can operate as an independent separate entity.\n * It is added to the document body on creation if not already linked.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n *\n * @example\n * var Page = require('stb/ui/page'),\n *     page = new Page({\n *         $node: document.getElementById(id)\n *     });\n *\n * page.addListener('show', function show () {\n *     // page is visible now\n * });\n */\nfunction Page ( config ) {\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    /**\n     * Page visibility/active state flag.\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.active = false;\n\n    /**\n     * Link to the currently active component with focus.\n     *\n     * @readonly\n     * @type {Component}\n     */\n    this.activeComponent = null;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'page ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // state flag\n    this.active = this.$node.classList.contains('active');\n\n    // correct DOM parent/child connection if necessary\n    if ( this.$node.parentNode === null ) {\n        document.body.appendChild(this.$node);\n    }\n\n    // always itself\n    this.page = this;\n}\n\n\n// inheritance\nPage.prototype = Object.create(Component.prototype);\nPage.prototype.constructor = Page;\n\n// set component name\nPage.prototype.name = 'spa-component-page';\n\n\n// public\nmodule.exports = Page;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-component-page/index.js\n// module id = 37\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    Emitter = require('cjs-emitter'),\n    counter = 0;\n\n\n/**\n * Base component implementation.\n *\n * Visual element that can handle sub-components.\n * Each component has a DOM element container $node with a set of classes:\n * \"component\" and some specific component class names depending on the hierarchy, for example \"page\".\n * Each component has a unique ID given either from $node.id or from data.id. If not given will generate automatically.\n *\n * @constructor\n * @extends Emitter\n *\n * @param {Object} [config={}] init parameters\n * @param {Element} [config.id] component unique identifier (generated if not set)\n * @param {string} [config.className] space-separated list of classes for \"className\" property of this.$node\n * @param {Element} [config.$node] DOM element/fragment to be a component outer container\n * @param {Element} [config.$body] DOM element/fragment to be a component inner container (by default is the same as $node)\n * @param {Component} [config.parent] link to the parent component which has this component as a child\n * @param {Array.<Component>} [config.children=[]] list of components in this component\n * @param {Object.<string, function>} [config.events={}] list of event callbacks\n * @param {boolean} [config.visible=true] component initial visibility state flag\n * @param {boolean} [config.focusable=true] component can accept focus or not\n * @param {boolean} [config.propagate=false] allow to emit events to the parent component\n *\n * @fires module:stb/component~Component#click\n *\n * @example\n * var component = new Component({\n *     $node: document.getElementById(id),\n *     className: 'bootstrap responsive',\n *     events: {\n *         click: function () { ... }\n *     }\n * });\n * component.add( ... );\n * component.focus();\n */\nfunction Component ( config ) {\n    // current execution context\n    var self = this,\n        name;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( config.id && typeof config.id !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.id');\n        }\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$node && !(config.$node instanceof Element) ) {\n            throw new Error(__filename + ': wrong config.$node type');\n        }\n        if ( config.$body && !(config.$body instanceof Element) ) {\n            throw new Error(__filename + ': wrong config.$body type');\n        }\n        if ( config.parent && !(config.parent instanceof Component) ) {\n            throw new Error(__filename + ': wrong config.parent type');\n        }\n        if ( config.children && !Array.isArray(config.children) ) {\n            throw new Error(__filename + ': wrong config.children type');\n        }\n    }\n\n    /**\n     * Component visibility state flag.\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.visible = true;\n\n    /**\n     * Component can accept focus or not.\n     *\n     * @type {boolean}\n     */\n    this.focusable = true;\n\n    /**\n     * DOM outer handle.\n     *\n     * @type {Element}\n     */\n    this.$node = null;\n\n    /**\n     * DOM inner handle.\n     * In simple cases is the same as $node.\n     *\n     * @type {Element}\n     */\n    this.$body = null;\n\n    /**\n     * Link to the parent component which has this component as a child.\n     *\n     * @type {Component}\n     */\n    this.parent = null;\n\n    /**\n     * List of all children components.\n     *\n     * @type {Component[]}\n     */\n    this.children = [];\n\n    /**\n     * allow to emit events to the parent component\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.propagate = !!config.propagate;\n\n    // parent constructor call\n    Emitter.call(this);\n\n    // outer handle - empty div in case nothing is given\n    this.$node = config.$node || document.createElement('div');\n\n    // inner handle - the same as outer handler in case nothing is given\n    this.$body = config.$body || this.$node;\n\n    // set CSS class names\n    //this.$node.className += ' component ' + (config.className || '');\n    // previous approach is not good as it mess with components hierarchy\n    this.$node.className = this.name + ' ' + (config.className || '');\n\n    // apply component id if given, generate otherwise\n    this.id = config.id || this.$node.id || 'cid' + counter++;\n\n    // apply hierarchy\n    if ( config.parent ) {\n        // add to parent component\n        config.parent.add(this);\n    }\n\n    // apply given visibility\n    if ( config.visible === false ) {\n        // default state is visible\n        this.hide();\n    }\n\n    // apply focus handling method\n    if ( config.focusable === false ) {\n        // can't accept focus\n        this.focusable = false;\n    }\n\n    // a descendant defined own events\n    if ( this.defaultEvents ) {\n        // sanitize\n        config.events = config.events || {};\n\n        if ( DEVELOP ) {\n            if ( typeof config.events !== 'object' ) {\n                throw new Error(__filename + ': wrong config.events type');\n            }\n            if ( typeof this.defaultEvents !== 'object' ) {\n                throw new Error(__filename + ': wrong this.defaultEvents type');\n            }\n        }\n\n        for ( name in this.defaultEvents ) {\n            // overwrite default events with user-defined\n            config.events[name] = config.events[name] || this.defaultEvents[name];\n        }\n    }\n\n    if ( config.events ) {\n        // apply all given events\n        Object.keys(config.events).forEach(function ( eventName ) {\n            self.addListener(eventName, config.events[eventName]);\n        });\n    }\n\n    // apply the given children components\n    if ( config.children ) {\n        // apply\n        this.add.apply(this, config.children);\n    }\n\n    // component activation by mouse\n    this.$node.addEventListener('click', function ( event ) {\n        // left mouse button\n        //if ( event.button === 0 ) {\n        // activate if possible\n        self.focus();\n\n        // there are some listeners\n        if ( self.events['click'] ) {\n            /**\n             * Mouse click event.\n             *\n             * @event module:stb/component~Component#click\n             *\n             * @type {Object}\n             * @property {Event} event click event data\n             */\n            self.emit('click', event);\n        }\n        //}\n\n        if ( DEVELOP ) {\n            // middle mouse button\n            if ( event.button === 1 ) {\n                //debug.inspect(self, 0);\n                debug.info('\"window.link\" or \"' + self.id + '.component\"', 'this component is now available in global scope');\n                window.link = self;\n                self.$node.classList.toggle('wired');\n            }\n        }\n\n        event.stopPropagation();\n    });\n\n    if ( DEVELOP ) {\n        // expose inner ID to global scope\n        window[self.id] = self.$node;\n\n        // expose a link\n        this.$node.component = this.$body.component = this;\n        this.$node.title = this.name + '#' + this.id + ' (outer)';\n        this.$body.title = this.name + '#' + this.id + ' (inner)';\n    }\n\n    debug.info('create component ' + this.name + '#' + this.id, null, {\n        tags: ['create', 'component', this.name, this.id]\n    });\n}\n\n\n// inheritance\nComponent.prototype = Object.create(Emitter.prototype);\nComponent.prototype.constructor = Component;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nComponent.prototype.defaultEvents = null;\n\n\n/**\n * Add a new component as a child.\n *\n * @param {...Component} [child] variable number of elements to append\n *\n * @files Component#add\n *\n * @example\n * panel.add(\n *     new Button( ... ),\n *     new Button( ... )\n * );\n */\nComponent.prototype.add = function ( child ) {\n    var index;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        child = arguments[index];\n\n        if ( DEVELOP ) {\n            if ( !(child instanceof Component) ) {\n                throw new Error(__filename + ': wrong child type');\n            }\n        }\n\n        // apply\n        this.children.push(child);\n        child.parent = this;\n\n        // correct DOM parent/child connection if necessary\n        if ( child.$node && child.$node.parentNode === null ) {\n            this.$body.appendChild(child.$node);\n        }\n\n        debug.info('add component ' + child.name + '#' + child.id + ' to ' + this.name + '#' + this.id, null, {\n            tags: ['add', 'component', this.name, this.id, child.name, child.id]\n        });\n\n        // there are some listeners\n        if ( this.events['add'] ) {\n            /**\n             * A child component is added.\n             *\n             * @event module:stb/component~Component#add\n             *\n             * @type {Object}\n             * @property {Component} item new component added\n             */\n            this.emit('add', {item: child});\n        }\n\n        //debug.log('component ' + this.name + '#' + this.id + ' new child: ' + child.name + '#' + child.id);\n    }\n};\n\n\n/* @todo: consider activation in future */\n///**\n// * Insert component into the specific position.\n// *\n// * @param {Component} child component instance to insert\n// * @param {number} index insertion position\n// */\n//Component.prototype.insert = function ( child, index ) {\n//    var prevIndex = this.children.indexOf(child);\n//\n//    if ( DEVELOP ) {\n//        if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n//        if ( !(child instanceof Component) ) { throw new Error(__filename + ': wrong child type'); }\n//    }\n//\n//    if ( prevIndex !== -1 ) {\n//        this.children.splice(prevIndex, 1);\n//        this.$body.removeChild(child.$node);\n//    }\n//\n//    if ( index === this.children.length ) {\n//        this.$body.appendChild(child.$node);\n//    } else {\n//        this.$body.insertBefore(child.$node, this.$body.children[index]);\n//    }\n//    this.children.splice(index, 0, child);\n//\n//    if ( !child.parent ) {\n//        child.parent = this;\n//    }\n//};\n\n\n/**\n * Delete this component and clear all associated events.\n *\n * @fires module:stb/component~Component#remove\n */\nComponent.prototype.remove = function () {\n    // really inserted somewhere\n    if ( this.parent ) {\n        if ( DEVELOP ) {\n            if ( !(this.parent instanceof Component) ) {\n                throw new Error(__filename + ': wrong this.parent type');\n            }\n        }\n\n        // active at the moment\n        if ( app.activePage.activeComponent === this ) {\n            this.blur();\n            this.parent.focus();\n        }\n        this.parent.children.splice(this.parent.children.indexOf(this), 1);\n    }\n\n    // remove all children\n    this.children.forEach(function ( child ) {\n        if ( DEVELOP ) {\n            if ( !(child instanceof Component) ) {\n                throw new Error(__filename + ': wrong child type');\n            }\n        }\n\n        child.remove();\n    });\n\n    this.$node.parentNode.removeChild(this.$node);\n\n    // there are some listeners\n    if ( this.events['remove'] ) {\n        /**\n         * Delete this component.\n         *\n         * @event module:stb/component~Component#remove\n         */\n        this.emit('remove');\n    }\n\n    // remove all listeners\n    this.events = {};\n\n    //debug.log('component ' + this.name + '#' + this.id + ' remove', 'red');\n    debug.info('remove component ' + this.name + '#' + this.id, null, {\n        tags: ['remove', 'component', this.name, this.id]\n    });\n};\n\n\n/**\n * Activate the component.\n * Notify the owner-page and apply CSS class.\n *\n * @param {Object} [data] custom data which passed into handlers\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#focus\n */\nComponent.prototype.focus = function ( data ) {\n    var activePage = app.activePage,\n        activeItem = activePage.activeComponent;\n\n    // this is a visual component on a page\n    // not already focused and can accept focus\n    if ( this.focusable && this !== activeItem ) {\n        // notify the current active component\n        if ( activeItem ) { activeItem.blur(); }\n\n        /* eslint consistent-this: 0 */\n\n        // apply\n        activePage.activeComponent = activeItem = this;\n        activeItem.$node.classList.add('focus');\n\n        //debug.log('component ' + this.name + '#' + this.id + ' focus');\n        debug.info('focus component ' + this.name + '#' + this.id, null, {\n            tags: ['focus', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( activeItem.events['focus'] ) {\n            /**\n             * Make this component focused.\n             *\n             * @event module:stb/component~Component#focus\n             */\n            activeItem.emit('focus', data);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Remove focus.\n * Change page.activeComponent and notify subscribers.\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#blur\n */\nComponent.prototype.blur = function () {\n    var activePage = app.activePage,\n        activeItem = activePage.activeComponent;\n\n    // apply visuals anyway\n    this.$node.classList.remove('focus');\n\n    // this is the active component\n    if ( this === activeItem ) {\n        activePage.activeComponent = null;\n\n        //debug.log('component ' + this.name + '#' + this.id + ' blur', 'grey');\n        debug.info('blur component ' + this.name + '#' + this.id, null, {\n            tags: ['blur', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['blur'] ) {\n            /**\n             * Remove focus from this component.\n             *\n             * @event module:stb/component~Component#blur\n             */\n            this.emit('blur');\n        }\n\n        return true;\n    }\n\n    debug.warn('component ' + this.name + '#' + this.id + ' attempt to blur without link to a page', null, {\n        tags: ['blur', 'component', this.name, this.id]\n    });\n\n    // nothing was done\n    return false;\n};\n\n\n/*function show ( self, data ) {\n    // correct style\n    self.$node.classList.remove('hidden');\n    // flag\n    self.visible = true;\n\n    debug.info('show component ' + self.name + '#' + self.id, null, {\n        tags: ['show', 'component', self.name, self.id]\n    });\n\n    // there are some listeners\n    if ( self.events['show'] ) {\n        /!**\n         * Make the component visible.\n         *\n         * @event module:stb/component~Component#show\n         *!/\n        self.emit('show', data);\n    }\n}*/\n\n/**\n * Make the component visible and notify subscribers.\n *\n * @param {Object} [data] custom data which passed into handlers\n * @param {function} [callback] user callback\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#show\n */\nComponent.prototype.show = function ( data, callback ) {\n    //var self = this;\n\n    // is it hidden\n    if ( !this.visible ) {\n        /*if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(function () {\n                show(self, data);\n                callback();\n            });\n        } else {\n            // sync call\n            show(this, data);\n        }*/\n\n        // correct style\n        this.$node.classList.remove('hidden');\n        // flag\n        this.visible = true;\n\n        debug.info('show component ' + this.name + '#' + this.id, null, {\n            tags: ['show', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['show'] ) {\n            /**\n             * Make the component visible.\n             *\n             * @event module:stb/component~Component#show\n             */\n            this.emit('show', data);\n        }\n\n        // async call\n        if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(callback);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Make the component hidden and notify subscribers.\n *\n * @param {function} [callback] user callback\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#hide\n */\nComponent.prototype.hide = function ( callback ) {\n    // is it visible\n    if ( this.visible ) {\n        // correct style\n        this.$node.classList.add('hidden');\n        // flag\n        this.visible = false;\n\n        debug.info('hide component ' + this.name + '#' + this.id, null, {\n            tags: ['hide', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['hide'] ) {\n            /**\n             * Make the component hidden.\n             *\n             * @event module:stb/component~Component#hide\n             */\n            this.emit('hide');\n        }\n\n        // async call\n        if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(callback);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = Component;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-component/index.js\n// module id = 38\n// module chunks = 0","'use strict';\n\nvar Widget = require('spa-component-widget'),\n\thints = new Widget({$node: document.getElementById('widgetHintButtons'), visible: false}),\n\tbuttons = {\n\t\tBACK: document.getElementById('hintBack'),\n\t\tSEARCH: document.getElementById('hintSearch'),\n\t\tMORE: document.getElementById('hintMore'),\n\t\tGUIDE: document.getElementById('hintGuide')\n\t},\n\tname;\n\nfor ( name in buttons ) {\n\tbuttons[name].$icon = buttons[name].appendChild(document.createElement('div'));\n\tbuttons[name].$label = buttons[name].appendChild(document.createElement('div'));\n\tbuttons[name].$label.className = 'hintText';\n}\n\nhints.updateView = function ( data, className ) {\n\tvar prop;\n\n\tthis.show();\n\tfor ( prop in data ) {\n\t\tif ( data.hasOwnProperty(prop) ) {\n\t\t\tif ( data[prop].visible ) {\n\t\t\t\tbuttons[prop].$icon.className = 'ico ' + data[prop].icon;\n\t\t\t\tbuttons[prop].style.display = '';\n\t\t\t\tbuttons[prop].$label.innerHTML = data[prop].text;\n\t\t\t} else {\n\t\t\t\tbuttons[prop].style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\tif ( className ) {\n\t\thints.$node.className = 'component widget ' + className;\n\t} else {\n\t\thints.$node.className = 'component widget';\n\t}\n};\n\nmodule.exports = hints;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/widget.help.js\n// module id = 39\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base widget implementation.\n *\n * A part-screen top-level layer that can operate as an independent separate entity.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {boolean} [config.visible=false] component initial visibility state flag\n * @param {boolean} [config.focusable=false] component can accept focus or not\n */\nfunction Widget ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    // can't accept focus\n    config.focusable = config.focusable || false;\n\n    // hidden\n    config.visible = config.visible || false;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'widget ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n}\n\n\n// inheritance\nWidget.prototype = Object.create(Component.prototype);\nWidget.prototype.constructor = Widget;\n\n// set component name\nWidget.prototype.name = 'spa-component-widget';\n\n\n// public\nmodule.exports = Widget;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-component-widget/index.js\n// module id = 40\n// module chunks = 0","'use strict';\n\nvar Widget = require('spa-component-widget'),\n\tloader = new Widget({\n\t\t$node: document.getElementById('loaderWidget'),\n\t\tvisible: false\n\t}),\n\n\titerationTimeout = -1,\n\tcurrentIndex = 0,\n\tready = false,\n\n\timgs = [];\n\n(function ( ) {\n\tvar total = 4;\n\n\t[\n\t\t'img/loader/1.png',\n\t\t'img/loader/2.png',\n\t\t'img/loader/3.png',\n\t\t'img/loader/4.png'\n\t].forEach(function ( item ) {\n\t\tvar img = new Image();\n\n\t\timg.src = item;\n\t\timg.onload = function () {\n\t\t\t--total;\n\t\t\tif ( total === 0 ) {\n\t\t\t\tready = true;\n\t\t\t}\n\t\t};\n\t\timgs.push(img);\n\t});\n})();\n\nfunction imageLoop () {\n\tif ( ready ) {\n\t\tloader.$node.style.backgroundImage = 'url(' + imgs[currentIndex].src + ')';\n\t\t++currentIndex;\n\t\tif ( currentIndex === 4 ) {\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\titerationTimeout = setTimeout(imageLoop, 200);\n}\n\n\nloader.show = function ( data ) {\n\t// is it hidden\n\tif ( !this.visible ) {\n\t\t// correct style\n\t\tthis.$node.classList.remove('hidden');\n\t\t// flag\n\t\tthis.visible = true;\n\n\t\t// there are some listeners\n\t\tif ( this.events['show'] !== undefined ) {\n\t\t\t/**\n\t\t\t * Make the component visible.\n\t\t\t *\n\t\t\t * @event module:stb/component~Component#show\n\t\t\t */\n\t\t\tthis.emit('show', data);\n\t\t}\n\t\titerationTimeout = setTimeout(imageLoop, 200);\n\n\t\treturn true;\n\t}\n\n\t// nothing was done\n\treturn true;\n};\n\nloader.hide = function () {\n\tcurrentIndex = 1;\n\tclearTimeout(iterationTimeout);\n\t// is it visible\n\tif ( this.visible ) {\n\t\t// correct style\n\t\tthis.$node.classList.add('hidden');\n\t\t// stop iteration\n\t\t// flag\n\t\tthis.visible = false;\n\n\t\t// there are some listeners\n\t\tif ( this.events['hide'] !== undefined ) {\n\t\t\t/**\n\t\t\t * Make the component hidden.\n\t\t\t *\n\t\t\t * @event module:stb/component~Component#hide\n\t\t\t */\n\t\t\tthis.emit('hide');\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t// nothing was done\n\treturn true;\n};\n\nmodule.exports = loader;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/loader.js\n// module id = 41\n// module chunks = 0","'use strict';\n\nvar app = require('mag-app'),\n\t// api = require('../client'),\n\tmenu = {\n\t\ttypes: {\n\t\t\tCATEGORY_HEADER: 1,\n\t\t\tCATEGORY_ITEM: 2\n\t\t},\n\t\tcontent: {\n\t\t\tdata: [],\n\t\t\tfocusIndex: 1,\n\t\t\ttabs: []\n\t\t},\n\t\tactiveTab: 3\n\t},\n\n\tcategory, playlist, subscription, i, size;\n\n\n//if ( !api.token ) {\n//\tmenu.content.focusIndex = 2;\n//\tmenu.content.data.push({\n//\t\tdisabled: false,\n//\t\tonclick: function () {\n//\t\t\t// page login\n//\t\t\trouter.navigate('pl');\n//\t\t},\n//\t\ttype: menu.types.CATEGORY_ITEM,\n//\t\tvalue: gettext('Sign in'),\n//\t\tid: -1,\n//\t\tclassName: 'icon people'\n//\t});\n//}\n\nmenu.content.data.push({\n\tdisabled: false,\n\tonclick: function () {\n\t\t// page search\n\t\tapp.route(app.pages.search);\n\t\t// router.navigate('ps');\n\t},\n\ttype: menu.types.CATEGORY_ITEM,\n\tvalue: gettext('Search'),\n\tid: -2,\n\tclassName: 'icon search'\n});\n\nmenu.content.data.push({\n\tdisabled: false,\n\ttabIndex: 3,\n\ttype: menu.types.CATEGORY_ITEM,\n\tvalue: gettext('Main'),\n\tid: -2,\n\tclassName: 'icon what-to-watch'\n});\n\n// authorized user\n//if ( api.token ) {\n//\t//menu.content.data.push({\n//\t//\tdisabled: false,\n//\t//\tonclick: function () {\n//\t//\t\tmenu.content.tabs[menu.activeTab].hide();\n//\t//\t\tmenu.activeTab = 3;\n//\t//\t\tmenu.content.tabs[3].activate(require('./subscriptions'));\n//\t//\t},\n//\t//\ttype: menu.types.CATEGORY_ITEM,\n//\t//\tvalue: gettext('My subscriptions'),\n//\t//\tid: -2,\n//\t//\tclassName: 'icon my-subs'\n//\t//});\n//\tmenu.content.data.push({\n//\t\tdisabled: false,\n//\t\tonclick: function () {\n//\t\t\treturn require('./channels').getMine().then(function ( channel ) {\n//\t\t\t\trouter.current.hide();\n//\t\t\t\trouter.current.show({data: {channel: channel}});\n//\t\t\t});\n//\t\t},\n//\t\ttype: menu.types.CATEGORY_ITEM,\n//\t\tvalue: gettext('My playlists'),\n//\t\tid: -2,\n//\t\tclassName: 'icon upload'\n//\t});\n//\t//menu.content.data.push({\n//\t//\tdisabled: false,\n//\t//\tonclick: function () {\n//\t//\t\tmenu.content.data.tabs[menu.activeTab].hide();\n//\t//\t\tmenu.content.data.tabs[3].activate(this.model);\n//\t//\t},\n//\t//\tmodel: 'asdasd',\n//\t//\ttype: menu.types.CATEGORY_ITEM,\n//\t//\tvalue: gettext('History'),\n//\t//\tid: -2,\n//\t//\tclassName: 'icon history'\n//\t//});\n//\t//menu.content.data.push({\n//\t//\tdisabled: false,\n//\t//\tonclick: function () {\n//\t//\t\tmenu.content.data.tabs[menu.activeTab].hide();\n//\t//\t\tmenu.content.data.tabs[3].activate(this.model);\n//\t//\t},\n//\t//\tmodel: 'asdasd',\n//\t//\ttype: menu.types.CATEGORY_ITEM,\n//\t//\tvalue: gettext('See later'),\n//\t//\tid: -2,\n//\t//\tclassName: 'icon watch-later'\n//\t//});\n//}\n\nmenu.content.data.push({disabled: false, tabIndex: 2, type: menu.types.CATEGORY_ITEM, value: gettext('Settings'), id: -2, className: 'icon player-settings'});\n\n// if ( api.playlists.length ) {\n// \tmenu.content.data.push({disabled: true, type: menu.types.CATEGORY_HEADER, value: gettext('Playlists')});\n// \tfor ( i = 0, size = api.playlists.length; i < size; ++i ) {\n// \t\tplaylist = api.playlists[i];\n// \t\tmenu.content.data.push({\n// \t\t\tdisabled: false,\n// \t\t\ttype: menu.types.CATEGORY_ITEM,\n// \t\t\tvalue: playlist.value,\n// \t\t\tplaylist: playlist.channel,\n// \t\t\tid: playlist.id,\n// \t\t\tclassName: playlist.icon,\n// \t\t\tonclick: function () {\n// \t\t\t\tvar PlayList = require('./playlist');\n\n// \t\t\t\tnew PlayList({\n// \t\t\t\t\tplaylist: {\n// \t\t\t\t\t\tid: playlist.id\n// \t\t\t\t\t}\n// \t\t\t\t}).getPage({}).then(function ( data ) {\n// \t\t\t\t\tconsole.log(JSON.stringify(data));\n// \t\t\t\t\trouter.current.hide();\n// \t\t\t\t\trouter.current.show({data: {plalist: channel}});\n// \t\t\t\t});\n// \t\t\t}\n// \t\t});\n\n// \t}\n// }\n\n// if ( api.subscriptions.length ) {\n// \tmenu.content.data.push({disabled: true, type: menu.types.CATEGORY_HEADER, value: gettext('Subscriptions')});\n// \tfor ( i = 0, size = api.subscriptions.length; i < size; ++i ) {\n// \t\tsubscription = api.subscriptions[i];\n// \t\tmenu.content.data.push({disabled: false, tabIndex: 1, type: menu.types.CATEGORY_ITEM, value: subscription.value, id: subscription.id, title: subscription.title, className: subscription.icon});\n// \t}\n// }\n\n// if ( api.categories.length ) {\n// \tmenu.content.data.push({disabled: true, type: menu.types.CATEGORY_HEADER, value: gettext('Categories')});\n// \tfor ( i = 0, size = api.categories.length; i < size; ++i ) {\n// \t\tcategory = api.categories[i];\n// \t\tmenu.content.data.push({disabled: false, tabIndex: 0, type: menu.types.CATEGORY_ITEM, value: category.value, channel: category.channel, id: category.id, className: category.icon});\n// \t}\n// }\n\n//if ( api.searchQueries.length ) {\n//\tmenu.content.data.push({disabled: true, type: menu.types.CATEGORY_HEADER, value: gettext('Search results')});\n//\tfor ( i = 0, size = api.categories.length; i < size; ++i ) {\n//\t\tcategory = api.categories[i];\n//\t\tmenu.content.data.push({disabled: false, tabIndex: 0, type: menu.types.CATEGORY_ITEM, value: category.value, channel: category.channel, id: category.id, className: category.icon});\n//\t}\n//}\n\nmodule.exports = menu;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/api/model/menu.js\n// module id = 42\n// module chunks = 0","\n'use strict';\n\n\nvar keys = require('stb-keys'),\n\tapp  = require('mag-app'),\n\n\tList = require('mag-component-list'),\n\n\tmenu = require('../../modules/api/model/menu'),\n\n\tmenuList;\n\n\nmenuList = new List({\n\t$node: window.pmListMainMenu,\n\t$body: window.pmListMainMenuBody,\n\tclassName: 'hidden',\n\tdata: menu.content.data,\n\tsize: app.data.metrics.mainMenuSize,\n\tfocusIndex: menu.content.focusIndex,\n\trender: function ( $item, data ) {\n\t\tif ( !$item.ready ) {\n\t\t\t$item.$icon = document.createElement('span');\n\t\t\t$item.appendChild($item.$icon);\n\t\t\t$item.$label = document.createElement('span');\n\t\t\t$item.appendChild($item.$label);\n\t\t\t$item.ready = true;\n\t\t}\n\n\t\tif ( data.type === menu.types.CATEGORY_ITEM ) {\n\t\t\t$item.$icon.className = data.className || 'image';\n\t\t\t$item.$icon.style.backgroundImage = data.icon ? 'url(' + data.icon + ')' : 'none';\n\t\t\t$item.$label.className = 'itemLabel';\n\t\t\t$item.$label.innerHTML = data.value;\n\t\t} else if ( data.type === menu.types.CATEGORY_HEADER ) {\n\t\t\t$item.$icon.className = '';\n\t\t\t$item.$label.className = 'categorylabel';\n\t\t\t$item.$label.innerHTML = data.value;\n\t\t}\n\t},\n\tvisible: false,\n\tevents: {\n\t\tkeydown: function ( event ) {\n\t\t\tswitch ( event.code ) {\n\t\t\t\tcase keys.back:\n\t\t\t\tcase keys.right:\n\t\t\t\tcase keys.info:\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tmenu.content.tabs[menu.activeTab].activate();\n\t\t\t\t\tevent.stop = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase keys.up:\n\t\t\t\tcase keys.down:\n\t\t\t\tcase keys.pageUp:\n\t\t\t\tcase keys.pageDown:\n\t\t\t\tcase keys.home:\n\t\t\t\tcase keys.end:\n\t\t\t\t\t// cursor move only on arrow keys\n\t\t\t\t\tthis.move(event.code);\n\t\t\t\t\tbreak;\n\t\t\t\tcase keys.ok:\n\t\t\t\t\t// notify listeners\n\t\t\t\t\tthis.emit('click:item', {$item: this.$focusItem, event: event});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t'click:item': function ( event ) {\n\t\t\tthis.hide();\n\t\t\tif ( typeof event.$item.data.onclick === 'function' ) {\n\t\t\t\tmenu.content.tabs[menu.activeTab].activate(event.$item.data);\n\t\t\t\tevent.$item.data.onclick();\n\t\t\t} else {\n\t\t\t\tmenu.content.tabs[menu.activeTab].hide();\n\t\t\t\tmenu.activeTab = event.$item.data.tabIndex;\n\t\t\t\tmenu.content.tabs[menu.activeTab].activate(event.$item.data);\n\t\t\t}\n\t\t},\n\t\tfocus: function () {\n\t\t\tthis.show();\n\t\t}\n\t\t// ,\n\t\t// blur: function () {\n\t\t// \tthis.hide();\n\t\t// \tmenu.content.tabs[menu.activeTab].activate();\n\t\t// \tlastFocusedComponent.focus();\n\t\t// }\n\t}\n});\n\n\n/**\n * Move focus to the given direction.\n *\n * @param {number} direction arrow key code\n *\n * @fires module:stb/ui/list~List#cycle\n * @fires module:stb/ui/list~List#overflow\n */\nmenuList.move = function ( direction ) {\n\tvar $focusTarget = null,\n\t\tviewIndex = null;\n\n\tif ( DEBUG ) {\n\t\tif ( arguments.length !== 1 ) { throw 'wrong arguments number'; }\n\t\tif ( Number(direction) !== direction ) { throw 'direction must be a number'; }\n\t}\n\n\tif ( direction === keys.up ) {\n\t\t// still can go backward\n\t\tif ( this.$focusItem && this.$focusItem.index > 0 ) {\n\t\t\tif ( this.$focusItem === this.$body.firstChild ) {\n\t\t\t\tviewIndex = this.viewIndex - 1;\n\t\t\t} else {\n\t\t\t\t$focusTarget = this.$focusItem.previousSibling;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( direction === keys.down ) {\n\t\t// still can go forward\n\t\tif ( this.$focusItem && this.$focusItem.index < this.data.length - 1 ) {\n\t\t\tif ( this.$focusItem === this.$body.lastChild ) {\n\t\t\t\tviewIndex = this.viewIndex + 1;\n\t\t\t} else {\n\t\t\t\t$focusTarget = this.$focusItem.nextSibling;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( direction === keys.pageUp ) {\n\t\t// determine jump size\n\t\tif ( this.viewIndex < this.size ) {\n\t\t\t// first page\n\t\t\tviewIndex = 0;\n\t\t} else {\n\t\t\t// second page and further\n\t\t\tviewIndex = this.viewIndex - this.size + 1;\n\t\t}\n\n\t\t$focusTarget = this.$body.firstChild;\n\t}\n\n\tif ( direction === keys.pageDown ) {\n\t\t// data is bigger then one page\n\t\tif ( this.data.length > this.size ) {\n\t\t\t// determine jump size\n\t\t\tif ( this.viewIndex > this.data.length - this.size * 2 ) {\n\t\t\t\t// last page\n\t\t\t\tviewIndex = this.data.length - this.size;\n\t\t\t} else {\n\t\t\t\t// before the last page\n\t\t\t\tviewIndex = this.viewIndex + this.size - 1;\n\t\t\t}\n\t\t\t$focusTarget = this.$body.lastChild;\n\t\t} else {\n\t\t\t// not the last item on the page\n\t\t\t$focusTarget = this.$body.children[this.data.length - 1];\n\t\t}\n\t}\n\n\tif ( direction === keys.home ) {\n\t\tviewIndex = 0;\n\t\t$focusTarget = this.$body.firstChild;\n\t}\n\n\tif ( direction === keys.end ) {\n\t\t// data is bigger then one page\n\t\tif ( this.data.length > this.size ) {\n\t\t\tviewIndex = this.data.length - this.size;\n\t\t\t$focusTarget = this.$body.lastChild;\n\t\t} else {\n\t\t\t// not the last item on the page\n\t\t\t$focusTarget = this.$body.children[this.data.length - 1];\n\t\t}\n\t}\n\n\tif ( viewIndex !== null ) {\n\t\tthis.renderView(viewIndex);\n\t}\n\n\tif ( $focusTarget !== null ) {\n\t\tthis.focusItem($focusTarget);\n\t}\n\tif ( this.$focusItem.data.disabled ) {\n\t\tif ( this.$focusItem.index > 0 ) {\n\t\t\tthis.move(direction);\n\t\t} else if ( direction === keys.up ) {\n\t\t\tthis.move(keys.down);\n\t\t}\n\t}\n};\n\nmodule.exports = menuList;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/page.main/list.menu.js\n// module id = 43\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n/* eslint complexity: [error, 37] */\n/* eslint max-lines-per-function: 1 */\n/* eslint no-fallthrough: 1 */\n/* eslint complexity: 1 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys');\n\n\n/**\n * Mouse click event.\n *\n * @event module:stb/ui/list~List#click:item\n *\n * @type {Object}\n * @property {Element} $item clicked HTML item\n * @property {Event} event click event data\n */\n\n\n/**\n * Base list implementation.\n *\n * Each data item can be either a primitive value or an object with these fields:\n *\n *  Name    | Description\n * ---------|-------------\n *  value   | actual cell value to render\n *  mark    | is it necessary or not to render this cell as marked\n *\n * @constructor\n * @extends Component\n *\n * @param {Object}   [config={}]          init parameters (all inherited from the parent)\n * @param {Array}    [config.data=[]]     component data to visualize\n * @param {function} [config.render]      method to build each grid cell content\n * @param {function} [config.navigate]    method to move focus according to pressed keys\n * @param {number}   [config.size=5]      amount of visible items on a page\n * @param {number}   [config.viewIndex=0] move view window to this position on init\n * @param {number}   [config.focusIndex]  list item index to make item focused (move view window to this position)\n * @param {boolean}  [config.cycle=true]  allow or not to jump to the opposite side of a list when there is nowhere to go next\n * @param {boolean}  [config.scroll=null] associated ScrollBar component link\n * @param {Object}   [config.provider]    data provider\n *\n * @fires module:stb/ui/list~List#click:item\n */\nfunction List ( config ) {\n    // current execution context\n    //var self = this;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        if ( config.type && Number(config.type) !== config.type ) {\n            throw new Error(__filename + ': config.type must be a number');\n        }\n    }\n\n    /**\n     * Link to the currently focused DOM element.\n     *\n     * @type {Element}\n     */\n    this.$focusItem = null;\n\n    /**\n     * Position of the visible window to render.\n     *\n     * @type {number}\n     */\n    this.viewIndex = null;\n\n    /**\n     * Component data to visualize.\n     *\n     * @type {Array}\n     */\n    this.data = [];\n\n    /**\n     * Component orientation.\n     *\n     * @type {number}\n     */\n    this.type = this.TYPE_VERTICAL;\n\n    /**\n     * Amount of visible items on a page.\n     *\n     * @type {number}\n     */\n    this.size = 5;\n\n    /**\n     * Allow or not to jump to the opposite side of a list when there is nowhere to go next.\n     *\n     * @type {boolean}\n     */\n    this.cycle = false;\n\n    /**\n     * Associated ScrollBar component link.\n     *\n     * @type {ScrollBar}\n     */\n    this.scroll = null;\n\n    // horizontal or vertical\n    if ( config.type ) {\n        // apply\n        this.type = config.type;\n    }\n\n    /**\n     * Associated data provider\n     *\n     * @type {Provider}\n     */\n    this.provider = null;\n\n    if ( this.type === this.TYPE_HORIZONTAL ) {\n        config.className += ' horizontal';\n    }\n\n    //config.className += ' theme-main';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // component setup\n    this.init(config);\n\n    // custom navigation method\n    //if ( config.navigate ) {\n    //    if ( DEVELOP ) {\n    //        if ( typeof config.navigate !== 'function' ) { throw new Error(__filename + ': wrong config.navigate type'); }\n    //    }\n    //    // apply\n    //    this.navigate = config.navigate;\n    //}\n\n    // navigation by keyboard\n    //this.addListener('keydown', this.navigate);\n\n    // navigation by mouse\n    //this.$body.addEventListener('mousewheel', function ( event ) {\n    //    // scrolling by Y axis\n    //    if ( self.type === self.TYPE_VERTICAL && event.wheelDeltaY ) {\n    //        self.move(event.wheelDeltaY > 0 ? 38 : keys.down);\n    //    }\n    //\n    //    // scrolling by X axis\n    //    if ( self.type === self.TYPE_HORIZONTAL && event.wheelDeltaX ) {\n    //        self.move(event.wheelDeltaX > 0 ? 37 : 39);\n    //    }\n    //});\n}\n\n\n// inheritance\nList.prototype = Object.create(Component.prototype);\nList.prototype.constructor = List;\n\n// set component name\nList.prototype.name = 'mag-component-list';\n\nList.prototype.TYPE_VERTICAL   = 1;\nList.prototype.TYPE_HORIZONTAL = 2;\n\n\n/**\n * Fill the given item with data.\n *\n * @param {Element} $item item DOM link\n * @param {*} data associated with this item data\n */\nList.prototype.renderItemDefault = function ( $item, data ) {\n    $item.innerText = data.value;\n};\n\n\n/**\n * Method to build each list item content.\n * Can be redefined to provide custom rendering.\n *\n * @type {function}\n */\nList.prototype.renderItem = List.prototype.renderItemDefault;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nList.prototype.defaultEvents = {\n    /**\n     * Default method to handle mouse wheel events.\n     *\n     * @param {Event} event generated event\n     */\n    mousewheel: function ( event ) {\n        // scrolling by Y axis\n        if ( this.type === this.TYPE_VERTICAL && event.wheelDeltaY ) {\n            this.move(event.wheelDeltaY > 0 ? keys.up : keys.down);\n        }\n\n        // scrolling by X axis\n        if ( this.type === this.TYPE_HORIZONTAL && event.wheelDeltaX ) {\n            this.move(event.wheelDeltaX > 0 ? keys.left : keys.right);\n        }\n    },\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        switch ( event.code ) {\n            case keys.up:\n            case keys.down:\n            case keys.right:\n            case keys.left:\n            case keys.pageUp:\n            case keys.pageDown:\n            case keys.home:\n            case keys.end:\n                // cursor move only on arrow keys\n                this.move(event.code);\n                break;\n            case keys.enter:\n                // there are some listeners\n                if ( this.events['click:item'] && this.$focusItem ) {\n                    // notify listeners\n                    this.emit('click:item', {$item: this.$focusItem, event: event});\n                }\n                break;\n        }\n    }\n};\n\n\n/**\n * Default method to move focus according to pressed keys.\n *\n * @param {Object} event generated event source of movement\n */\n//List.prototype.navigateDefault = function ( event ) {\n//    switch ( event.code ) {\n//        case 38:\n//        case 40:\n//        case 39:\n//        case 37:\n//        case 33:\n//        case 34:\n//        case 36:\n//        case 35:\n//            // cursor move only on arrow keys\n//            this.move(event.code);\n//            break;\n//        case 13:\n//            // there are some listeners\n//            if ( this.events['click:item'] ) {\n//                // notify listeners\n//                this.emit('click:item', {$item: this.$focusItem, event: event});\n//            }\n//            break;\n//    }\n//};\n\n\n/**\n * Current active method to move focus according to pressed keys.\n * Can be redefined to provide custom navigation.\n *\n * @type {function}\n */\n//List.prototype.navigate = List.prototype.navigateDefault;\n\n\n/**\n * Make all the data items identical.\n * Wrap to objects if necessary.\n *\n * @param {Array} data incoming array\n * @return {Array} reworked incoming data\n */\nfunction normalize ( data ) {\n    var idx, item;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !Array.isArray(data) ) {\n            throw new Error(__filename + ': wrong data type');\n        }\n    }\n\n    // rows\n    for ( idx = 0; idx < data.length; idx++ ) {\n        // cell value\n        item = data[idx];\n        // primitive value\n        if ( typeof item !== 'object' ) {\n            // wrap with defaults\n            item = data[idx] = {\n                value: data[idx]\n            };\n        }\n\n        if ( DEVELOP ) {\n            //if ( !('value' in item) ) { throw new Error(__filename + ': field \"value\" is missing'); }\n            if ( ('mark' in item) && Boolean(item.mark) !== item.mark ) {\n                throw new Error(__filename + ': item.mark must be boolean');\n            }\n        }\n    }\n\n    return data;\n}\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nList.prototype.init = function ( config ) {\n    var self     = this,\n        currSize = this.$body.children.length,\n        /**\n         * Item mouse click handler.\n         *\n         * @param {Event} event click event data\n         *\n         * @this Element\n         *\n         * @fires module:stb/ui/list~List#click:item\n         */\n        onClick = function ( event ) {\n            if ( this.data ) {\n                self.focusItem(this);\n\n                // there are some listeners\n                if ( self.events['click:item'] ) {\n                    // notify listeners\n                    self.emit('click:item', {$item: this, event: event});\n                }\n            }\n        },\n        item, idx;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n    }\n\n    // apply cycle behaviour\n    if ( config.cycle !== undefined ) { this.cycle = config.cycle; }\n\n    // apply ScrollBar link\n    if ( config.scroll ) { this.scroll = config.scroll; }\n\n    // apply data provider\n    if ( config.provider ) { this.provider = config.provider; }\n\n\n    // custom render method\n    if ( config.render ) {\n        if ( DEVELOP ) {\n            if ( typeof config.render !== 'function' ) {\n                throw new Error(__filename + ': wrong config.render type');\n            }\n        }\n\n        // apply\n        this.renderItem = config.render;\n    }\n\n    // list items amount on page\n    if ( config.size ) {\n        if ( DEVELOP ) {\n            if ( Number(config.size) !== config.size ) {\n                throw new Error(__filename + ': config.size must be a number');\n            }\n            if ( config.size <= 0 ) {\n                throw new Error(__filename + ': config.size should be positive');\n            }\n        }\n\n        // apply\n        this.size = config.size;\n    }\n\n    if ( config.events ) {\n        // apply all given events\n        Object.keys(config.events).forEach(function ( name ) {\n            self.events[name] = null;\n            self.addListener(name, config.events[name]);\n        });\n    }\n\n    // geometry has changed or initial draw\n    if ( this.size !== currSize ) {\n        // non-empty list\n        if ( currSize > 0 ) {\n            // clear old items\n            this.$body.innerText = null;\n        }\n\n        // create new items\n        for ( idx = 0; idx < this.size; idx++ ) {\n            item = document.createElement('div');\n            item.index = idx;\n            //item.className = 'item theme-list-item';\n            item.className = 'item';\n\n            item.addEventListener('click', onClick);\n            this.$body.appendChild(item);\n        }\n    }\n\n    if ( this.provider ) {\n        if ( this.provider.blocked ) {\n            return;\n        }\n\n        this.provider.get( null, function ( error, data ) {\n            if ( error ) {\n                if ( self.events['data:error'] ) {\n                    /**\n                     * Provider get error while take new data\n                     *\n                     * @event module:stb/ui/list~List#data:error\n                     */\n                    self.emit('data:error', error);\n                }\n            } else {\n                if ( data ) {\n                    config.data = data;\n                    self.setData(config);\n                    if ( self.scroll ) {\n                        self.scroll.init({\n                            realSize: self.provider.maxCount,\n                            viewSize: self.provider.size,\n                            value: self.provider.head + self.provider.pos\n                        });\n                    }\n                }\n                if ( self.events['data:get'] ) {\n                    /**\n                     * Provider request new data\n                     *\n                     * @event module:stb/ui/list~List#data:get\n                     *\n                     * @type {Object}\n                     */\n                    self.emit('data:get');\n                }\n            }\n        });\n    } else if ( config.data ) {\n        this.setData(config);\n    }\n};\n\n/**\n * Set data and render inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nList.prototype.setData = function ( config ) {\n    // apply list of items\n\n    if ( config.data ) {\n        if ( DEVELOP ) {\n            if ( !Array.isArray(config.data) ) { throw new Error(__filename + ': wrong config.data type'); }\n        }\n        // prepare user data\n        this.data = normalize(config.data);\n    }\n\n    // view window position\n    if ( DEVELOP ) {\n        if ( config.viewIndex !== undefined ) {\n            if ( Number(config.viewIndex) !== config.viewIndex ) {\n                throw new Error(__filename + ': config.viewIndex must be a number');\n            }\n            if ( config.viewIndex < 0 ) {\n                throw new Error(__filename + ': config.viewIndex should be positive');\n            }\n        }\n    }\n\n    // reset current view window position\n    this.viewIndex = null;\n\n    if ( this.$focusItem ) {\n        this.blurItem(this.$focusItem);\n    }\n\n    if ( this.scroll ) {\n        if ( this.provider ) {\n            if ( this.scroll.realSize !== this.provider.maxCount ) {\n                this.scroll.init({\n                    realSize: this.provider.maxCount,\n                    viewSize: this.provider.size,\n                    value: this.provider.head + this.provider.pos\n                });\n            }\n        } else {\n            this.scroll.init({\n                realSize: this.data.length,\n                viewSize: this.size,\n                value: config.viewIndex || 0\n            });\n        }\n    }\n\n    // set focus item\n    if ( config.focusIndex !== undefined && this.data.length ) {\n        if ( DEVELOP ) {\n            if ( Number(config.focusIndex) !== config.focusIndex ) {\n                throw new Error(__filename + ': config.focusIndex must be a number');\n            }\n            if ( config.focusIndex < 0 ) {\n                throw new Error(__filename + ': config.focusIndex should be positive');\n            }\n            // if ( config.focusIndex > this.data.length - 1 ) {\n            //     throw new Error(__filename + ': config.focusIndex should be less than data size');\n            // }\n        }\n\n        // jump to the necessary item\n        this.focusIndex(config.focusIndex);\n    } else {\n        // go to the first page\n        this.renderView(config.viewIndex || 0);\n    }\n};\n\n\n/**\n * Shift the visible view window event.\n *\n * @event module:stb/ui/list~List#move:view\n *\n * @type {Object}\n * @property {number} prevIndex previous view window position\n * @property {number} currIndex current view window position\n */\n\n\n/**\n * Draw the visible window.\n *\n * @param {number} index start position to render\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#move:view\n */\nList.prototype.renderView = function ( index ) {\n    var $item, idx, itemData, prevIndex, currIndex;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(index) !== index ) {\n            throw new Error(__filename + ': index must be a number');\n        }\n        if ( index < 0 ) {\n            throw new Error(__filename + ': index should be more than zero');\n        }\n        // if ( index >= this.data.length ) {\n        //     throw new Error(__filename + ': index should be less than data size');\n        // }\n    }\n\n    // has the view window position changed\n    if ( this.viewIndex !== index ) {\n        // save for emit\n        prevIndex = this.viewIndex;\n        // sync global pointer\n        this.viewIndex = currIndex = index;\n\n        // rebuild all visible items\n        for ( idx = 0; idx < this.size; idx++ ) {\n            // shortcuts\n            $item    = this.$body.children[idx];\n            itemData = this.data[index];\n\n            // real item or stub\n            if ( itemData ) {\n                // correct inner data/index and render\n                $item.data  = itemData;\n                $item.index = index;\n                this.renderItem($item, itemData);\n\n                // apply CSS\n                if ( itemData.mark ) {\n                    $item.classList.add('mark');\n                } else {\n                    $item.classList.remove('mark');\n                }\n            } else {\n                // nothing to render\n                $item.data = $item.index = undefined;\n                $item.innerHTML = '&nbsp;';\n                $item.ready = false;\n            }\n            index++;\n        }\n\n        // there are some listeners\n        if ( this.events['move:view'] ) {\n            // notify listeners\n            this.emit('move:view', {prevIndex: prevIndex, currIndex: currIndex});\n        }\n\n        // there are some listeners\n        if ( this.events['select:item'] ) {\n            this.emit('select:item', {$item: $item});\n        }\n\n        // update a linked scroll component\n        if ( this.scroll ) {\n            this.scroll.scrollTo(this.provider ? this.provider.head + this.provider.pos : this.viewIndex);\n        }\n\n        // full rebuild\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Move focus to the given direction.\n *\n * @param {number} direction arrow key code\n *\n * @fires module:stb/ui/list~List#cycle\n * @fires module:stb/ui/list~List#overflow\n */\nList.prototype.move = function ( direction ) {\n    var self = this,\n        force = false;\n\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(direction) !== direction ) {\n            throw new Error(__filename + ': direction must be a number');\n        }\n    }\n\n    // empty list\n    if ( !this.data.length ) {\n        return;\n    }\n\n    switch ( direction ) {\n        case keys.left:\n            if ( this.type === this.TYPE_HORIZONTAL ) {\n                force = true;\n            } else {\n                break;\n            }\n        case keys.up:\n            if ( force || this.type === this.TYPE_VERTICAL ) {\n                if ( this.$focusItem && this.$focusItem.index > 0 ) {\n                    if ( this.$focusItem === this.$body.firstChild ) {\n                        this.renderView(this.viewIndex - 1);\n                    } else {\n                        this.focusItem(this.$focusItem.previousSibling);\n                    }\n                } else if ( this.provider ) {\n                    if ( this.provider.blocked ) {\n                        return;\n                    }\n\n                    this.provider.get(direction, function ( error, data, pos ) {\n                        if ( error ) {\n                            if ( self.events['data:error'] ) {\n                                /**\n                                     * Provider get error while take new data\n                                     *\n                                     * @event module:stb/ui/list~List#data:error\n                                     */\n                                self.emit('data:error', error);\n                            }\n                        } else if ( data ) {\n                            self.setData({data: data, focusIndex: pos || pos === 0 ? pos : self.$focusItem.index});\n                        }\n                    });\n                } else {\n                    // already at the beginning\n                    if ( this.cycle ) {\n                        // jump to the end of the list\n                        this.move(keys.end);\n                    }\n                    if ( this.events['overflow'] ) {\n                        // notify listeners\n                        this.emit('overflow', {direction: direction, cycle: this.cycle});\n                    }\n                }\n            }\n            break;\n        case keys.right:\n            if ( this.type === this.TYPE_HORIZONTAL ) {\n                force = true;\n            } else {\n                break;\n            }\n        case keys.down:\n            if ( force || this.type === this.TYPE_VERTICAL ) {\n                if ( this.$focusItem && this.$focusItem.index < this.data.length - 1 ) {\n                    if ( this.$focusItem === this.$body.lastChild ) {\n                        this.renderView(this.viewIndex + 1);\n                    } else {\n                        this.focusItem(this.$focusItem.nextSibling);\n                    }\n                } else if ( this.provider ) {\n                    if ( this.provider.blocked ) {\n                        return;\n                    }\n\n                    this.provider.get(direction, function ( error, data, pos ) {\n                        if ( error ) {\n                            if ( self.events['data:error'] ) {\n                                /**\n                                     * Provider get error while take new data\n                                     *\n                                     * @event module:stb/ui/list~List#data:error\n                                     */\n                                self.emit('data:error', error);\n                            }\n                        } else if ( data ) {\n                            self.setData({data: data, focusIndex: pos || pos === 0 ? pos : self.$focusItem.index});\n                        }\n                    });\n                } else {\n                    // already at the beginning\n                    if ( this.cycle ) {\n                        // jump to the beginning of the list\n                        this.move(keys.home);\n                    }\n                    if ( this.events['overflow'] ) {\n                        // notify listeners\n                        this.emit('overflow', {direction: direction, cycle: this.cycle});\n                    }\n                }\n            }\n            break;\n        case keys.pageUp:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        self.setData({data: data, focusIndex: pos ? pos : 0});\n                    }\n                });\n\n                return;\n            }\n            if ( this.viewIndex < this.size ) {\n                // first page\n                this.renderView(0);\n            } else {\n                // second page and further\n                this.renderView(this.viewIndex - this.size + 1);\n            }\n\n            this.focusItem(this.$body.firstChild);\n            break;\n        case keys.pageDown:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    var focusIndex;\n\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        if ( pos || pos === 0 ) {\n                            focusIndex = pos;\n                        } else {\n                            focusIndex = data.length < self.size ?  data.length - 1 : self.size - 1;\n                        }\n\n                        self.setData({data: data, focusIndex: focusIndex});\n                    }\n                });\n                break;\n            }\n            // data is bigger then one page\n            if ( this.data.length > this.size ) {\n                // determine jump size\n                if ( this.viewIndex > this.data.length - this.size * 2 ) {\n                    // last page\n                    this.renderView(this.data.length - this.size);\n                } else {\n                    // before the last page\n                    this.renderView(this.viewIndex + this.size - 1);\n                }\n                this.focusItem(this.$body.lastChild);\n            } else {\n                // not the last item on the page\n                this.focusItem(this.$body.children[this.data.length - 1]);\n            }\n            break;\n        case keys.home:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        self.setData({data: data, focusIndex: pos ? pos : 0});\n                    }\n                });\n                break;\n            }\n            this.renderView(0);\n            this.focusItem(this.$body.firstChild);\n            break;\n        case keys.end:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    var focusIndex;\n\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        if ( pos || pos === 0 ) {\n                            focusIndex = pos;\n                        } else {\n                            focusIndex = data.length < self.size ?  data.length - 1 : self.size - 1;\n                        }\n\n                        self.setData({data: data, focusIndex: focusIndex});\n                    }\n                });\n                break;\n            }\n            if ( this.data.length > this.size ) {\n                this.renderView(this.data.length - this.size);\n                this.focusItem(this.$body.lastChild);\n            } else {\n                // not the last item on the page\n                this.focusItem(this.$body.children[this.data.length - 1]);\n            }\n            break;\n    }\n};\n\n\n/**\n * Highlight the given DOM element as focused.\n * Remove focus from the previously focused item and generate associated event.\n *\n * @param {Node|Element} $item element to focus\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#focus:item\n * @fires module:stb/ui/list~List#blur:item\n */\nList.prototype.focusItem = function ( $item ) {\n    var $prev = this.$focusItem;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n    }\n\n    // different element\n    if ( $item && $prev !== $item ) {\n        if ( DEVELOP ) {\n            if ( !($item instanceof Element) ) {\n                throw new Error(__filename + ': wrong $item type');\n            }\n            if ( $item.parentNode !== this.$body ) {\n                throw new Error(__filename + ': wrong $item parent element');\n            }\n        }\n\n        // some item is focused already\n        if ( $prev !== null ) {\n            if ( DEVELOP ) {\n                if ( !($prev instanceof Element) ) {\n                    throw new Error(__filename + ': wrong $prev type');\n                }\n            }\n\n            // style\n            $prev.classList.remove('focus');\n            //$prev.classList.remove('theme-focus');\n\n            // there are some listeners\n            if ( this.events['blur:item'] ) {\n                /**\n                 * Remove focus from an element.\n                 *\n                 * @event module:stb/ui/list~List#blur:item\n                 *\n                 * @type {Object}\n                 * @property {Element} $item previously focused HTML element\n                 */\n                this.emit('blur:item', {$item: $prev});\n            }\n        }\n        // reassign\n        this.$focusItem = $item;\n\n        this.$focusItem.data = this.data[this.$focusItem.index];\n\n        // correct CSS\n        $item.classList.add('focus');\n        //$item.classList.add('theme-focus');\n\n        // there are some listeners\n        if ( this.events['focus:item'] ) {\n            /**\n             * Set focus to a DOM element.\n             *\n             * @event module:stb/ui/list~List#focus:item\n             *\n             * @type {Object}\n             * @property {Element} $prev old/previous focused HTML element\n             * @property {Element} $curr new/current focused HTML element\n             */\n            this.emit('focus:item', {$prev: $prev, $curr: $item});\n        }\n\n        // there are some listeners\n        if ( this.events['select:item'] ) {\n            /**\n             * Set focus to a list item.\n             *\n             * @event module:stb/ui/list~List#select:item\n             *\n             * @type {Object}\n             * @property {Element} $item new/current focused item\n             */\n            this.emit('select:item', {$item: $item});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n/**\n * Highlight the given DOM element as blur.\n * Remove focus from the item and generate associated event.\n *\n * @param {Node|Element} $item element to focus\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#focus:item\n * @fires module:stb/ui/list~List#blur:item\n */\nList.prototype.blurItem = function ( $item ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) { throw new Error(__filename + ': wrong arguments number'); }\n    }\n\n    // different element\n    if ( $item ) {\n        if ( $item === this.$focusItem ) {\n            this.$focusItem = null;\n        }\n\n        $item.classList.remove('focus');\n        //$item.classList.remove('theme-focus');\n\n        // there are some listeners\n        if ( this.events['blur:item'] ) {\n            /**\n             * Remove focus from an element.\n             *\n             * @event module:stb/ui/list~List#blur:item\n             *\n             * @type {Object}\n             * @property {Element} $item previously focused HTML element\n             */\n            this.emit('blur:item', {$item: $item});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n/**\n * Set the given item focused by item index.\n *\n * @param {number} index item data index\n */\nList.prototype.focusIndex = function ( index ) {\n    var viewIndex = this.viewIndex || 0;\n\n    if ( DEVELOP ) {\n        if ( Number(index) !== index ) {\n            throw new Error(__filename + ': index must be a number');\n        }\n        if ( index < 0 ) {\n            throw new Error(__filename + ': index should be positive');\n        }\n        // if ( index > this.data.length - 1 ) {\n        //     throw new Error(__filename + ': index should be less than data size');\n        // }\n    }\n\n    // determine direction\n    if ( index >= viewIndex + this.size ) {\n        // check range\n        index = index < this.data.length - 1 ? index : this.data.length - 1;\n        // move down\n        this.renderView(index - this.size + 1);\n        this.focusItem(this.$body.lastChild);\n    } else if ( index < viewIndex ) {\n        // check range\n        index = index > 0 ? index : 0;\n        // move up\n        this.renderView(index);\n        this.focusItem(this.$body.firstChild);\n    } else {\n        // no move\n        if ( this.viewIndex === null ) {\n            // first attempt\n            this.renderView(0);\n        }\n        this.focusItem(this.$body.children[index - viewIndex]);\n    }\n};\n\n\n/**\n * Set item state and appearance as marked.\n *\n * @param {Node|Element} $item element to focus\n * @param {boolean} state true - marked, false - not marked\n */\nList.prototype.markItem = function ( $item, state ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 2 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !($item instanceof Element) ) {\n            throw new Error(__filename + ': wrong $item type');\n        }\n        if ( $item.parentNode !== this.$body ) {\n            throw new Error(__filename + ': wrong $item parent element');\n        }\n        if ( Boolean(state) !== state ) {\n            throw new Error(__filename + ': state must be boolean');\n        }\n    }\n\n    // correct CSS\n    if ( state ) {\n        $item.classList.add('mark');\n    } else {\n        $item.classList.remove('mark');\n    }\n\n    // apply flag\n    $item.data.mark = state;\n};\n\n\n// public\nmodule.exports = List;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mag-component-list/index.js\n// module id = 44\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-component/index.js\n// module id = 45\n// module chunks = 0","'use strict';\n\nvar keys   \t= require('stb-keys'),\n\tapp\t\t= require('mag-app'),\n\n\tPanel \t= require('stb-component-panel'),\n\tList  \t= require('mag-component-list'),\n\tInput \t= require('../../../modules/ui/input'),\n\n\tplayer \t= require('../../../modules/player'),\n\n\tListMovies  = require('./../../list.videos.js'),\n\n\tSearchModel  = require('../../../modules/api/model/search'),\n\tchannelsModel = require('../../../modules/api/model/channels'),\n\n\tlistMenu = require('../list.menu'),\n\n\tlists = [],\n\n\t$page = document.getElementById('pm'),\n\n\tactiveList = 0,\n\n\tpanel = new Panel({\n\t\t$node: document.getElementById('pmTabCategoryContent'),\n\t\tclassName: 'tab hidden',\n\t\tvisible: false,\n\t\tevents: {\n\t\t\tfocus: function () {\n\t\t\t\tlists[activeList].focus();\n\t\t\t},\n\t\t\tshow: function () {\n\t\t\t\t$page.style.backgroundImage = '';\n\t\t\t}\n\t\t}\n\t}),\n\n\tinputSearch = new Input({\n\t\t$node: document.getElementById('pmCategorySearch'),\n\t\t$body: document.getElementById('pmCategorySearchBody'),\n\t\tclassName: 'component input tabInputSearch',\n\t\tevents: {\n\t\t\tfocus : function () {\n\t\t\t\tthis.setValue('');\n\t\t\t\tapp.route(app.pages.search);\n\t\t\t}\n\t\t}\n\t}),\n\n\tloader = require('../../loader'),\n\n\tbottomListTopValue = 0,\n\ttopListTopValue    = 0,\n\n\ttopList = 0,\n\tbottomList = 1,\n\n\ttopPageNumber = 0,\n\tbottomPageNumber = 1,\n\n\tloadTimeout = -1,\n\tblockMove = true;\n\nfunction moveLists ( sourceListNumber, isGoingUp ) {\n\tvar targetList = sourceListNumber ^ 1;\n\n\t//debug.log(blockMove, 'blockMove');\n\tif ( blockMove ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( isGoingUp ) {\n\t\t\t\t//debug.log(topPageNumber - 1, 'topPageNumber');\n\t\t\t} else {\n\t\t\t\t//debug.log(bottomPageNumber - 1, 'bottomPageNumber');\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\tif ( isGoingUp ) {\n\t\t////debug.log('TRY TO LOAD UP PAGE ' + (topPageNumber - 1));\n\t\tblockMove = true;\n\t\tchannelsModel.getPage({page: (topPageNumber - 1), count: 1}).then(function ( response ) {\n\t\t\t--topPageNumber;\n\t\t\t--bottomPageNumber;\n\n\t\t\tlists[targetList].model.init({channel: response[0]});\n\t\t\ttopList = targetList;\n\t\t\tbottomList = sourceListNumber;\n\t\t\tactiveList = targetList;\n\t\t}, function ( error ) {\n\t\t\t//debug.log(error);\n\t\t});\n\t} else {\n\t\t//debug.log('TRY TO LOAD DOWN PAGE ' + (bottomPageNumber + 1));\n\t\tif ( lists[bottomList].data.length === 0 ) {\n\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\treturn;\n\t\t}\n\t\tblockMove = true;\n\t\tchannelsModel.getPage({page: (bottomPageNumber + 1), count: 1}).then(function ( response ) {\n\t\t\t++topPageNumber;\n\t\t\t++bottomPageNumber;\n\n\t\t\tlists[sourceListNumber].model.init({channel: response[0]});\n\t\t\ttopList = targetList;\n\t\t\tbottomList = sourceListNumber;\n\t\t\tactiveList = targetList;\n\t\t\t//debug.log(activeList, 'activeList')\n\t\t}, function ( error ) {\n\t\t\tblockMove = false;\n\t\t\tif ( error === 'overflow' ) {\n\t\t\t\t++topPageNumber;\n\t\t\t\t++bottomPageNumber;\n\t\t\t\tlists[sourceListNumber].model.init({channel: {id: '!', title: ''}});\n\t\t\t\tlists[sourceListNumber].data = [];\n\t\t\t\tlists[sourceListNumber].viewIndex = null;\n\t\t\t\tlists[sourceListNumber].renderView(0);\n\t\t\t\tlists[sourceListNumber].focusIndex(0);\n\t\t\t\tlists[sourceListNumber].$title.innerHTML = '';\n\t\t\t\ttopList = targetList;\n\t\t\t\tbottomList = sourceListNumber;\n\t\t\t\tactiveList = targetList;\n\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\tlists[activeList].focus();\n\t\t\t}\n\t\t});\n\t}\n}\n\n\nchannelsModel.addListener('category:changed', function () {\n\tclearTimeout(loadTimeout);\n\tloadTimeout = setTimeout(function () {\n\t\tloader.hide();\n\t}, 10000);\n\tif ( lists.length === 0 ) {\n\t\tlists.push(new ListMovies({\n\t\t\t$node:document.getElementById('pmListCategoryVideos0Node'),\n\t\t\t$body:document.getElementById('pmListCategoryVideos0Body'),\n\t\t\t$title:document.getElementById('pmCategoryChannelTitle0'),\n\t\t\tclassName: 'listMovie0Node',\n\t\t\tmodel: new SearchModel({\n\t\t\t\ttype: 'video'\n\t\t\t}),\n\t\t\tsize: 5,\n\t\t\tviewIndex: 0,\n\t\t\tfocusIndex: 0,\n\t\t\ttype: List.prototype.TYPE_HORIZONTAL,\n\t\t\tevents: {\n\t\t\t\toverflow: function ( event ) {\n\t\t\t\t\tif ( event.direction === keys.left ) {\n\t\t\t\t\t\tlistMenu.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'view:ready': function () {\n\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t}\n\t\t\t\t\tthis.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\tthis.show();\n\t\t\t\t\tloader.hide();\n\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\tblockMove = false;\n\t\t\t\t},\n\t\t\t\t'view:error': function ( error ) {\n\t\t\t\t\tblockMove = false;\n\t\t\t\t\tif ( error === 'empty' ) {\n\t\t\t\t\t\tthis.data = [{\n\t\t\t\t\t\t\tid:'',\n\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\tpublishedAt: '',\n\t\t\t\t\t\t\ticon: 'img/no.image.png',\n\t\t\t\t\t\t\tduration: '',\n\t\t\t\t\t\t\ttitle: gettext('No videos'),\n\t\t\t\t\t\t\tchannelTitle: '',\n\t\t\t\t\t\t\tviewCount: '',\n\t\t\t\t\t\t\tlocale: {\n\t\t\t\t\t\t\t\tpublishedAt: '',\n\t\t\t\t\t\t\t\tviewCount: '',\n\t\t\t\t\t\t\t\tchannelTitle: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}];\n\t\t\t\t\t\tthis.viewIndex = null;\n\t\t\t\t\t\tthis.renderView(0);\n\t\t\t\t\t\tthis.focusIndex(0);\n\t\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\t\tthis.show();\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\t} else if ( topPageNumber === 0 ) {\n\t\t\t\t\t\tmoveLists(0, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'click:item': function ( event ) {\n\t\t\t\t\tif ( event.$item.data.id ) {\n\t\t\t\t\t\tplayer.setContent({\n\t\t\t\t\t\t\tchannel: this.model.channel,\n\t\t\t\t\t\t\tvideo: event.$item.data,\n\t\t\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\t\t\tposition: event.$item.index\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// router.navigate('pp', {\n\t\t\t\t\t\t// \tchannel: this.model.channel,\n\t\t\t\t\t\t// \tvideo: event.$item.data,\n\t\t\t\t\t\t// \tplaylist: this.data,\n\t\t\t\t\t\t// \tposition: event.$item.index\n\t\t\t\t\t\t// });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tlists.push(new ListMovies({\n\t\t\t$node:document.getElementById('pmListCategoryVideos1Node'),\n\t\t\t$body:document.getElementById('pmListCategoryVideos1Body'),\n\t\t\t$title:document.getElementById('pmCategoryChannelTitle1'),\n\t\t\tclassName: 'listMovie1Node',\n\t\t\tmodel: new SearchModel({\n\t\t\t\ttype: 'video'\n\t\t\t}),\n\t\t\tsize: 5,\n\t\t\tviewIndex: 0,\n\t\t\tfocusIndex: 0,\n\t\t\ttype: List.prototype.TYPE_HORIZONTAL,\n\t\t\tevents: {\n\t\t\t\toverflow: function ( event ) {\n\t\t\t\t\tif ( event.direction === keys.left ) {\n\t\t\t\t\t\tlistMenu.focus();\n\t\t\t\t\t\tpanel.focusEntry = this;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'view:ready': function () {\n\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\tthis.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\tthis.show();\n\t\t\t\t\tloader.hide();\n\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\tblockMove = false;\n\t\t\t\t},\n\t\t\t\t'view:error': function ( error ) {\n\t\t\t\t\tblockMove = false;\n\t\t\t\t\tif ( error === 'empty' ) {\n\t\t\t\t\t\tthis.data = [{\n\t\t\t\t\t\t\tid:'',\n\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\tpublishedAt: '',\n\t\t\t\t\t\t\ticon: 'img/no.image.png',\n\t\t\t\t\t\t\tduration: '',\n\t\t\t\t\t\t\ttitle: gettext('No videos'),\n\t\t\t\t\t\t\tchannelTitle: '',\n\t\t\t\t\t\t\tviewCount: '',\n\t\t\t\t\t\t\tlocale: {\n\t\t\t\t\t\t\t\tpublishedAt: '',\n\t\t\t\t\t\t\t\tviewCount: '',\n\t\t\t\t\t\t\t\tchannelTitle: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}];\n\t\t\t\t\t\tthis.viewIndex = null;\n\t\t\t\t\t\tthis.renderView(0);\n\t\t\t\t\t\tthis.focusIndex(0);\n\t\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\t\tthis.show();\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'click:item': function ( event ) {\n\t\t\t\t\tif ( event.$item.data.id ) {\n\t\t\t\t\t\tplayer.setContent({\n\t\t\t\t\t\t\tchannel: this.model.channel,\n\t\t\t\t\t\t\tvideo: event.$item.data,\n\t\t\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\t\t\tposition: event.$item.index\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\t//topListTopValue = window.getComputedStyle(lists[0].$node).getPropertyValue('top');\n\t\tpanel.add(lists[0]);\n\t\tpanel.add(lists[1]);\n\t\tlists[0].focus();\n\t\tlists[0].addListener('keydown', function ( event ) {\n\t\t\tif ( event.code === keys.down ) {\n\t\t\t\tmoveLists(0, false);\n\t\t\t} else if ( event.code === keys.up ) {\n\t\t\t\tif ( topPageNumber > 0 ) {\n\t\t\t\t\tmoveLists(0, true);\n\t\t\t\t} else {\n\t\t\t\t\tinputSearch.focus();\n\t\t\t\t}\n\t\t\t} else if ( event.code === keys.playPause ) {\n\t\t\t\tplayer.setContent({\n\t\t\t\t\tchannel: this.model.channel,\n\t\t\t\t\tvideo: this.$focusItem.data,\n\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\tposition: this.$focusItem.index\n\t\t\t\t});\n\t\t\t}\n\t\t\t//debug.log(event.stop);\n\t\t});\n\t\tlists[1].addListener('keydown', function ( event ) {\n\t\t\tif ( event.code === keys.down ) {\n\t\t\t\tmoveLists(1, false);\n\t\t\t} else if ( event.code === keys.up ) {\n\t\t\t\tif ( topPageNumber > 0 ) {\n\t\t\t\t\tmoveLists(1, true);\n\t\t\t\t} else {\n\t\t\t\t\tinputSearch.focus();\n\t\t\t\t}\n\t\t\t} else if ( event.code === keys.playPause ) {\n\t\t\t\tplayer.setContent({\n\t\t\t\t\tchannel: this.model.channel,\n\t\t\t\t\tvideo: this.$focusItem.data,\n\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\tposition: this.$focusItem.index\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tbottomListTopValue = window.getComputedStyle(lists[1].$node).getPropertyValue('top');\n\t}\n\tchannelsModel.getPage({page: 0, count: 1}).then(function ( data ) {\n\t\ttopPageNumber = 0;\n\t\ttopList = 0;\n\t\tbottomList = 1;\n\t\tbottomPageNumber = 1;\n\t\tactiveList = 0;\n\t\tlists[topList].model.filter({channel: data[0]});\n\t\tchannelsModel.getPage({page: 1, count: 1}).then(function ( data ) {\n\t\t\tlists[bottomList].model.filter({channel: data[0]});\n\t\t\tlists[activeList].focus();\n\t\t});\n\t})['catch'](function ( e ) {\n\t\t//debug.log(e);\n\t});\n});\n\n\npanel.activate = function ( data ) {\n\tthis.show();\n\t//debug.log(activeList, 'activeList')\n\tif ( channelsModel.setActiveCategory(data) ) {\n\t\tloader.show();\n\t} else {\n\t\tlists[activeList].focus();\n\t}\n};\n\npanel.add(inputSearch);\n\nmodule.exports = panel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/page.main/tabs/category.content.js\n// module id = 46\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-panel');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-panel';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-component-panel/index.js\n// module id = 47\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base panel implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n *\n * @example\n * var Panel = require('stb/ui/panel'),\n *     panel = new Panel({\n *         $node: document.getElementById('someId'),\n *         children: [\n *             new Panel({\n *                 $node: document.getElementById('anotherId')\n *             })\n *         ]\n *     });\n *\n * panel.add(\n *     new Button(),\n *     new Button(),\n *     new Button()\n * );\n *\n * page.add(panel);\n */\nfunction Panel ( config ) {\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    // can't accept focus\n    config.focusable = config.focusable || false;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'panel ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n}\n\n\n// inheritance\nPanel.prototype = Object.create(Component.prototype);\nPanel.prototype.constructor = Panel;\n\n// set component name\nPanel.prototype.name = 'spa-component-panel';\n\n\n// public\nmodule.exports = Panel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-component-panel/index.js\n// module id = 48\n// module chunks = 0","/**\n * @module stb/ui/input\n * @author Igor Zaporozhets <deadbyelpy@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys');\n\n\n/**\n * Base input field implementation.\n * Has two types: text and password.\n * Password - replace real text with '*', but real text presents in the own property 'value'.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {string} [config.value='text'] input text value\n * @param {string} [config.placeholder='password'] placeholder text value\n * @param {string} [config.type=Input.TYPE_TEXT] input type\n * @param {string} [config.direction='ltr'] symbol direction ('rtl' - right to left, 'ltr' - left to right)\n *\n * @example\n * var Input = require('stb/ui/input'),\n *     input = new Input({\n *         placeholder: 'input password'\n *         events: {\n *             input: function ( event ) {\n *                 debug.log(event.value);\n *             }\n *         }\n *     });\n */\nfunction Input ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEBUG ) {\n        if ( typeof config !== 'object' ) { throw new Error(__filename + ': wrong config type'); }\n        // init parameters checks\n        if ( config.className && typeof config.className !== 'string'   ) { throw new Error(__filename + ': wrong or empty config.className'); }\n    }\n\n    this.name = 'component';\n    /**\n     * Text value of input.\n     *\n     * @type {string}\n     */\n    this.value = '';\n\n    /**\n     * Input type, now available only text and password.\n     * Different logic with different types.\n     * TYPE_TEXT - normal input.\n     * TYPE_PASSWORD - hidden input, all chars replaced with '*', but real value is located in 'this.value'.\n     *\n     * @type {number}\n     */\n    this.type = this.TYPE_TEXT;\n\n    // set default className if classList property empty or undefined\n    config.className = 'input ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // insert text line\n    this.$line = this.$body.appendChild(document.createElement('div'));\n    // correct class\n    this.$line.className = 'line';\n\n    // element to show current cursor position\n    this.$caret = this.$line.appendChild(document.createElement('div'));\n    // correct class\n    this.$caret.className = 'caret';\n\n    // hint element with placeholder text\n    this.$placeholder = this.$line.appendChild(document.createElement('div'));\n    // correct class\n    this.$placeholder.className = 'placeholder';\n\n    // setup caret index\n    this.$caret.index = 0;\n\n    // component setup\n    this.init(config);\n}\n\n\n// inheritance\nInput.prototype = Object.create(Component.prototype);\nInput.prototype.constructor = Input;\n\n// input types\nInput.prototype.TYPE_TEXT     = 0;\nInput.prototype.TYPE_PASSWORD = 1;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nInput.prototype.defaultEvents = {\n    /**\n     * Default method to handle keyboard keypress events.\n     *\n     * @param {Event} event generated event\n     */\n    keypress: function ( event ) {\n        this.addChar(String.fromCharCode(event.keyCode), this.$caret.index);\n    },\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Event} event generated event\n     */\n    keydown: function ( event ) {\n        switch ( event.code ) {\n            case keys['delete']:\n                this.removeChar(this.$caret.index);\n                break;\n\n            case keys.back:\n                this.removeChar(this.$caret.index - 1);\n                break;\n\n            case keys.left:\n                this.setCaretPosition(this.$caret.index - 1);\n                break;\n\n            case keys.right:\n                this.setCaretPosition(this.$caret.index + 1);\n                break;\n\n            case keys.end:\n            case keys.down:\n                this.setCaretPosition(this.value.length);\n                break;\n\n            case keys.home:\n            case keys.up:\n                this.setCaretPosition(0);\n                break;\n\n            default:\n                break;\n        }\n    }\n};\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nInput.prototype.init = function ( config ) {\n    if ( DEBUG ) {\n        if ( config.type && Number(config.type) !== config.type ) { throw new Error(__filename + ': config.type must be a number'); }\n        if ( config.type && config.type !== this.TYPE_TEXT && config.type !== this.TYPE_PASSWORD ) { throw new Error(__filename + ': config.type must be one of the TYPE_* constant'); }\n        if ( config.value && typeof config.value !== 'string' ) { throw new Error(__filename + ': config.value must be a string'); }\n        if ( config.placeholder && typeof config.placeholder !== 'string' ) { throw new Error(__filename + ': config.placeholder must be a string'); }\n        if ( config.direction && typeof config.direction !== 'string' ) { throw new Error(__filename + ': config.direction must be a string'); }\n        if ( config.direction && config.direction !== 'ltr' && config.direction !== 'rtl' ) { throw new Error(__filename + ': config.direction wrong value'); }\n    }\n\n    // type passed\n    if ( config.type ) {\n        // apply\n        this.type = config.type;\n    }\n\n    // default value passed\n    if ( config.value ) {\n        // apply\n        this.setValue(config.value);\n    }\n\n    // hint\n    if ( config.placeholder ) {\n        // apply\n        this.$placeholder.innerText = config.placeholder;\n    }\n\n    // char direction\n    this.$line.dir = config.direction || 'ltr';\n};\n\n\n/**\n * Add given char to given position.\n * Also moving caret in every action.\n * Do nothing if position is < 0, or if index more or equals to length add char to the end.\n *\n * @param {string} char symbol to add\n * @param {number} [index=this.value.length] given position\n *\n * @fires module:stb/ui/input~Input#input\n */\nInput.prototype.addChar = function ( char, index ) {\n    var $char = document.createElement('div');\n\n    index = (index === undefined) ? this.$caret.index : index;\n\n    if ( DEBUG ) {\n        if ( index < 0 ) { throw new Error(__filename + ': index must be more than 0 or equal to 0'); }\n        if ( typeof char !== 'string' ) { throw new Error(__filename + ': char must be a string'); }\n        if ( char.length !== 1 ) { throw new Error(__filename + ': char must be a string with length = 1'); }\n    }\n\n    // remove hint\n    if ( this.value.length === 0 ) {\n        this.$line.removeChild(this.$placeholder);\n    }\n\n    // settings class name for span which presents one symbol in virtual input\n    $char.className = 'char';\n\n    // insert char into value\n    this.value = this.value.substring(0, index) + char + this.value.substring(index, this.value.length);\n\n    // move caret\n    ++this.$caret.index;\n\n    if ( this.type === this.TYPE_PASSWORD ) {\n        $char.innerText = '*';\n    } else if ( char === ' ' ) {\n        $char.innerHTML = '&nbsp;';\n    } else {\n        $char.innerText = char;\n    }\n\n    if ( index >= this.value.length ) { // add char to the end, move caret to the end\n        this.$line.appendChild($char);\n        this.$line.appendChild(this.$caret);\n    } else { // move caret before index, append span before caret\n        this.$line.insertBefore(this.$caret, this.$line.children[index]);\n        this.$line.insertBefore($char, this.$caret);\n    }\n\n    // there are some listeners\n    if ( this.events['input'] ) {\n        // notify listeners\n        this.emit('input', {value: this.value});\n    }\n};\n\n\n/**\n * Remove char from given position.\n * Do nothing if index is out of the range (0, length).\n *\n * @param {number} [index=this.$caret.index - 1] index given position\n *\n * @fires module:stb/ui/input~Input#input\n */\nInput.prototype.removeChar = function ( index ) {\n    var prevValue = this.value;\n\n    index = (index === undefined) ? this.$caret.index - 1 : index;\n    // non-empty string\n    if ( this.value.length > 0 ) {\n        if ( DEBUG ) {\n            if ( index < 0 ) { throw new Error(__filename + ': index must be a positive value'); }\n            if ( index > this.value.length ) { throw new Error(__filename + ': index must be a less than or equal to total length'); }\n        }\n\n        if ( this.$caret.index === index && index < this.value.length ) {\n            // remove char after caret\n            this.$line.removeChild(this.$line.children[index + 1]);\n        } else if ( this.$caret.index > index ) {\n            // remove char before caret\n            --this.$caret.index;\n            this.$line.removeChild(this.$line.children[index]);\n        }\n\n        // cut one char from the value\n        this.value = this.value.substring(0, index) + this.value.substring(index + 1, this.value.length);\n\n        // there are some listeners and value was changed\n        if ( this.events['input'] && prevValue !== this.value ) {\n            // notify listeners\n            this.emit('input', {value: this.value});\n        }\n    }\n\n    // only hint\n    if ( this.value.length === 0 ) {\n        this.$line.appendChild(this.$placeholder);\n    }\n};\n\n\n/**\n * Move caret to the given position.\n * Do nothing if index is out of the range (0, this.value.length).\n *\n * @param {number} index given position\n */\nInput.prototype.setCaretPosition = function ( index ) {\n    // check boundaries and current position\n    if ( index >= 0 && index <= this.value.length && this.$caret.index !== index ) {\n        // extract caret\n        this.$line.removeChild(this.$caret);\n\n        // apply\n        if ( index === this.value.length ) {\n            // add to the end\n            this.$line.appendChild(this.$caret);\n        } else {\n            this.$line.insertBefore(this.$caret, this.$line.children[index]);\n        }\n\n        this.$caret.index = index;\n    }\n};\n\n\n/**\n * Setting new text value of the input field.\n *\n * @param {string} value given string value\n */\nInput.prototype.setValue = function ( value ) {\n    var oldLength = this.value.length,\n        newLength = value.length,\n        i = 0,\n        $char, diff;\n\n    if ( DEBUG ) {\n        if ( typeof value !== 'string' ) { throw new Error(__filename + ': value must be a string'); }\n    }\n\n    // return if no changes\n    if ( value === this.value ) {\n        return;\n    }\n\n    // non-empty string\n    if ( newLength > 0 ) {\n        // no hint\n        if ( this.$placeholder.parentNode === this.$line ) {\n            this.$line.removeChild(this.$placeholder);\n        }\n\n        // no cursor\n        this.$line.removeChild(this.$caret);\n\n        // value length has changed\n        if ( newLength !== oldLength ) {\n            diff = newLength - oldLength;\n\n            // need to correct char divs amount\n            if ( diff > 0 ) {\n                // add missing chars\n                for ( i = 0; i < diff; i++ ) {\n                    $char = this.$line.appendChild(document.createElement('div'));\n                    $char.className = 'char';\n                }\n            } else {\n                // remove unnecessary chars\n                for ( i = 0; i > diff; i-- ) {\n                    this.$line.removeChild(this.$line.lastChild);\n                }\n            }\n        }\n\n        // apply value\n        for ( i = 0; i < newLength; i++ ) {\n            $char = this.$line.children[i];\n\n            if ( this.type === this.TYPE_PASSWORD ) {\n                $char.innerHTML = '*';\n            } else if ( value[i] === ' ' ) {\n                $char.innerHTML = '&nbsp;';\n            } else {\n                $char.innerText = value[i];\n            }\n        }\n\n        this.value = value;\n        this.$caret.index = newLength;\n        this.$line.appendChild(this.$caret);\n    } else {\n        // empty string\n        this.value = '';\n        this.$line.innerText = '';\n        this.$line.appendChild(this.$caret);\n        this.$line.appendChild(this.$placeholder);\n    }\n\n    // there are some listeners\n    if ( this.events['input'] ) {\n        // notify listeners\n        this.emit('input', {value: this.value});\n    }\n};\n\n\nif ( DEBUG ) {\n    // expose to the global scope\n    window.ComponentInput = Input;\n}\n\n\n// public\nmodule.exports = Input;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/ui/input.js\n// module id = 49\n// module chunks = 0","var parser,\n\tapp = require('mag-app'),\n\tstopExit = false,\n\n\tloader = require('../components/loader'),\n\tplayer;\n\nparser = app.urlParser;\n\nplayer = {\n\tintent: null,\n\tmovie: {},\n\tchannel: {},\n\tplaylist: null,\n\tsetContent: function ( content ) {\n\t\tstopExit = true;\n\t\tif ( !content.urlParseErrorCount ) {\n\t\t\tcontent.urlParseErrorCount = 0;\n\t\t}\n\t\tif ( content.channel !== undefined ) {\n\t\t\tthis.channel = content.channel;\n\t\t} else {\n\t\t\t// icon = content.video.channelId === activeContent.channel.id ? activeContent.channel.icon : false;\n\t\t\tthis.channel = {\n\t\t\t\ttitle: content.video.channelTitle,\n\t\t\t\tid: content.video.channelId\n\t\t\t};\n\t\t}\n\t\tthis.playlist = content.playlist;\n\t\tthis.listPosition = content.position;\n\t\tthis.context = null;\n\n\t\tthis.prepare(content);\n\t},\n\tprepare: function ( content, context ) {\n\t\tvar self = this;\n\n\t\tthis.movie.title = content.video.title;\n\t\tif ( content.video.duration === '' ) {\n\n\t\t\twindow.core.notify({\n\t\t\t\ttitle: gettext('Live broadcasting is not supported'), // текст нотификации\n\t\t\t\ticon: 'alert',\n\t\t\t\ttype: 'warning',\n\t\t\t\ttimeout: 5000\n\t\t\t});\n\t\t\tstopExit = false;\n\t\t\treturn;\n\t\t}\n\t\tthis.movie.id = content.video.id;\n\t\tloader.show();\n\t\t// document.cookie = '';\n\t\tparser.getInfo('https://www.youtube.com/watch?v=' + content.video.id, function ( error, information ) {\n\t\t\tvar bestFormat, i, size;\n\t\t\tloader.hide();\n\t\t\tif ( AJAX_DEBUG ) {\n\t\t\t\t//debug.info(information);\n\t\t\t}\n\t\t\tif ( error ) {\n\t\t\t\tif ( LOGGING ) {\n\t\t\t\t\tapp.data.log['youtube-dl'].push({\n\t\t\t\t\t\terror: error,\n\t\t\t\t\t\ttryCount: content.urlParseErrorCount,\n\t\t\t\t\t\tid: content.video.id\n\t\t\t\t\t});\n\t\t\t\t\tapp.sendLog();\n\t\t\t\t}\n\n\t\t\t\tif ( content.video.duration === '0:00' ) {\n\t\t\t\t\t// live stream\n\t\t\t\t\twindow.core.notify({\n\t\t\t\t\t\ttitle: gettext('Live broadcasting is not supported'), // текст нотификации\n\t\t\t\t\t\ticon: 'alert',\n\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\ttimeout: 5000\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.core.notify({\n\t\t\t\t\t\ttitle: gettext('Video is not available'), // текст нотификации\n\t\t\t\t\t\ticon: 'alert',\n\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\ttimeout: 5000\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tstopExit = false;\n\t\t\t\t//debug.info(error);\n\t\t\t\treturn;\n\t\t\t} else if ( information.formats.length === 0 ) {\n\t\t\t\tif ( content.video.duration === '0:00' ) {\n\t\t\t\t\t// live stream\n\t\t\t\t\tif ( LOGGING ) {\n\t\t\t\t\t\tapp.data.log[content.video.id + '-youtube-dl-try-' +\n\t\t\t\t\t\tcontent.urlParseErrorCount +\n\t\t\t\t\t\t'-live'] = JSON.stringify(information);\n\t\t\t\t\t}\n\t\t\t\t\twindow.core.notify({\n\t\t\t\t\t\ttitle: gettext('Live broadcasting is not supported'),\n\t\t\t\t\t\ticon: 'alert',\n\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\ttimeout: 5000\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif ( LOGGING ) {\n\t\t\t\t\t\tapp.data.log[content.video.id + '-youtube-dl-try-' +\n\t\t\t\t\t\tcontent.urlParseErrorCount +\n\t\t\t\t\t\t'-empty'] = JSON.stringify(information);\n\t\t\t\t\t}\n\t\t\t\t\twindow.core.notify({\n\t\t\t\t\t\ttitle: gettext('Video is not available'),\n\t\t\t\t\t\ticon: 'alert',\n\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\ttimeout: 5000\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tstopExit = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor ( i = 0, size = information.formats.length; i < size; ++i ) {\n\t\t\t\t////debug.log('height ' + information.urlMap[i].format.height);\n\t\t\t\tinformation.formats[i].resolution = information.formats[i].resolution || '';\n\t\t\t\tif ( information.formats[i].container === 'mp4' && information.formats[i].audioBitrate ) {\n\t\t\t\t\tif ( bestFormat ) {\n\t\t\t\t\t\tif ( bestFormat.resolution < information.formats[i].resolution && information.formats[i].type.indexOf('video') !== -1 ) {\n\t\t\t\t\t\t\tbestFormat = information.formats[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ( information.formats[i].type.indexOf('video') !== -1 ) {\n\t\t\t\t\t\tbestFormat = information.formats[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//if ( information.formats[i].resolution.indexOf(height) !== -1 ) {\n\t\t\t\t//\tbestFormat = information.formats[i];\n\t\t\t\t//\tbreak;\n\t\t\t\t//}\n\t\t\t}\n\n\t\t\tif ( !bestFormat ) {\n\t\t\t\tbestFormat = information.formats[0];\n\t\t\t}\n\t\t\tself.movie.url = bestFormat.url;\n\t\t\tself.play(context);\n\t\t});\n\t},\n\tplay: function ( context ) {\n\t\tvar self = this,\n\t\t\tprev, next;\n\n\t\tif ( self.playlist.length && self.playlist.length > self.listPosition ) {\n\t\t\tnext = function () {\n\t\t\t\tself.next(context);\n\t\t\t}\n\t\t}\n\n\t\tif ( self.playlist.length && self.listPosition > 0 ) {\n\t\t\tprev = function () {\n\t\t\t\tself.prev(context);\n\t\t\t}\n\t\t}\n\n\t\tthis.intent = core.intent({\n\t\t\taction: 'play',\n\t\t\tmime: 'content/video',\n\t\t\tdata: {\n\t\t\t\ttitle: self.movie.title,\n\t\t\t\turi: self.movie.url,\n\t\t\t\tmovie: self.movie.id,\n\t\t\t\tproxy: app.params.proxy\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tend: function () {\n\t\t\t\t\tif ( self.playlist.length ) {\n\t\t\t\t\t\tself.next(context);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.intent.close();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: function () {\n\t\t\t\t\tself.intent.close();\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tcontext = null;\n\t\t\t\t},\n\t\t\t\tnext: next,\n\t\t\t\tprev: prev\n\t\t\t},\n\t\t\tcontext: context\n\t\t}, function ( error, playerContext ) {\n\t\t\tdebug.fail('Playing error', error);\n\t\t\tcontext = playerContext;\n\t\t});\n\t},\n\tnext: function ( context ) {\n\t\tif ( this.playlist.length > this.listPosition + 1 ) {\n\t\t\tthis.listPosition++;\n\t\t\tthis.prepare({video: this.playlist[this.listPosition]}, context);\n\t\t}\n\t},\n\tprev: function ( context ) {\n\t\tif ( this.listPosition > 0 ) {\n\t\t\tthis.listPosition--;\n\t\t\tthis.prepare({video: this.playlist[this.listPosition]}, context);\n\t\t}\n\t}\n};\n\nfunction onGetUrl ( e, data ) {\n\tif ( e ) {\n\t\tif ( LOGGING ) {\n\t\t\t//debug.info(e, 'onGetUrl LOGGING');\n\t\t\tapp.data.log['youtube-dl'].push({\n\t\t\t\terror: e,\n\t\t\t\ttryCount: activeContent.urlParseErrorCount,\n\t\t\t\tcontent: activeContent\n\t\t\t});\n\t\t\tapp.sendLog();\n\t\t}\n\t\t//debug.info(e, 'onGetUrl');\n\t\twindow.core.notify({\n\t\t\ttitle: gettext('Video is not available'),\n\t\t\ticon: 'alert',\n\t\t\ttype: 'warning',\n\t\t\ttimeout: 5000\n\t\t});\n\t\tstopExit = false;\n\t\treturn;\n\t}\n\tactiveContent.url = data.url;\n\tif  ( LOGGING ) {\n\t\tconsole.log('proxy: ' + app.params.proxy);\n\t}\n\tplayer.play(data.url, {proxy: app.params.proxy});\n}\n\nmodule.exports = player;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/player.js\n// module id = 50\n// module chunks = 0","'use strict';\n\nvar keys   = require('stb-keys'),\n\n\tList = require('mag-component-list');\n\n\nfunction ListMovies (config) {\n\tvar self = this;\n\n\tthis.model = null;\n\tthis.activePage = 0;\n\tthis.$title = null;\n\tthis.loading = false;\n\n\tconfig.visible = false;\n\n\tconfig.data = [{\n\t\tid:'',\n\t\tvalue: '',\n\t\tpublishedAt: '',\n\t\ticon: '',\n\t\tduration: '',\n\t\ttitle: '',\n\t\tchannelTitle: '',\n\t\tviewCount: '',\n\t\tlocale: {\n\t\t\tpublishedAt: '',\n\t\t\tviewCount: '',\n\t\t\tchannelTitle: ''\n\t\t}\n\t}];\n\tconfig.type = List.prototype.TYPE_HORIZONTAL;\n\n\t// parent init\n\tList.call(self, config);\n\t// this.type === this.TYPE_HORIZONTAL;\n\n\tthis.$node.classList.add('movieList');\n\tthis.$body.classList.add('movieListBody');\n\n\tif ( config.$title !== undefined ) {\n\t\tthis.$title = config.$title;\n\t\tthis.$title.classList.add('movieListHeader');\n\t}\n\n\tif ( config.model !== undefined ) {\n\t\tthis.model = config.model;\n\n\t\tthis.model.addListener('content:changed', function () {\n\t\t\t//debug.log('content:changed');\n\t\t\tself.model.getPage({page: 0, count: 50}, /*).then( */function ( error, data ) {\n\t\t\t\tself.activePage = 0;\n\t\t\t\tself.data = data;\n\t\t\t\tself.viewIndex = null;\n\t\t\t\tself.renderView(0);\n\t\t\t\tself.focusIndex(0);\n\t\t\t\tself.emit('view:ready');\n\t\t\t});\n\t\t\t// function ( error ) {\n\t\t\t// \tself.emit('view:error', error);\n\t\t\t// \t//debug.log(error, 'list.videos reject content:changed getPage');\n\t\t\t// })['catch'](function ( e ) {\n\t\t\t// \t//debug.log(e);\n\t\t\t// });\n\t\t});\n\n\t\t//this.model.getPage({page: 0, count: self.size}).then(function ( data ) {\n\t\t//\t//debug.log(data);\n\t\t//\ttry {\n\t\t//\t\tself.activePage = 0;\n\t\t//\t\tself.$title.innerHTML = self.model.channel.title;\n\t\t//\t\tself.data = data;\n\t\t//\t\tself.viewIndex = null;\n\t\t//\t\tself.renderView(0);\n\t\t//\t\tself.focusIndex(0);\n\t\t//\t\tself.emit('view:ready');\n\t\t//\t} catch ( e ) {\n\t\t//\t\t//debug.log(e, 'list.videos catch getPage');\n\t\t//\t}\n\t\t//}, function ( error ) {\n\t\t//\t//debug.log(error, 'list.videos reject getPage');\n\t\t//});\n\t}\n}\n\n// inheritance\nListMovies.prototype = Object.create(List.prototype);\nListMovies.prototype.constructor = ListMovies;\n\n\n/**\n * Draw the visible window.\n *\n * @param {number} index start position to render\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#move:view\n */\nListMovies.prototype.renderView = function ( index ) {\n\tvar $item, i, itemData, prevIndex, currIndex;\n\n\tif ( DEBUG ) {\n\t\tif ( arguments.length !== 1 ) { throw 'wrong arguments number'; }\n\t\tif ( Number(index) !== index ) { throw 'index must be a number'; }\n\t\tif ( index < 0 ) { throw 'index should be more than zero'; }\n\t\tif ( index >= this.data.length ) { throw 'index should be less than data size'; }\n\t}\n\n\t// has the view window position changed\n\tif ( this.viewIndex !== index ) {\n\t\t// save for emit\n\t\tprevIndex = this.viewIndex;\n\t\t// sync global pointer\n\t\tthis.viewIndex = currIndex = index;\n\n\t\t// rebuild all visible items\n\t\tfor ( i = 0; i < this.size; i++ ) {\n\t\t\t// shortcuts\n\t\t\t$item    = this.$body.children[i];\n\t\t\tif ( this.data.length > index ) {\n\t\t\t\t$item.classList.remove('hidden');\n\t\t\t\titemData = this.data[index];\n\t\t\t\t// real item or stub\n\t\t\t\tif ( itemData !== undefined ) {\n\t\t\t\t\t// correct inner data/index and render\n\t\t\t\t\t$item.data  = itemData;\n\t\t\t\t\t$item.index = index;\n\t\t\t\t\tthis.renderItem($item, itemData);\n\n\t\t\t\t\t// apply CSS\n\t\t\t\t\tif ( itemData.mark ) {\n\t\t\t\t\t\t$item.classList.add('mark');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$item.classList.remove('mark');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// nothing to render\n\t\t\t\t\t$item.data = $item.index = undefined;\n\t\t\t\t\t$item.innerHTML = '';\n\t\t\t\t\t$item.ready = false;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\t$item.classList.add('hidden');\n\t\t\t}\n\n\t\t}\n\n\t\t// there are some listeners\n\t\tif ( this.events['move:view'] !== undefined ) {\n\t\t\t// notify listeners\n\t\t\tthis.emit('move:view', {prevIndex: prevIndex, currIndex: currIndex});\n\t\t}\n\n\t\t// full rebuild\n\t\treturn true;\n\t}\n\n\t// nothing was done\n\treturn false;\n};\n\n\n/**\n * Fill the given item with data.\n *\n * @param {Element} $item item DOM link\n * @param {*} data associated with this item data\n */\nListMovies.prototype.renderItem = function ( $item, data ) {\n\tvar $container, $tileTop, $tileBottom;\n\n\tif ( data.duration.length > 10 ) {\n\t\tdata.duration = data.duration.substring(0, 10);\n\t}\n\n\tif ( $item.ready ) {\n\t\t$item.$videoThumb.style.backgroundImage = 'url(' + data.icon + ')';\n\t\t$item.$videoDuration.innerText = data.duration;\n\t\t$item.$videoTitle.innerText = data.title;\n\t\t$item.$videoAthour.innerText = data.locale.channelTitle;\n\t\t$item.$viewCounter.innerText = data.locale.viewCount;\n\t\t$item.$dateAdded.innerText = data.locale.publishedAt;\n\t} else {\n\t\t$container = document.createElement('div');\n\t\t$container.className = 'container';\n\t\t$item.appendChild($container);\n\n\t\t$tileTop = document.createElement('div');\n\t\t$tileTop.className = 'tileTop';\n\t\t$container.appendChild($tileTop);\n\n\t\t$tileBottom = document.createElement('div');\n\t\t$tileBottom.className = 'tileBottom';\n\t\t$container.appendChild($tileBottom);\n\n\t\t$item.$videoThumb = document.createElement('div');\n\t\t$item.$videoThumb.className = 'thumb';\n\t\t$item.$videoThumb.style.backgroundImage = 'url(' + data.icon + ')';\n\t\t$tileTop.appendChild($item.$videoThumb);\n\n\t\t$item.$videoDuration = document.createElement('div');\n\t\t$item.$videoDuration.className = 'duration';\n\t\t$item.$videoDuration.innerText = data.duration;\n\t\t$tileTop.appendChild($item.$videoDuration);\n\n\t\t$item.$videoTitle = document.createElement('div');\n\t\t$item.$videoTitle.className = 'title';\n\t\t$item.$videoTitle.innerText = data.title;\n\t\t$tileBottom.appendChild($item.$videoTitle);\n\n\t\t$item.$videoAthour = document.createElement('div');\n\t\t$item.$videoAthour.className = 'uploader';\n\t\tif ( data.channelTitle ) {\n\t\t\t$item.$videoAthour.innerText = data.locale.channelTitle;\n\t\t}\n\t\t$tileBottom.appendChild($item.$videoAthour);\n\n\t\t$item.$viewCounter = document.createElement('div');\n\t\t$item.$viewCounter.className = 'viewCount';\n\t\tif ( data.viewCount ) {\n\t\t\t$item.$viewCounter.innerText = data.locale.viewCount;\n\t\t}\n\t\t$tileBottom.appendChild($item.$viewCounter);\n\n\t\t$item.$dateAdded = document.createElement('div');\n\t\t$item.$dateAdded.className = 'uploaded';\n\t\t$item.$dateAdded.innerText = data.locale.publishedAt;\n\t\t$tileBottom.appendChild($item.$dateAdded);\n\n\t\t$item.ready = true;\n\t}\n};\n\n\n/**\n * Current active method to move focus according to pressed keys.\n * Can be redefined to provide custom navigation.\n *\n * @param {Object} event keydown event\n *\n * @type {function}\n */\nListMovies.prototype.defaultEvents.keydown = function ( event ) {\n\t//var self = this;\n\tif ( this.loading || !this.data ) {\n\t\treturn;\n\t}\n\n\tswitch ( event.code ) {\n\t\tcase keys.right:\n\t\t\tif ( this.$focusItem.index < this.data.length - 1 ) {\n\t\t\t\tif ( this.$focusItem.index > 0 ) {\n\t\t\t\t\tthis.activePage++;\n\t\t\t\t\t//if ( this.data.length - this.size === this.activePage ) {\n\t\t\t\t\t//\tself.loading = true;\n\t\t\t\t\t//\tthis.model.getPage({page: this.activePage, count: 1}).then(function ( data ) {\n\t\t\t\t\t//\t\tself.data.push(data[0]);\n\t\t\t\t\t//\t\tself.renderView(self.activePage);\n\t\t\t\t\t//\t\tself.loading = false;\n\t\t\t\t\t//\t}, function ( error ) {\n\t\t\t\t\t//\t\tself.loading = false;\n\t\t\t\t\t//\t})['catch'](function ( e ) {\n\t\t\t\t\t//\t\tself.loading = false;\n\t\t\t\t\t//\t});\n\t\t\t\t\t//} else {\n\t\t\t\t\tthis.renderView(this.activePage);\n\t\t\t\t\t//}\n\t\t\t\t} else {\n\t\t\t\t\tthis.focusIndex(1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tcase keys.left:\n\t\t//case keys.pageUp:\n\t\t//case keys.pageDown:\n\t\t//case keys.home:\n\t\t//case keys.end:\n\t\t\t// cursor move only on arrow keys\n\t\t\tif ( this.activePage > 0 ) {\n\t\t\t\tthis.activePage--;\n\t\t\t\tthis.renderView(this.activePage);\n\t\t\t} else {\n\t\t\t\tthis.move(event.code);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase keys.ok:\n\t\t\t// there are some listeners\n\t\t\tif ( this.events['click:item'] !== undefined ) {\n\t\t\t\t// notify listeners\n\t\t\t\tthis.emit('click:item', {$item: this.$focusItem, event: event});\n\t\t\t}\n\t\t\tbreak;\n\t}\n};\n\nListMovies.prototype.focusIndex = function ( index ) {\n\tList.prototype.focusIndex.call(this, index);\n\n\tthis.activePage = this.viewIndex;\n};\n\n\nmodule.exports = ListMovies;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/list.videos.js\n// module id = 51\n// module chunks = 0","/**\n * Base video data provider base model.\n *\n * @author Igor Zaporozhets <deadbyelpy@gmail.com>\n */\n\n'use strict';\n\nvar Promise = require('../../promise'),\n\tapp = require('mag-app'),\n\n\tapi   = require('./../client.js'),\n\n\tChannelModel     = require('./channel'),\n\tl10n,\n\tl10nAuthor,\n\ttimeDiff;\n\n\n/**\n * Search model implementation.\n *\n * @constructor\n * @extends ChannelModel\n *\n * @param {Object} [config={}] filter parameters\n * @param {Object} [config.channel] channel object with id and name\n * @param {string} [config.searchQuery] search query\n * @param {number} [config.relatedToVideoId] pass this param add video relation option\n *\n * @fires SearchModel#content:changed\n */\nfunction SearchModel ( config ) {\n\tthis.pages = {};\n\n\tthis.searchQuery = '';\n\n\tthis.relatedToVideoId = '';\n\n\tthis.channelId = '';\n\n\tthis.order = '';\n\n\tthis.type = '';\n\n\tChannelModel.call(this);\n\n\tconfig = config || {};\n\n\tthis.filter(config);\n}\n\n// inheritance\nSearchModel.prototype = Object.create(ChannelModel.prototype);\nSearchModel.prototype.constructor = SearchModel;\n\n\nSearchModel.prototype.getPage = function ( params ) {\n\tvar self = this,\n\t\turl;\n\n\tif ( !l10n ) {\n\t\tl10n = require('../../util/l10n');\n\t\ttimeDiff = require('../../util/time.diff');\n\t\tl10nAuthor = gettext('Author');\n\t}\n\n\treturn new Promise(function ( resolve, reject ) {\n\t\tparams.channel = params.channel || self.channel;\n\t\tparams.type = self.type;\n\t\tparams.searchQuery = params.searchQuery || self.searchQuery;\n\t\tparams.page = +params.page || 0;\n\t\tparams.relatedToVideoId = params.relatedToVideoId || self.relatedToVideoId;\n\n\t\turl = 'search?part=id&maxResults=' + (params.count || 6);\n\t\tif ( params.page ) {\n\t\t\tif ( !self.pages[params.page] ) {\n\t\t\t\treject();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\turl += '&pageToken=' + self.pages[params.page];\n\t\t}\n\t\tif ( params.channel && params.channel.id ) {\n\t\t\turl += '&channelId=' + params.channel.id;\n\t\t}\n\t\tif ( self.order ) {\n\t\t\turl += '&order=' + self.order;\n\t\t}\n\t\tif ( params.relatedToVideoId ) {\n\t\t\turl += '&type=video&relatedToVideoId=' + params.relatedToVideoId;\n\t\t} else if ( params.type ) {\n\t\t\turl += '&type=video';\n\t\t}\n\t\tif ( params.searchQuery ) {\n\t\t\turl += '&q=' + encodeURIComponent(params.searchQuery);\n\t\t}\n\t\tif ( app.settings.safeSearch ) {\n\t\t\turl += '&safeSearch=strict';\n\t\t}\n\t\tapi.request('GET', url).then(function ( data ) {\n\t\t\tvar result = [],\n\t\t\t\ttotalSize = 0,\n\t\t\t\tchannels = {},\n\t\t\t\tplaylists = {},\n\t\t\t\tvideoIds = '',\n\t\t\t\tchannelIds = '',\n\t\t\t\tplaylistIds = '',\n\t\t\t\ti;\n\n\t\t\tdata = JSON.parse(data);\n\t\t\tif ( data.nextPageToken ) {\n\t\t\t\tself.pages[params.page + 1] = data.nextPageToken;\n\t\t\t}\n\t\t\tif ( data.prevPageToken ) {\n\t\t\t\tself.pages[params.page - 1] = data.prevPageToken;\n\t\t\t}\n\n\t\t\tdata = data.items;\n\t\t\tif ( data.length === 0 ) {\n\t\t\t\treject('empty');\n\t\t\t} else {\n\t\t\t\ttotalSize = data.length;\n\t\t\t\tfor ( i = 0; i < totalSize; ++i ) {\n\t\t\t\t\tif ( data[i].id.kind === 'youtube#video' ) {\n\t\t\t\t\t\tvideoIds += data[i].id.videoId + ',';\n\t\t\t\t\t} else if ( data[i].id.kind === 'youtube#channel' ) {\n\t\t\t\t\t\tchannelIds += data[i].id.channelId + ',';\n\t\t\t\t\t\tchannels[i] = 1;\n\t\t\t\t\t} else if ( data[i].id.kind === 'youtube#playlist' ) {\n\t\t\t\t\t\tplaylistIds += data[i].id.playlistId + ',';\n\t\t\t\t\t\tplaylists[i] = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n//\t\t\t\t//debug.info([\n//\t\t\t\t\tvideoIds,\n//\t\t\t\t\tchannelIds,\n//\t\t\t\t\tplaylistIds\n//\t\t\t\t], '!!!!!!!!!!!!!!!!!!');\n\t\t\t\tPromise.all([\n\t\t\t\t\tself.getMovies(videoIds.substr(0, videoIds.length - 1)),\n\t\t\t\t\tself.getChannelsInfo(channelIds.substr(0, channelIds.length - 1)),\n\t\t\t\t\tself.getTotalInfoPlaylists({id: playlistIds.substr(0, playlistIds.length - 1), channel: false})\n\t\t\t\t]).then(function ( data ) {\n\t\t\t\t\tvar currentDate = +new Date(),\n\t\t\t\t\t\tvideoIndex = 0,\n\t\t\t\t\t\tchannelIndex = 0,\n\t\t\t\t\t\tplaylistIndex = 0;\n\n\t\t\t\t\tfor ( i = 0; i < totalSize; ++i ) {\n\t\t\t\t\t\tif ( channels[i] && data[1][channelIndex] ) {\n\t\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\t\tid: data[1][channelIndex].id,\n\t\t\t\t\t\t\t\ttitle: data[1][channelIndex].snippet.localized.title,\n\t\t\t\t\t\t\t\ticon: data[1][channelIndex].snippet.thumbnails['high'].url,\n\t\t\t\t\t\t\t\ttype: 'channel',\n\t\t\t\t\t\t\t\tviewCount: data[1][channelIndex].statistics.viewCount,\n\t\t\t\t\t\t\t\tcommentCount: data[1][channelIndex].statistics.commentCount,\n\t\t\t\t\t\t\t\tsubscriberCount: data[1][channelIndex].statistics.subscriberCount,\n\t\t\t\t\t\t\t\thiddenSubscriberCount: data[1][channelIndex].statistics.hiddenSubscriberCount,\n\t\t\t\t\t\t\t\tvideoCount: data[1][channelIndex].statistics.videoCount,\n\t\t\t\t\t\t\t\tlocale: {\n\t\t\t\t\t\t\t\t\tsubscriberCount: data[1][channelIndex].statistics.subscriberCount + ' ' + ngettext('subscriber', 'subscribers', +data[1][channelIndex].statistics.subscriberCount)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t++channelIndex;\n\t\t\t\t\t\t} else if ( playlists[i] && data[2][playlistIndex] ) {\n\t\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\t\tplaylistId: data[2][playlistIndex].id,\n\t\t\t\t\t\t\t\tchannel: {\n\t\t\t\t\t\t\t\t\ttitle: data[2][playlistIndex].snippet.channelTitle,\n\t\t\t\t\t\t\t\t\tid: data[2][playlistIndex].snippet.channelId\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttitle: data[2][playlistIndex].snippet.title,\n\t\t\t\t\t\t\t\ticon: data[2][playlistIndex].snippet.thumbnails['high'].url,\n\t\t\t\t\t\t\t\ttype: 'playlist',\n\t\t\t\t\t\t\t\tchannelTitle: data[2][playlistIndex].snippet.channelTitle,\n\t\t\t\t\t\t\t\tviewCount: ' ',\n\t\t\t\t\t\t\t\tduration: ' ',\n\t\t\t\t\t\t\t\tpublishedAt: data[2][playlistIndex].snippet.publishedAt,\n\t\t\t\t\t\t\t\tlocale: {\n\t\t\t\t\t\t\t\t\tpublishedAt: timeDiff(data[2][playlistIndex].snippet.publishedAt, currentDate),\n\t\t\t\t\t\t\t\t\tviewCount: ' ',\n\t\t\t\t\t\t\t\t\tchannelTitle:data[2][playlistIndex].snippet.channelTitle ? l10nAuthor + ': ' + data[2][playlistIndex].snippet.channelTitle : ' '\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t++playlistIndex;\n\t\t\t\t\t\t} else if ( data[0][videoIndex] ) {\n\t\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\t\t\tid: data[0][videoIndex].id,\n\t\t\t\t\t\t\t\tchannelTitle: data[0][videoIndex].snippet.channelTitle,\n\t\t\t\t\t\t\t\tduration: api.normalizeVideoDuration(data[0][videoIndex].contentDetails.duration),\n\t\t\t\t\t\t\t\trealDuration: data[0][videoIndex].contentDetails.duration,\n\t\t\t\t\t\t\t\tviewCount: data[0][videoIndex].statistics.viewCount,\n\t\t\t\t\t\t\t\tpublishedAt: data[0][videoIndex].snippet.publishedAt,\n\t\t\t\t\t\t\t\tdimension: data[0][videoIndex].contentDetails.dimension,\n\t\t\t\t\t\t\t\tdefinition: data[0][videoIndex].contentDetails.definition,\n\t\t\t\t\t\t\t\ttitle: data[0][videoIndex].snippet.localized.title,\n\t\t\t\t\t\t\t\ticon: data[0][videoIndex].snippet.thumbnails['high'].url,\n\t\t\t\t\t\t\t\tchannelId: data[0][videoIndex].snippet.channelId,\n\t\t\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\t\t\tlocale: {\n\t\t\t\t\t\t\t\t\tpublishedAt: timeDiff(data[0][videoIndex].snippet.publishedAt, currentDate),\n\t\t\t\t\t\t\t\t\tviewCount: ngettext('view', 'views', +data[0][videoIndex].statistics.viewCount) + ' ' + data[0][videoIndex].statistics.viewCount,\n\t\t\t\t\t\t\t\t\tchannelTitle: l10nAuthor + ': ' + data[0][videoIndex].snippet.channelTitle\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t++videoIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresolve(result);\n\t\t\t\t}, function ( e ) {\n\t\t\t\t\t//debug.info(e, 'reject');\n\t\t\t\t})['catch'](function ( e ) {\n\t\t\t\t\t//debug.info(e, 'catch');\n\t\t\t\t});\n\t\t\t}\n\t\t})['catch'](function ( e ) {\n\t\t\t//debug.info(e);\n\t\t});\n\t});\n};\n\n\nSearchModel.prototype.getChannelsInfo = function ( id ) {\n\tif ( !id ) {\n\t\treturn Promise.resolve([]);\n\t}\n\treturn api.request('GET', 'channels?part=snippet,statistics&id=' + id).then(function ( data ) {\n\t\treturn JSON.parse(data).items;\n\t});\n};\n\n\n/**\n *\n * @param {Object} [params={}] filter parameters\n * @param {Object} [params.channel] channel object with id and name\n * @param {string} [params.searchQuery] search query\n * @param {number} [params.relatedToVideoId] pass this param add video relation option\n *\n * @fires SearchModel#content:changed\n *\n * @return {boolean} applied filter\n */\nSearchModel.prototype.filter = function ( params ) {\n\tvar changed = false;\n\n\tif ( params.channel !== undefined ) {\n\t\tthis.init({channel: params.channel});\n\t}\n\tif ( params.searchQuery !== undefined && this.searchQuery !== params.searchQuery ) {\n\t\tchanged = true;\n\t\tthis.searchQuery = params.searchQuery;\n\t}\n\tif ( params.relatedToVideoId !== undefined && this.relatedToVideoId !== params.relatedToVideoId ) {\n\t\tchanged = true;\n\t\tthis.relatedToVideoId = params.relatedToVideoId;\n\t}\n\tif ( params.order !== undefined && this.order !== params.order ) {\n\t\tchanged = true;\n\t\tthis.order = params.order;\n\t}\n\tif ( params.type !== undefined && this.type !== params.type ) {\n\t\tchanged = true;\n\t\tthis.type = params.type;\n\t}\n\tif ( changed ) {\n\t\tthis.pages = {};\n\t\tthis.emit('content:changed', params);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n// public export\nmodule.exports = SearchModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/api/model/search.js\n// module id = 52\n// module chunks = 0","/**\n * Base video data provider base model.\n *\n * @author Igor Zaporozhets <deadbyelpy@gmail.com>\n */\n\n'use strict';\n\nvar Promise = require('../../promise'),\n\n\tPlaylistModel = require('./playlist'),\n\n\tapi   = require('./../client.js'),\n\n\ttimeDiff,\n\tl10nAuthor;\n\n\nfunction cacheKey ( params ) {\n\tif ( params && params.channel ) {\n\t\treturn 'cid:' + params.channel.id + ';p:' + params.page;\n\t}\n\treturn 'CHANNEL';\n}\n\n\n/**\n *\n * @constructor\n *\n * @param {Object} config init config\n */\nfunction ChannelModel ( config ) {\n\tthis.pages = {};\n\n\tthis.channel = null;\n\n\tPlaylistModel.call(this);\n\n\tconfig = config || {};\n\n\tif ( config.events !== undefined ) {\n\t\tthis.addListeners(config.events);\n\t}\n\n\tthis.init(config);\n}\n\n// inheritance\nChannelModel.prototype = Object.create(PlaylistModel.prototype);\nChannelModel.prototype.constructor = ChannelModel;\n\nChannelModel.prototype.getPage = function ( params ) {\n\tvar self = this;\n\n\tif ( !l10nAuthor ) {\n\t\ttimeDiff = require('../../util/time.diff');\n\t\tl10nAuthor = gettext('Author');\n\t}\n\tparams.channel = params.channel || this.channel;\n\tparams.count = params.count || 6;\n\tparams.page = +params.page || 0;\n\n\treturn new Promise(function ( resolve, reject ) {\n\t\t//var fromCache = cache.get(cacheKey(params));\n\n\t\t//if ( fromCache ) {\n\t\t//\tresolve(fromCache);\n\t\t//} else {\n\t\tif ( !params.channel ) {\n\t\t\treject(params);\n\t\t\treturn;\n\t\t}\n\t\tself.getPlaylists({count: 1, channel: params.channel, page: params.page})\n\t\t.then(function ( data ) {\n\t\t\tparams.playlist = data[0];\n\t\t\tself.getPlayListItems(params).then(resolve, reject);\n\t\t});\n\t\t//}\n\t});\n};\n\n\n/**\n *\n * @param params\n * @return {Promise} promised action\n */\nChannelModel.prototype.getPlaylists = function ( params ) {\n\tvar self = this,\n\t\turl = 'playlists?part=id';\n\n\tparams.channel = params.channel || this.channel;\n\tif ( !params.channel ) {\n\t\treturn;\n\t} else if ( params.page ) {\n\t\tif ( !self.pages[params.page] ) {\n\t\t\treturn Promise.reject('no page');\n\t\t}\n\t\turl += '&pageToken=' + self.pages[params.page];\n\t}\n\turl += '&channelId=' + params.channel.id + '&maxResults=' + params.count;\n\n\treturn api.request('GET', url).then(function ( data ) {\n\t\tdata = JSON.parse(data);\n\t\tif ( data.nextPageToken ) {\n\t\t\tself.pages[params.page + 1] = data.nextPageToken;\n\t\t}\n\t\tif ( data.prevPageToken ) {\n\t\t\tself.pages[params.page - 1] = data.prevPageToken;\n\t\t}\n\t\treturn data.items;\n\t});\n};\n\n\nChannelModel.prototype.getTotalInfoPlaylists = function ( params ) {\n\tvar self = this,\n\t\turl = 'playlists?part=snippet';\n\n\tparams.channel = params.channel === undefined ? this.channel : params.channel;\n\n\tif ( params.page ) {\n\t\tif ( !self.pages[params.page] ) {\n\t\t\treturn Promise.reject('no page');\n\t\t}\n\t\turl += '&pageToken=' + self.pages[params.page];\n\t}\n\tif ( params.channel ) {\n\t\turl += '&channelId=' + params.channel.id;\n\t} else if ( params.id !== undefined && params.id.length > 0 ) {\n\t\turl += '&id=' + params.id;\n\t} else {\n\t\treturn Promise.resolve([]);\n\t}\n\tif ( params.count !== undefined ) {\n\t\turl += '&maxResults=' + params.count;\n\t}\n\n\treturn api.request('GET', url).then(function ( data ) {\n\t\tdata = JSON.parse(data);\n\t\tif ( data.nextPageToken ) {\n\t\t\tself.pages[params.page + 1] = data.nextPageToken;\n\t\t}\n\t\tif ( data.prevPageToken ) {\n\t\t\tself.pages[params.page - 1] = data.prevPageToken;\n\t\t}\n\t\t//debug.info(self.pages, 'PAGES');\n\t\treturn data.items;\n\t});\n};\n\n\nChannelModel.prototype.getChannelBackground = function ( channel ) {\n\tchannel = channel || this.channel;\n\n\treturn api.request('GET', 'channels?part=brandingSettings&id=' + channel.id).then(function ( data ) {\n\t\tdata = JSON.parse(data);\n\t\treturn data.items[0].brandingSettings.image.bannerTvImageUrl;\n\t});\n};\n\n\n//ChannelModel.prototype.countPlaylistItems = function ( playlistId ) {\n//\treturn api.request('GET', 'playlistItems?part=id&playlistId=' + playlistId).then(function ( data ) {\n//\t\tdata = JSON.parse(data);\n//\t\treturn data.pageInfo.totalResults;\n//\t});\n//};\n\n\n//ChannelModel.prototype.getPlayListItems = function ( params ) {\n//\tvar self = this,\n//\t\tvideos = [],\n//\t\tmap = {},\n//\t\tids = '';\n//\n//\treturn api.request('GET', 'playlistItems?part=snippet&playlistId=' + params.playlistId + '&maxResults=30')\n//\t\t.then(function (data) {\n//\t\t\ttry {\n//\t\t\t\tdata = JSON.parse(data);\n//\t\t\t\tdata.items.forEach(function ( item ) {\n//\t\t\t\t\tids += item.snippet.resourceId.videoId + ',';\n//\t\t\t\t\tmap[item.snippet.resourceId.videoId] = videos.length;\n//\t\t\t\t\tvideos.push({\n//\t\t\t\t\t\tvalue: 1,\n//\t\t\t\t\t\tid: item.snippet.resourceId.videoId,\n//\t\t\t\t\t\tchannelTitle: params.channel.title,\n//\t\t\t\t\t\tduration: '',\n//\t\t\t\t\t\tviewCount: 0,\n//\t\t\t\t\t\tpublishedAt: item.snippet.publishedAt,\n//\t\t\t\t\t\tdimension: '',\n//\t\t\t\t\t\tdefinition: '',\n//\t\t\t\t\t\ttitle: '',\n//\t\t\t\t\t\ticon: item.snippet.thumbnails['high'].url,\n//\t\t\t\t\t\tchannelId: item.snippet.channelId,\n//\t\t\t\t\t\tlocale: {\n//\t\t\t\t\t\t\tpublishedAt: '',\n//\t\t\t\t\t\t\tviewCount: '',\n//\t\t\t\t\t\t\tchannelTitle: l10nAuthor + ': ' + params.channel.title\n//\t\t\t\t\t\t}\n//\t\t\t\t\t});\n//\t\t\t\t});\n//\t\t\t} catch ( e ) {\n//\t\t\t\t//debug.log(e);\n//\t\t\t}\n//\t\t\treturn self.getMovies(ids.substr(0, ids.length - 1)).then(function ( response ) {\n//\t\t\t\tvar currentDate = +new Date(),\n//\t\t\t\t\tvideo, size, i;\n//\n//\t\t\t\tsize = response.length;\n//\t\t\t\tfor ( i = 0; i < size; ++i ) {\n//\t\t\t\t\tvideo = videos[map[response[i].id]];\n//\t\t\t\t\tvideo.viewCount = response[i].statistics.viewCount;\n//\t\t\t\t\tvideo.dimension = response[i].contentDetails.dimension;\n//\t\t\t\t\tvideo.definition = response[i].contentDetails.definition;\n//\t\t\t\t\tvideo.title = response[i].snippet.localized.title;\n//\t\t\t\t\tvideo.duration = api.normalizeVideoDuration(response[i].contentDetails.duration);\n//\t\t\t\t\tvideo.locale.publishedAt = timeDiff(video.publishedAt, currentDate);\n//\t\t\t\t\tvideo.locale.viewCount = gettext('views', {smart_count: video.viewCount}) + ' ' + video.viewCount;\n//\t\t\t\t}\n//\t\t\t\tcache.set(cacheKey(params), videos, 60 * 1000 * 5);\n//\t\t\t\treturn videos;\n//\t\t\t});\n//\t\t});\n//};\n//\n//ChannelModel.prototype.getMovies = function ( id ) {\n//\tif ( DEBUG ) {\n//\t\tif ( !id ) { throw 'no id field'; }\n//\t\tif ( id.length === 0 ) { throw 'empty id field'; }\n//\t}\n//\treturn api.request('GET', 'videos?part=statistics,contentDetails,snippet&id=' + id).then(function ( data ) {\n//\t\treturn JSON.parse(data).items;\n//\t});\n//};\n\n\nChannelModel.prototype.init = function ( params ) {\n\tvar changed = false;\n\n\tif ( params.channel !== undefined ) {\n\t\tif ( !this.channel ) {\n\t\t\tchanged = true;\n\t\t\tthis.channel = params.channel;\n\t\t} else if ( this.channel && this.channel.id !== params.channel.id ) {\n\t\t\tchanged = true;\n\t\t\tthis.channel = params.channel;\n\t\t}\n\t}\n\tif ( params.mode && this.mode !== params.mode ) {\n\t\tthis.mode = params.mode;\n\t}\n\n\tif ( changed ) {\n\t\tthis.pages = {};\n\t\tthis.emit('content:changed', params);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n// public export\nmodule.exports = ChannelModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/api/model/channel.js\n// module id = 53\n// module chunks = 0","/**\n * Base video data provider base model.\n *\n * @author Igor Zaporozhets <deadbyelpy@gmail.com>\n */\n\n'use strict';\n\nvar Promise = require('../../promise'),\n\n\tEmitter = require('cjs-emitter'),\n\n\tapi   = require('./../client.js'),\n\n\tl10n = false,\n\ttimeDiff,\n\tl10nAuthor,\n\n\tcache          = require('../../util/cache');\n\n\nfunction cacheKey ( params ) {\n\tif ( params && params.playlist ) {\n\t\treturn 'pid:' + params.playlist.id + ';p:' + params.page;\n\t}\n\treturn 'PLAYLIST';\n}\n\n\n/**\n *\n * @constructor\n *\n * @param {Object} config init config\n */\nfunction PlaylistModel ( config ) {\n\tthis.pages = {};\n\n\tthis.playlist = null;\n\n\tEmitter.call(this);\n\n\tconfig = config || {};\n\n\tif ( config.events !== undefined ) {\n\t\tthis.addListeners(config.events);\n\t}\n\n\tthis.init(config);\n}\n\n// inheritance\nPlaylistModel.prototype = Object.create(Emitter.prototype);\nPlaylistModel.prototype.constructor = PlaylistModel;\n\nPlaylistModel.prototype.getPage = function ( params ) {\n\tvar self = this,\n\t\tfromCache;\n\n\tparams.playlist = params.playlist || this.playlist;\n\tparams.page = +params.page || 0;\n\tparams.count = params.count || 20;\n\n\treturn new Promise(function ( resolve, reject ) {\n\t\tfromCache = cache.get(cacheKey(params));\n\t\tif ( fromCache ) {\n\t\t\tresolve(fromCache);\n\t\t} else {\n\t\t\tif ( !params.playlist.id ) {\n\t\t\t\treject(params);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.getPlayListItems(params).then(resolve, reject);\n\t\t}\n\t});\n};\n\n\n//PlaylistModel.prototype.countPlaylistItems = function ( playlistId ) {\n//\treturn api.request('GET', 'playlistItems?part=id&playlistId=' + playlistId).then(function ( data ) {\n//\t\tdata = JSON.parse(data);\n//\t\treturn data.pageInfo.totalResults;\n//\t});\n//};\n\n\nPlaylistModel.prototype.getPlayListItems = function ( params ) {\n\tvar self = this,\n\t\tvideos = [],\n\t\tids = '',\n\t\turl = 'playlistItems?part=snippet&playlistId=' + params.playlist.id + '&maxResults=' + (params.count || 30);\n\n\tparams.page = +params.page || 0;\n\n\tif ( !l10n ) {\n\t\tl10n = require('../../util/l10n');\n\t\ttimeDiff = require('../../util/time.diff');\n\t\tl10nAuthor = gettext('Author');\n\t}\n\n\tif ( params.page ) {\n\t\tif ( !self.pages[params.page] ) {\n\t\t\treturn Promise.reject();\n\t\t}\n\t\turl += '&pageToken=' + self.pages[params.page];\n\t}\n\n\treturn api.request('GET', url)\n\t\t.then(function (data) {\n\t\t\ttry {\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t\tif ( data.nextPageToken ) {\n\t\t\t\t\tself.pages[params.page + 1] = data.nextPageToken;\n\t\t\t\t}\n\t\t\t\tif ( data.prevPageToken ) {\n\t\t\t\t\tself.pages[params.page - 1] = data.prevPageToken;\n\t\t\t\t}\n\t\t\t\tdata.items.forEach(function ( item ) {\n\t\t\t\t\tids += item.snippet.resourceId.videoId + ',';\n\t\t\t\t});\n\t\t\t} catch ( e ) {\n\t\t\t\t//debug.log(e);\n\t\t\t}\n\t\t\t//debug.info(data, 'QQQQQQQQQQQQQQQ');\n\t\t\treturn self.getMovies(ids.substr(0, ids.length - 1)).then(function ( data ) {\n\t\t\t\tvar currentDate = +new Date(),\n\t\t\t\t\tsize, i;\n\n\t\t\t\tsize = data.length;\n\t\t\t\tfor ( i = 0; i < size; ++i ) {\n\t\t\t\t\tvideos.push({\n\t\t\t\t\t\tvalue: 1,\n\t\t\t\t\t\tid: data[i].id,\n\t\t\t\t\t\tchannelTitle: data[i].snippet.channelTitle,\n\t\t\t\t\t\tduration: api.normalizeVideoDuration(data[i].contentDetails.duration),\n\t\t\t\t\t\trealDuration: data[i].contentDetails.duration,\n\t\t\t\t\t\tviewCount: data[i].statistics.viewCount,\n\t\t\t\t\t\tpublishedAt: data[i].snippet.publishedAt,\n\t\t\t\t\t\tdimension: data[i].contentDetails.dimension,\n\t\t\t\t\t\tdefinition: data[i].contentDetails.definition,\n\t\t\t\t\t\ttitle: data[i].snippet.localized.title,\n\t\t\t\t\t\ticon: data[i].snippet.thumbnails['high'].url,\n\t\t\t\t\t\tchannelId: data[i].snippet.channelId,\n\t\t\t\t\t\ttype: 'video',\n\t\t\t\t\t\tlocale: {\n\t\t\t\t\t\t\tpublishedAt: timeDiff(data[i].snippet.publishedAt, currentDate),\n\t\t\t\t\t\t\tviewCount: data[i].statistics.viewCount + ' ' + ngettext('view', 'views', +data[i].statistics.viewCount),\n\t\t\t\t\t\t\tchannelTitle: l10nAuthor + ': ' + data[i].snippet.channelTitle\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcache.set(cacheKey(params), videos, 60 * 1000 * 5);\n\t\t\t\treturn videos;\n\t\t\t});\n\t\t});\n};\n\nPlaylistModel.prototype.getMovies = function ( id ) {\n\tvar result = [],\n\t\tvideo, ids, i, size;\n\n//\tif ( DEBUG ) {\n//\t\tif ( !id ) { throw 'no id field ' + id; }\n//\t\tif ( id.length === 0 ) { throw 'empty id field'; }\n//\t}\n\tids = id.split(',');\n\tfor ( i = 0, size = ids.length; i < size; ++i ) {\n\t\tif ( video = cache.get('vid:' + ids[i]) ) {\n\t\t\tresult.push(video);\n\t\t}\n\t}\n\n\treturn api.request('GET', 'videos?part=statistics,contentDetails,snippet&id=' + id).then(function ( data ) {\n\t\tdata = JSON.parse(data).items;\n\n\t\tfor ( i = 0, size = data.length; i < size; ++i ) {\n\t\t\tcache.set('vid:' + data[i].id, data[i], 1000 * 60);\n\t\t}\n\t\treturn data;\n\t});\n};\n\n\nPlaylistModel.prototype.init = function ( params ) {\n\tif ( params.playlist !== undefined ) {\n\t\tif ( !this.playlist ) {\n\t\t\tthis.playlist = params.playlist;\n\t\t} else if ( this.playlist && this.playlist.id !== params.playlist.id ) {\n\t\t\tthis.playlist = params.playlist;\n\t\t}\n\t\tthis.pages = {};\n\t\tthis.emit('content:changed', params);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n// public export\nmodule.exports = PlaylistModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/api/model/playlist.js\n// module id = 54\n// module chunks = 0","'use strict';\n\n\n///**\n// * Cache class\n// * @constructor\n// */\n//function Cache () {\n//\tthis.store = {};\n//\tthis.size = 0;\n//}\n//\n///**\n// * Insert or overwrite data\n// *\n// * @param {string} key\n// * @param {mixed} value\n// * @param {number} ttl   Time to live in milliseconds (optional)\n// */\n//Cache.prototype.set = function ( key, value, ttl ) {\n//\tvar self = this, record, oldRecord;\n//\n//\tif ( DEBUG ) {\n//\t\tif ( typeof key === 'undefined' ) throw 'required argument key is undefined';\n//\t\tif ( typeof value === 'undefined' ) throw 'required argument value is undefined';\n//\t\tdebug.log('set ' + key + ' to cache');\n//\t}\n//\n//\t// Clear timeout on existing record\n//\toldRecord = this.store[key] ? this.store[key] : undefined;\n//\tif ( oldRecord && oldRecord.timeout ) {\n//\t\tclearTimeout(oldRecord.timeout);\n//\t}\n//\n//\t// Set value + timeout on new record\n//\trecord = {value: value, timeout: -1};\n//\tif ( typeof ttl === 'number' ) {\n//\t\trecord.timeout = setTimeout(function () {\n//\t\t\tself.remove(key);\n//\t\t}, ttl);\n//\t}\n//\tthis.store[key] = record;\n//\t++this.size;\n//};\n//\n//\n///**\n// * Get cached data\n// *\n// * @param {string} key\n// * @param {function} callback  Return value in callback if records exists locally or on external resource (optional)\n// * @return {mixed} value Only returned if callback is undefined\n// */\n//Cache.prototype.get = function ( key, callback ) {\n//\tif ( DEBUG ) {\n//\t\tif ( typeof key === 'undefined' ) throw 'Required argument key is undefined';\n//\t}\n//\tif ( this.store[key] ) {\n//\t\tif ( DEBUG ) {\n//\t\t\tdebug.log('key ' + key + ' is in cache');\n//\t\t}\n//\t\tif ( typeof callback === 'function' ) {\n//\t\t\tcallback(this.store[key].value);\n//\t\t} else {\n//\t\t\treturn this.store[key].value;\n//\t\t}\n//\t} else {\n//\t\tif ( DEBUG ) {\n//\t\t\tdebug.log('key ' + key + ' is not in cache');\n//\t\t}\n//\t\treturn false;\n//\t}\n//};\n//\n//\n///**\n// * Delete cached data\n// *\n// * @param {string} key\n// * @return {boolean} Returns true if record existed\n// */\n//Cache.prototype.remove = function ( key ) {\n//\tif ( DEBUG ) {\n//\t\tif ( typeof key === 'undefined' ) throw 'Required argument key is undefined';\n//\t\tdebug.log('remove ' + key + ' from cache');\n//\t}\n//\n//\t--this.size;\n//\tthis.store[key] = null;\n//};\n//\n//\n///**\n// * Clear cached data\n// *\n// * @return {number} Returns number of cleared records\n// */\n//Cache.prototype.clear = function () {\n//\tvar size = this.size;\n//\tthis.store = {};\n//\treturn size;\n//};\n//\n//\n//if ( DEBUG ) {\n//\t/**\n//\t * Retrieve internal store\n//\t *\n//\t * @return {object}\n//\t */\n//\tCache.prototype.debug = function () {\n//\t\treturn this.store;\n//\t};\n//}\n\n\n/**\n* Cache singleton.\n*\n* @constructor\n*/\nvar cache = {\n\tstore: {},\n\tsize: 0,\n\n\t/**\n\t * Insert or overwrite data\n\t *\n\t * @param {string} key item key\n\t * @param {*} value item value\n\t * @param {number} ttl   Time to live in milliseconds (optional)\n\t */\n\tset: function ( key, value, ttl ) {\n\t\tvar self = this, record, oldRecord;\n\n\t\tif ( DEBUG ) {\n\t\t\tif ( typeof key === 'undefined' ) { throw 'required argument key is undefined'; }\n\t\t\tif ( typeof value === 'undefined' ) { throw 'required argument value is undefined'; }\n\t\t}\n\n\t\t// Clear timeout on existing record\n\t\toldRecord = this.store[key] ? this.store[key] : undefined;\n\t\tif ( oldRecord && oldRecord.timeout ) {\n\t\t\tclearTimeout(oldRecord.timeout);\n\t\t}\n\n\t\t// Set value + timeout on new record\n\t\trecord = {value: value, timeout: -1};\n\t\tif ( typeof ttl === 'number' ) {\n\t\t\trecord.timeout = setTimeout(function () {\n\t\t\t\tself.remove(key);\n\t\t\t}, ttl);\n\t\t}\n\t\tthis.store[key] = record;\n\t\t++this.size;\n\t},\n\n\t/**\n\t * Get cached data\n\t *\n\t * @param {string} key item key\n\t * @param {function=null} callback  Return value in callback if records exists locally or on external resource (optional)\n\t *\n\t * @return {*} value Only returned if callback is undefined\n\t */\n\tget: function ( key, callback ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( typeof key === 'undefined' ) { throw 'Required argument key is undefined'; }\n\t\t}\n\t\tif ( this.store[key] ) {\n\t\t\tif ( DEBUG ) {\n\t\t\t\t//debug.log('key ' + key + ' is in cache');\n\t\t\t}\n\t\t\tif ( typeof callback === 'function' ) {\n\t\t\t\tcallback(this.store[key].value);\n\t\t\t} else {\n\t\t\t\treturn this.store[key].value;\n\t\t\t}\n\t\t} else {\n\t\t\tif ( DEBUG ) {\n\t\t\t\t//debug.log('key ' + key + ' is not in cache');\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t * Delete cached data\n\t *\n\t * @param {string} key item key\n\t * @return {boolean} Returns true if record existed\n\t */\n\tremove: function ( key ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( typeof key === 'undefined' ) { throw 'Required argument key is undefined'; }\n\t\t\t//debug.log('remove ' + key + ' from cache');\n\t\t}\n\n\t\t--this.size;\n\t\tthis.store[key] = null;\n\t},\n\n\t/**\n\t * Clear cached data\n\t *\n\t * @return {number} Returns number of cleared records\n\t */\n\tclear: function () {\n\t\tvar size = this.size;\n\n\t\tthis.store = {};\n\t\treturn size;\n\t}\n};\n\nif ( DEBUG ) {\n\t/**\n\t * Retrieve internal store\n\t *\n\t * @return {object} all cached data\n\t */\n\tcache.debug = function () {\n\t\treturn this.store;\n\t};\n}\n\nmodule.exports = cache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/util/cache.js\n// module id = 55\n// module chunks = 0","'use strict';\n\nvar lang = require('../../../../config/lang'),\n\tconfig = require('../../../../config/app');\n\nmodule.exports = {\n\tlanguageIndex: 0,\n\tnextLang: function ( language ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( typeof language !== 'number' ) { throw 'language is not a number'; }\n\t\t\tif ( typeof language < 0 ) { throw 'language is wrong value'; }\n\t\t}\n\t\tif ( language === lang.languages.length - 1 ) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn ++language;\n\t},\n\tsetLang: function ( language ) {\n\t\tvar self = this;\n\n\t\trequire('spa-gettext').load({name: language}, function ( error ) {\n\t\t\tif ( error ) {\n\t\t\t\tdebug.inspect(error, 'gettext load error');\n\t\t\t\tself.languageIndex = -1;\n\t\t\t} else {\n\t\t\t\tself.languageIndex = lang.languages.indexOf(language);\n\t\t\t}\n\t\t\tif ( self.languageIndex === -1 ) {\n\t\t\t\tself.languageIndex = lang.languages.indexOf(config.defaultSettings.language);\n\t\t\t}\n\t\t});\n\t}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/util/l10n.js\n// module id = 56\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter'),\n    Gettext = require('cjs-gettext'),\n    loader  = new Emitter();\n\n\n/**\n * Wrap the given data with gettext instance\n * and export methods to the global scope.\n *\n * @param {Object} [data] localization data\n *\n * @return {Gettext} gettext instance\n */\nfunction prepare ( data ) {\n    var gettext = new Gettext(data);\n\n    // make it global\n    window.gettext  = window._ = gettext.gettext;\n    window.pgettext = gettext.pgettext;\n    window.ngettext = gettext.ngettext;\n\n    return gettext;\n}\n\n\n/**\n * Main application language\n */\nloader.defaultLanguage = 'en';\n\n\n/**\n * Simple gettext implementation.\n *\n * @param {Object} config options\n * @param {string} [config.path=lang] relative path to project root\n * @param {string} config.name language name\n * @param {string} [config.ext=json] language file extension\n * @param {function} callback hook on ready\n *\n * @return {boolean} flag is ajax request was made\n */\nloader.load = function ( config, callback ) {\n    var xhr;\n\n    if ( DEVELOP ) {\n        if ( !config.name || typeof config.name !== 'string' ) {\n            throw new Error(__filename + ': config.name must be a nonempty string');\n        }\n        if ( typeof callback !== 'function' ) {\n            throw new Error(__filename + ': wrong callback type');\n        }\n    }\n\n    // defaults\n    config.ext  = config.ext  || 'json';\n    config.path = config.path || 'lang';\n\n    // is it necessary to request a localization file?\n    if ( config.name === loader.defaultLanguage ) {\n        // no\n        prepare();\n        callback(null);\n\n        return false;\n    }\n\n    // yes\n    xhr = new XMLHttpRequest();\n\n    xhr.onload = function () {\n        var json;\n\n        try {\n            json = JSON.parse(xhr.responseText);\n\n            prepare(json);\n            callback(null);\n\n            // there are some listeners\n            if ( loader.events['load'] ) {\n                // notify listeners\n                loader.emit('load');\n            }\n        } catch ( error ) {\n            xhr.onerror(error);\n        }\n    };\n\n    xhr.ontimeout = xhr.onerror = function ( error ) {\n        prepare();\n        callback(error);\n\n        // there are some listeners\n        if ( loader.events['error'] ) {\n            // notify listeners\n            loader.emit('error', error);\n        }\n    };\n\n    xhr.open('GET', config.path + '/' + config.name + '.' + config.ext, true);\n    xhr.send(null);\n\n    return true;\n};\n\n\n// public\nmodule.exports = loader;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-gettext/index.js\n// module id = 57\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Translations handler.\n *\n * @constructor\n *\n * @param {Object} config init parameters\n */\nfunction Gettext ( config ) {\n    var data, meta;\n\n    // sanitize\n    config   = config || {};\n    data     = config.data || {};\n    data[''] = data[''] || {};\n\n    // shortcut\n    meta = config.meta;\n\n    /**\n     * Display the native language translation of a textual message.\n     *\n     * @param {string} msgId textual message\n     *\n     * @return {string} translated text\n     */\n    this.gettext = function ( msgId ) {\n        return data[''][msgId] || msgId;\n    };\n\n\n    /**\n     * The \"p\" in \"pgettext\" stands for \"particular\": fetches a particular translation of the textual message.\n     *\n     * @param {string} context message context\n     * @param {string} msgId textual message\n     *\n     * @return {string} translated text\n     */\n    this.pgettext = function ( context, msgId ) {\n        return data[context] && data[context][msgId] || msgId;\n    };\n\n\n    /**\n     * Display the native language translation of a textual message whose grammatical form depends on a number.\n     *\n     * @param {string} msgId textual message in a singular form\n     * @param {string} plural textual message in a plural form\n     * @param {number} value message number\n     *\n     * @return {string} translated text\n     */\n    this.ngettext = function ( msgId, plural, value ) {\n        /* eslint no-unused-vars: 0 */\n        /* eslint no-eval: 0 */\n        /* eslint id-length: 0 */\n        var n, evalResult;\n\n        if ( DEVELOP ) {\n            if ( Number(value) !== value ) {\n                throw new Error(__filename + ': value must be a number');\n            }\n        }\n\n        if ( data && meta && data[''][msgId] ) {\n            evalResult = eval('n = ' + value + '; ' + meta.plural);\n\n            if ( typeof evalResult === 'boolean' ) {\n                evalResult = +evalResult;\n            }\n\n            // translation\n            return data[''][msgId][evalResult];\n        }\n\n        // english\n        return value === 1 ? msgId : plural;\n    };\n}\n\n\n// correct constructor name\nGettext.prototype.constructor = Gettext;\n\n\n// public\nmodule.exports = Gettext;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cjs-gettext/index.js\n// module id = 58\n// module chunks = 0","/**\n * Convert time in seconds for better human readability.\n *\n */\n\n'use strict';\n\nmodule.exports = function ( dateStr, to  ) {\n\tvar date, parts, number;\n\n\tif ( !dateStr ) {\n\t\treturn dateStr;\n\t}\n\tparts = dateStr.match(/(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)T(\\d\\d):(\\d\\d):(\\d\\d).(\\d\\d\\d)Z/);\n\tparts.shift(); // remove full string\n\tparts.pop(); // remove 000 in the end\n\tdate = new Date(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]);\n\tdate.setTime(to - date.getTime());\n\tdateStr = date.getTime();\n\tif ( date.getFullYear() > 1970 ) {\n\t\tnumber = date.getFullYear() - 1970;\n\t\tdateStr = number + ' ' + ngettext('year', 'years', +number) + ' ' + gettext('ago');\n\t} else if ( date.getMonth() > 0 ) {\n\t\tnumber = date.getMonth() + 1;\n\t\tdateStr = number + ' ' + ngettext('month', 'months', +number) + ' ' + gettext('ago');\n\t} else if ( date.getDate() > 1 ) {\n\t\tnumber = date.getDate();\n\t\tdateStr = number + ' ' + ngettext('day', 'days', +number) + ' ' + gettext('ago');\n\t} else if ( date.getHours() > 0 )  {\n\t\tnumber = date.getHours();\n\t\tdateStr = number + ' ' + ngettext('hour', 'hours', +number) + ' ' + gettext('ago');\n\t} else if ( date.getMinutes() > 0 ) {\n\t\tnumber = date.getMinutes();\n\t\tdateStr = number + ' ' + ngettext('minute', 'minutes', +number) + ' ' + gettext('ago');\n\t} else {\n\t\tnumber = date.getSeconds();\n\t\tdateStr = number + ' ' + ngettext('second', 'seconds', +number) + ' ' + gettext('ago');\n\t}\n\treturn dateStr;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/util/time.diff.js\n// module id = 59\n// module chunks = 0","/**\n * Base video data provider base model.\n *\n * @author Igor Zaporozhets <deadbyelpy@gmail.com>\n */\n\n'use strict';\n\nvar Promise = require('../../promise'),\n\n\tEmitter = require('cjs-emitter'),\n\n\tapi   = require('./../client.js'),\n\n\tcache = require('../../util/cache'),\n\n\tprovider = new Emitter();\n\n\nprovider.activeCategory = {};\nprovider.pages = {};\nprovider.ownChannel = null;\n\n/**\n* Try to get data from cache.\n*\n* @param {object} params data range info\n* @param {number} params.category data range offset\n* @param {number} params.page data range count\n*\n* @return {string} cache key\n*/\nprovider.cacheKey = function ( params ) {\n\treturn 'c:' + params.category.id + ';p:' + params.page;\n};\n\n\nprovider.getPage = function ( params ) {\n\tvar self = this,\n\t\tfromCache, url;\n\n\tparams.page = +params.page || 0;\n\tparams.category = params.category || this.activeCategory;\n\n\treturn new Promise(function ( resolve, reject ) {\n\t\tfromCache = cache.get(self.cacheKey(params));\n\t\tif ( fromCache ) {\n\t\t\tresolve(fromCache);\n\t\t} else {\n\t\t\turl = 'channels?part=snippet&categoryId=' + params.category.id + '&maxResults=' + params.count;\n\n\t\t\tif ( params.page ) {\n\t\t\t\t////debug.log('getPage ' + params.page);\n\t\t\t\tif ( self.pages[params.page] ) {\n\t\t\t\t\turl += '&pageToken=' + self.pages[params.page];\n\t\t\t\t} else if ( self.activeCategory.totalResults === params.page) {\n\t\t\t\t\treject('overflow');\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\t//debug.log('no page ' + params.page);\n\t\t\t\t\treject('no page');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tapi.request('GET', url).then(function ( data ) {\n\t\t\t\tvar channels = [],\n\t\t\t\t\ti, size;\n\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t\tif ( data.pageInfo.totalResults ) {\n\t\t\t\t\tself.activeCategory.totalResults = data.pageInfo.totalResults;\n\t\t\t\t}\n\t\t\t\tif ( data.nextPageToken ) {\n\t\t\t\t\tself.pages[params.page + 1] = data.nextPageToken;\n\t\t\t\t}\n\t\t\t\tif ( data.prevPageToken ) {\n\t\t\t\t\tself.pages[params.page - 1] = data.prevPageToken;\n\t\t\t\t}\n\n\t\t\t\tdata = data.items;\n\t\t\t\tsize = data.length;\n\t\t\t\tfor ( i = 0; i < size; ++i ) {\n\t\t\t\t\tchannels.push({\n\t\t\t\t\t\tvalue: data[i].id,\n\t\t\t\t\t\tid: data[i].id,\n\t\t\t\t\t\ttitle: data[i].snippet.localized.title,\n\t\t\t\t\t\ticon: data[i].snippet.thumbnails['high'].url\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcache.set(self.cacheKey(params), channels, 5 * 60 * 1000);\n\t\t\t\tresolve(channels);\n\t\t\t})['catch'](function ( e ) {\n\t\t\t\t//debug.info(e);\n\t\t\t});\n\t\t}\n\t});\n};\n\n\nprovider.getInfo = function ( id ) {\n\treturn new Promise(function ( resolve, reject ) {\n\t\tapi.request('GET', 'channels?part=snippet&id=' + id).then(function ( data ) {\n\t\t\tresolve(JSON.parse(data).items);\n\t\t}, reject);\n\t});\n};\n\n\nprovider.getMine = function () {\n\treturn new Promise(function ( resolve, reject ) {\n\t\tif ( provider.ownChannel !== null ) {\n\t\t\tresolve(provider.ownChannel);\n\t\t} else {\n\t\t\tapi.request('GET', 'channels?part=snippet&mine=true').then(function ( data ) {\n\t\t\t\tprovider.ownChannel = JSON.parse(data).items[0];\n\t\t\t\tprovider.ownChannel.title = provider.ownChannel.snippet.title;\n\t\t\t\tprovider.ownChannel.icon = provider.ownChannel.snippet.thumbnails['default'].url;\n\t\t\t\tapi.ownChannel = provider.ownChannel;\n\t\t\t\tresolve(provider.ownChannel);\n\t\t\t}, reject);\n\t\t}\n\t});\n};\n\n\nprovider.setActiveCategory = function ( category ) {\n\tif ( category && this.activeCategory.id !== category.id ) {\n\t\tthis.activeCategory = category;\n\t\tthis.pages = {};\n\t\tif ( this.events['category:changed'] !== undefined ) {\n\t\t\tthis.emit('category:changed', category);\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n// public export\nmodule.exports = provider;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/api/model/channels.js\n// module id = 60\n// module chunks = 0","'use strict';\n\nvar keys   = require('stb-keys'),\n\tapp\t\t= require('mag-app'),\n\t// router = require('../../../temp/router'),\n\n\tPanel = require('stb-component-panel'),\n\tList  = require('mag-component-list'),\n\n\tListMovies  = require('./../../list.videos.js'),\n\n\tChannelModel  = require('../../../modules/parser/models/channel'),\n\n\tplayer \t= require('../../../modules/player'),\n\t// PlaylistModel  = require('../../../modules/api/model/playlist'),\n\n\tl10n = require('../../../modules/util/l10n'),\n\n\tlistMenu = require('../list.menu'),\n\n\tlists = [],\n\n\tpanel = new Panel({\n\t\t$node: document.getElementById('pmTabChannelContent'),\n\t\tclassName: 'tab hidden',\n\t\tvisible: false,\n\t\tevents: {\n\t\t\tfocus: function () {\n\t\t\t\tlists[activeList].focus();\n\t\t\t}\n\t\t}\n\t}),\n\n\tloader = require('../../loader'),\n\n\t$page = document.getElementById('pm'),\n\t$channelTitle = document.getElementById('pmChannelTitle'),\n\t$channelIcon = document.getElementById('pmChannelIcon'),\n\n\tbottomListTopValue = 0,\n\ttopListTopValue    = 0,\n\n\ttopList = 0,\n\tbottomList = 1,\n\n\tactiveList = 0,\n\n\ttopPageNumber = 0,\n\tbottomPageNumber = 1,\n\n\tloadTimeout = -1,\n\tblockMove = true,\n\n\tchannelModel = new ChannelModel(),\n\tchannel = {id: null, title: null};\n\n\nfunction moveLists ( sourceListNumber, isGoingUp ) {\n\tvar targetList = sourceListNumber ^ 1;\n\n\t//debug.info(blockMove, 'blockMove');\n\tif ( blockMove ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( isGoingUp ) {\n\t\t\t\t//debug.log(topPageNumber - 1, 'topPageNumber');\n\t\t\t} else {\n\t\t\t\t//debug.log(bottomPageNumber - 1, 'bottomPageNumber');\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\tif ( isGoingUp ) {\n\t\t////debug.log('TRY TO LOAD UP PAGE ' + (topPageNumber - 1));\n\t\tblockMove = true;\n\t\tchannelModel.getPage({page: (topPageNumber - 1), count: 1},/*).then(*/function ( error, data ) {\n\t\t\t--topPageNumber;\n\t\t\t--bottomPageNumber;\n\n\t\t\t// lists[targetList].model.filter({channel: response[0]});\n\t\t\ttopList = targetList;\n\t\t\tbottomList = sourceListNumber;\n\t\t\tactiveList = targetList;\n\n\t\t\tlists[targetList].data = data;\n\t\t\tlists[targetList].viewIndex = null;\n\t\t\tlists[targetList].renderView(0);\n\t\t\t// lists[targetList].focusIndex(0);\n\t\t\tlists[targetList].emit('view:ready');\n\t\t}/*, function ( error ) {\n\t\t\t//debug.log(error);\n\t\t}*/);\n\t} else {\n\t\tif ( lists[bottomList].data.length === 0 ) {\n\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\treturn;\n\t\t}\n\t\tblockMove = true;\n\t\tchannelModel.getPage({page: (bottomPageNumber + 1), count: 1}/* ).then */, function ( error, data ) {\n\n\t\t\tif ( !data ) {\n\t\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( error || data.length === 0 ) {\n\t\t\t\t++topPageNumber;\n\t\t\t\t++bottomPageNumber;\n\t\t\t\t// lists[sourceListNumber].model.filter({channel: {id: '!', title: ''}});\n\t\t\t\tlists[sourceListNumber].data = [];\n\t\t\t\tlists[sourceListNumber].viewIndex = null;\n\t\t\t\tlists[sourceListNumber].renderView(0);\n\t\t\t\t// lists[sourceListNumber].focusIndex(0);\n\t\t\t\tlists[sourceListNumber].$title.innerHTML = '';\n\t\t\t\ttopList = targetList;\n\t\t\t\tbottomList = sourceListNumber;\n\t\t\t\tactiveList = targetList;\n\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\tlists[activeList].focus();\n\t\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\t} else {\n\t\t\t\t++topPageNumber;\n\t\t\t\t++bottomPageNumber;\n\n\t\t\t\t// lists[sourceListNumber].model.filter({channel: response[0]});\n\n\t\t\t\ttopList = targetList;\n\t\t\t\tbottomList = sourceListNumber;\n\t\t\t\tactiveList = targetList;\n\t\t\t\tlists[sourceListNumber].data = data;\n\t\t\t\tlists[sourceListNumber].viewIndex = null;\n\t\t\t\tlists[sourceListNumber].renderView(0);\n\t\t\t\t// lists[sourceListNumber].focusIndex(0);\n\t\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\t\tlists[activeList].focus();\n\t\t\t}\n\t\t});\n\t}\n}\n\n\nchannelModel.addListener('content:changed', function () {\n\tclearTimeout(loadTimeout);\n\tloadTimeout = setTimeout(function () {\n\t\tloader.hide();\n\t}, 10000);\n\tif ( lists.length === 0 ) {\n\t\tlists.push(new ListMovies({\n\t\t\t$node:document.getElementById('pmListChannelVideos0Node'),\n\t\t\t$body:document.getElementById('pmListChannelVideos0Body'),\n\t\t\t$title:document.getElementById('pmChannelTitle0'),\n\t\t\t// model: new PlaylistModel(),\n\t\t\tclassName: 'listMovie0Node',\n\t\t\tsize: 5,\n\t\t\tviewIndex: 0,\n\t\t\tfocusIndex: 0,\n\t\t\ttype: List.prototype.TYPE_HORIZONTAL,\n\t\t\tevents: {\n\t\t\t\toverflow: function ( event ) {\n\t\t\t\t\tif ( event.direction === keys.left ) {\n\t\t\t\t\t\tlistMenu.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'view:ready': function () {\n\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t}\n\t\t\t\t\t// this.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\tthis.$title.innerHTML = '';\n\t\t\t\t\tif ( lists[activeList] && lists[activeList].data.length > 0 && lists[activeList].data[0].value ) {\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t}\n\t\t\t\t\tthis.show();\n\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\tblockMove = false;\n\n\t\t\t\t\t// panel.focusEntry = lists[activeList];\n\t\t\t\t\t// lists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\t// if ( lists[bottomList] ) {\n\t\t\t\t\t// \tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t// }\n\t\t\t\t\t// // this.$title.innerHTML = this.model.playlist.title;\n\t\t\t\t\t// this.show();\n\t\t\t\t\t// loader.hide();\n\t\t\t\t\t// clearTimeout(loadTimeout);\n\t\t\t\t\t// lists[activeList].focus();\n\t\t\t\t\t// blockMove = false;\n\t\t\t\t},\n\t\t\t\t'view:error': function ( error ) {\n\t\t\t\t\tblockMove = false;\n\t\t\t\t\tif ( error === 'empty' ) {\n\t\t\t\t\t\tthis.data = [{\n\t\t\t\t\t\t\tid:'',\n\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\tpublishedAt: '',\n\t\t\t\t\t\t\ticon: 'img/no.image.png',\n\t\t\t\t\t\t\tduration: '',\n\t\t\t\t\t\t\ttitle: gettext('No videos'),\n\t\t\t\t\t\t\tchannelTitle: '',\n\t\t\t\t\t\t\tviewCount: '',\n\t\t\t\t\t\t\tlocale: {\n\t\t\t\t\t\t\t\tpublishedAt: '',\n\t\t\t\t\t\t\t\tviewCount: '',\n\t\t\t\t\t\t\t\tchannelTitle: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}];\n\t\t\t\t\t\tthis.viewIndex = null;\n\t\t\t\t\t\tthis.renderView(0);\n\t\t\t\t\t\t// this.focusIndex(0);\n\t\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// this.$title.innerHTML = this.model.playlist.title;\n\t\t\t\t\t\tthis.show();\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\t} else if ( topPageNumber === 0 ) {\n\t\t\t\t\t\tmoveLists(0, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'click:item': function ( event ) {\n\t\t\t\t\tif ( event.$item.data.id ) {\n\t\t\t\t\t\tplayer.setContent({\n\t\t\t\t\t\t\tchannel: channel,\n\t\t\t\t\t\t\tvideo: event.$item.data,\n\t\t\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\t\t\tposition: event.$item.index\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tlists.push(new ListMovies({\n\t\t\t$node:document.getElementById('pmListChannelVideos1Node'),\n\t\t\t$body:document.getElementById('pmListChannelVideos1Body'),\n\t\t\t$title:document.getElementById('pmChannelTitle1'),\n\t\t\t// model: new PlaylistModel(),\n\t\t\tclassName: 'listMovie1Node',\n\t\t\tsize: 5,\n\t\t\tviewIndex: 0,\n\t\t\tfocusIndex: 0,\n\t\t\ttype: List.prototype.TYPE_HORIZONTAL,\n\t\t\tevents: {\n\t\t\t\toverflow: function ( event ) {\n\t\t\t\t\tif ( event.direction === keys.left ) {\n\t\t\t\t\t\tlistMenu.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'view:ready': function () {\n\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t}\n\t\t\t\t\t// this.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\tthis.$title.innerHTML = '';\n\t\t\t\t\tif ( lists[activeList] && lists[activeList].data.length > 0 && lists[activeList].data[0].value ) {\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t}\n\t\t\t\t\tthis.show();\n\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\tblockMove = false;\n\t\t\t\t\t// panel.focusEntry = lists[activeList];\n\t\t\t\t\t// lists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\t// lists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t// // this.$title.innerHTML = this.model.playlist.title;\n\t\t\t\t\t// this.show();\n\t\t\t\t\t// loader.hide();\n\t\t\t\t\t// clearTimeout(loadTimeout);\n\t\t\t\t\t// lists[activeList].focus();\n\t\t\t\t\t// blockMove = false;\n\t\t\t\t},\n\t\t\t\t'view:error': function ( error ) {\n\t\t\t\t\tblockMove = false;\n\t\t\t\t\tif ( error === 'empty' ) {\n\t\t\t\t\t\tthis.data = [{\n\t\t\t\t\t\t\tid:'',\n\t\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\t\tpublishedAt: '',\n\t\t\t\t\t\t\ticon: ' ',\n\t\t\t\t\t\t\tduration: '',\n\t\t\t\t\t\t\ttitle: ' ',\n\t\t\t\t\t\t\tchannelTitle: '',\n\t\t\t\t\t\t\tviewCount: '',\n\t\t\t\t\t\t\tlocale: {\n\t\t\t\t\t\t\t\tpublishedAt: '',\n\t\t\t\t\t\t\t\tviewCount: '',\n\t\t\t\t\t\t\t\tchannelTitle: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}];\n\t\t\t\t\t\tthis.viewIndex = null;\n\t\t\t\t\t\tthis.renderView(0);\n\t\t\t\t\t\tthis.focusIndex(0);\n\t\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$title.innerHTML = this.model.channel.title ? this.model.channel.title : '&nbsp;';\n\t\t\t\t\t\tthis.show();\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'click:item': function ( event ) {\n\t\t\t\t\tif ( event.$item.data.id ) {\n\t\t\t\t\t\tplayer.setContent({\n\t\t\t\t\t\t\tchannel: channel,\n\t\t\t\t\t\t\tvideo: event.$item.data,\n\t\t\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\t\t\tposition: event.$item.index\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\t//topListTopValue = window.getComputedStyle(lists[0].$node).getPropertyValue('top');\n\t\tpanel.add(lists[0]);\n\t\tpanel.add(lists[1]);\n\t\tlists[0].focus();\n\t\tlists[0].addListener('keydown', function ( event ) {\n\t\t\tif ( event.code === keys.down ) {\n\t\t\t\tmoveLists(0, false);\n\t\t\t} else if ( event.code === keys.up ) {\n\t\t\t\tif ( topPageNumber > 0 ) {\n\t\t\t\t\tmoveLists(0, true);\n\t\t\t\t}\n\t\t\t} else if ( event.code === keys.playPause ) {\n\t\t\t\tplayer.setContent({\n\t\t\t\t\tchannel: this.model.channel,\n\t\t\t\t\tvideo: this.$focusItem.data,\n\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\tposition: this.$focusItem.index\n\t\t\t\t});\n\t\t\t}\n\t\t\t//debug.log(event.stop);\n\t\t});\n\t\tlists[1].addListener('keydown', function ( event ) {\n\t\t\tif ( event.code === keys.down ) {\n\t\t\t\tmoveLists(1, false);\n\t\t\t} else if ( event.code === keys.up ) {\n\t\t\t\tif ( topPageNumber > 0 ) {\n\t\t\t\t\tmoveLists(1, true);\n\t\t\t\t}\n\t\t\t} else if ( event.code === keys.playPause ) {\n\t\t\t\tplayer.setContent({\n\t\t\t\t\tchannel: this.model.channel,\n\t\t\t\t\tvideo: this.$focusItem.data,\n\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\tposition: this.$focusItem.index\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tbottomListTopValue = window.getComputedStyle(lists[1].$node).getPropertyValue('top');\n\t}\n\tchannelModel.getPage({page: 0, count: 1},/*).then(*/function ( error, data ) {\n\t\ttopPageNumber = 0;\n\t\ttopList = 0;\n\t\tbottomList = 1;\n\t\tbottomPageNumber = 1;\n\t\tactiveList = 0;\n\t\t//debug.log(data[0].id, 'data[0].id')\n\t\t// lists[topList].model.init({\n\t\t// \tplaylist: {\n\t\t// \t\tvalue: data[0].id,\n\t\t// \t\tid: data[0].id,\n\t\t// \t\ttitle: data[0].snippet.title,\n\t\t// \t\ticon: data[0].snippet.thumbnails['default'].url\n\t\t// \t}\n\t\t// });\n\t\tlists[topList].data = data;\n\t\tlists[topList].viewIndex = null;\n\t\tlists[topList].renderView(0);\n\t\t// lists[topList].focusIndex(0);\n\t\tlists[topList].emit('view:ready');\n\t\tlists[activeList].focus();\n\n\t\tchannelModel.getPage({page: 1, count: 1},/*).then(*/function ( error, data ) {\n\t\t\t//debug.log(data[0].id, 'data[0].id')\n\t\t\t// lists[bottomList].model.init({\n\t\t\t// \tplaylist: {\n\t\t\t// \t\tvalue: data[0].id,\n\t\t\t// \t\tid: data[0].id,\n\t\t\t// \t\ttitle: data[0].snippet.title,\n\t\t\t// \t\ticon: data[0].snippet.thumbnails['default'].url\n\t\t\t// \t}\n\t\t\t// });\n\t\t\tlists[bottomList].data = data;\n\t\t\tlists[bottomList].viewIndex = null;\n\t\t\tlists[bottomList].renderView(0);\n\t\t\t// lists[bottomList].focusIndex(0);\n\t\t\tlists[bottomList].emit('view:ready');\n\n\t\t\tlists[activeList].focus();\n\t\t}/*, function () {\n\t\t\tlists[1].hide();\n\t\t}*/);\n\t});\n});\n\n\npanel.activate = function ( newChannel ) {\n\tif ( !newChannel ) {\n\t\treturn;\n\t}\n\tthis.show();\n\tif ( lists.length ) {\n\t\tlists[activeList].focus();\n\t}\n\t// if ( channelModel.init({channel: channel}) ) {\n\t// \tlists[0].hide();\n\t// \tlists[1].hide();\n\t// \t$channelIcon.style.backgroundImage = 'url(' + channel.icon + ')';\n\t// \t$channelTitle.innerHTML = channel.title;\n\t// \tloader.show();\n\t// }\n\tchannelModel.channelId = channel.id = newChannel.id;\n\tchannelModel.getInfo({}, function ( error, info ) {\n\t\tif ( error ) {\n\n\t\t\treturn;\n\t\t}\n\t\tinfo.background = info.background.split('=')[0] + '=w1920-fcrop64=1,00000000ffffffff-nd-c0xffffffff-rj-k-no';\n\t\t$page.style.backgroundImage = 'url(' + info.background + ')';\n\t\t$channelIcon.style.backgroundImage = 'url(' + info.icon + ')';\n\t\tchannel.title = $channelTitle.innerHTML = info.title;\n\t\tchannel.icon = info.icon;\n\t\tchannelModel.emit('content:changed');\n\t});\n};\n\nmodule.exports = panel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/page.main/tabs/channel.content.js\n// module id = 61\n// module chunks = 0","/**\n * youtube parser for main page\n * @author bas\n */\n\n'use strict';\n\nvar tools   = require('./tools'),\n    ajax    = tools.ajax,\n    Emitter = require('cjs-emitter');\n\n/**\n * Main page parser\n *\n * @param {string} textForParse html with video data\n * @param {Object} channelInfo channel info\n * @param {string} channelInfo.title channel title\n * @param {string} channelInfo.id channel id\n *\n * @return {Array} videos\n */\nfunction parserForChannelPage ( textForParse, channelInfo ) {\n    var items = [],\n        id, duration, viewCount, publishedAt, title, icon,\n        tmp, startIndex, endIndex, text, index;\n\n    // split by items\n    tmp = textForParse.split('channels-content-item');\n    // check each piece of html for video data\n    for ( index = 0; index < tmp.length; index++ ) {\n        text = tmp[index];\n\n        if ( text.indexOf('yt-lockup-video') === -1 ) {\n            continue; // this part of text don't have video block\n        }\n\n        // video/playlist thumbnail, example: \"https://i.ytimg.com/vi/ktiONWfSL48/hqdefault.jpg?custom=true&w=196&jpgq=90&sp=68&sigh=e_W4dPkywvlYwi8av9yYdwHQi8Y\"\n        startIndex = text.indexOf('=\"https://i.ytimg') + 2;\n        endIndex = text.indexOf('\"', startIndex);\n        icon = text.substring(startIndex, endIndex);\n        // video id, example: \"ktiONWfSL48\"\n        startIndex = text.indexOf('data-context-item-id=\"') + 22;\n        endIndex = text.indexOf('\"', startIndex);\n        id = text.substring(startIndex, endIndex);\n        // video duration, example: \"11:59:59\"\n        startIndex = text.indexOf('<span class=\"video-time\" aria-hidden=\"true\">') + 44;\n        startIndex = text.indexOf('>', startIndex) + 1;\n        endIndex = text.indexOf('</span>', startIndex);\n        duration = text.substring(startIndex, endIndex);\n        // views count, example: \"10,000,002\"\n        startIndex = text.indexOf('<ul class=\"yt-lockup-meta-info\"><li>') + 36;\n        endIndex = text.indexOf(' ', startIndex);\n        viewCount = text.substring(startIndex, endIndex);\n        // time passed since publishing, example: \"1 month ago\"\n        startIndex = text.indexOf('</li><li>', startIndex) + 9; // text not unique: need to use viewCount position\n        endIndex = text.indexOf('</li>', startIndex);\n        publishedAt = text.substring(startIndex, endIndex);\n        // video title, example: \"Nasa LIVE stream - Earth From Space LIVE\"\n        startIndex = text.indexOf('\" href=\"/watch?v=') + 17;\n        startIndex = text.indexOf('>', startIndex) + 1;\n        endIndex = text.indexOf('</a><span', startIndex);\n        title = text.substring(startIndex, endIndex);\n\n        items.push({\n            value: 1,           // always 1, stb hack\n            id: id,\n            channelTitle: channelInfo.title,\n            duration: duration,\n            realDuration: duration,\n            viewCount: viewCount,\n            publishedAt: publishedAt,\n            dimension: '',      // not used by application\n            definition: '',     // not used by application\n            title: title,\n            icon: icon,\n            channelId: channelInfo.id,\n            type: 'video',\n            locale: {\n                publishedAt: publishedAt,\n                viewCount: viewCount,\n                channelTitle: channelInfo.title\n            }\n        });\n    }\n\n    return items;\n}\n\n/**\n * @constructor\n */\nfunction ChannelModel () {\n    Emitter.call(this);\n\n    this.channelId = null;\n\n    this.pages = {};\n}\n\nChannelModel.prototype = Object.create(Emitter.prototype);\nChannelModel.prototype.constructor = ChannelModel;\n\n/**\n *\n * @param {Object} params params\n * @param {string} params.channelId channel id\n * @param {function} callback callback\n */\nChannelModel.prototype.getInfo = function ( params, callback ) {\n    params = params || {};\n\n    if ( !params.channelId && this.channelId ) {\n        params.channelId = this.channelId;\n    }\n\n    if ( !params.channelId ) {\n        if ( DEVELOP ) { console.log('error: field arguments[0].channelId is empty'); }\n        callback({message: 'error: field arguments[0].channelId is empty'}, {});\n        return; // eslint-disable-line\n    }\n\n    ajax('get', 'https://www.youtube.com/' + params.channelId + '/about', function ( data, status ) {\n        var startIndex, endIndex,\n            icon, subscribers, title, description, background;\n\n        if ( status !== 200 ) {\n            callback({message: 'request got bad http status (' + status + ')'}, {});\n            return; // eslint-disable-line\n        }\n\n        // get channel icon\n        startIndex = data.indexOf('img class=\"channel-header-profile-image\" src=\"') + 46;\n        endIndex = data.indexOf('\"', startIndex);\n        icon = data.substring(startIndex, endIndex);\n        // get channel subscribers count, example: \"13,232\"\n        startIndex = data.indexOf('yt-subscription-button-subscriber-count-branded-horizontal');\n        startIndex = data.indexOf('title=\"', startIndex) + 7;\n        endIndex = data.indexOf('\"', startIndex);\n        subscribers = data.substring(startIndex, endIndex);\n        // get channel title\n        startIndex = data.indexOf('class=\"qualified-channel-title-text\"');\n        startIndex = data.indexOf('title=\"', startIndex) + 7;\n        endIndex = data.indexOf('\"', startIndex);\n        title = data.substring(startIndex, endIndex);\n        // get channel description\n        startIndex = data.indexOf('<div class=\"about-description');\n        endIndex = data.indexOf('<div class=\"about-metadata-label', startIndex);\n        description = data.substring(startIndex, endIndex);\n        // get channel background\n        startIndex = data.indexOf('.hd-banner-image {');\n        startIndex = data.indexOf('background-image: url(', startIndex) + 22;\n        endIndex = data.indexOf(');', startIndex);\n        background = 'http:' + data.substring(startIndex, endIndex);\n\n        callback(null, {\n            icon: icon,\n            subscribers: subscribers,\n            background: background,\n            title: title,\n            id: params.channelId,\n            description: description\n        });\n    });\n};\n\n/**\n * Get parsed page data\n *\n * @param {Object} params filters\n * @param {number} [params.page = 0] page number\n * @param {function} callback callback\n */\nChannelModel.prototype.getPage = function ( params, callback ) {\n    var self = this;\n\n    params = params || {};\n\n    if ( !params.channelId && this.channelId ) {\n        params.channelId = this.channelId;\n    }\n\n    params.page = +params.page || 0;\n\n    if ( !params.channelId ) {\n        callback({message: 'error: field arguments[0].channelId is empty'}, []);\n        return; // eslint-disable-line\n    }\n\n    if ( this.pages[params.page] && this.pages[params.page].parseId ) {\n        if ( this.pages[params.page].cached ) {\n            callback(null, this.pages[params.page].data);\n        } else {\n            ajax('get', 'https://www.youtube.com' + this.pages[params.page].parseId, function ( data, status ) {\n                var config, errorText, startIndex, endIndex, parseId, channelTitle;\n\n                if ( status !== 200 ) {\n                    callback({message: 'request got bad http status (' + status + ')'}, []);\n                    return; // eslint-disable-line\n                }\n\n                try {\n                    config = JSON.parse(data);\n                } catch ( error ) {\n                    errorText = error;\n                    config = '';\n                }\n\n                if ( !config ) {\n                    callback(\n                        {\n                            message: 'parse error for page id ' + self.pages[params.page].parseId,\n                            code: errorText\n                        },\n                        []\n                    );\n                    return; // eslint-disable-line\n                }\n                // check if this is last page\n                if ( (config.load_more_widget_html.trim()).length > 10 ) {\n                    // add next page parse id to pages hash\n                    startIndex = config.load_more_widget_html.indexOf('data-uix-load-more-href=\"/browse_ajax') + 25;\n                    endIndex = config.load_more_widget_html.indexOf('\"', startIndex);\n                    parseId = config.load_more_widget_html.substring(startIndex, endIndex).replace(/&amp;/g, '&');\n                } else {\n                    parseId = '';\n                }\n                self.pages[params.page + 1] = {\n                    parseId: parseId,\n                    cached: false\n                };\n                // get channel title\n                if ( data.indexOf('class=\"qualified-channel-title-text\"') === -1 ) {\n                    // get it from first page (next pages don't have channel title inside it's html)\n                    if (\n                        self.pages[0] && self.pages[0].data && self.pages[0].data[0] &&\n                        self.pages[0].data[0] && self.pages[0].data[0].channelTitle\n                    ) {\n                        channelTitle = self.pages[0].data[0].channelTitle;\n                    } else {\n                        channelTitle = '';\n                    }\n                } else {\n                    startIndex = data.indexOf('class=\"qualified-channel-title-text\"');\n                    startIndex = data.indexOf('title=\"', startIndex) + 7;\n                    endIndex = data.indexOf('\"', startIndex);\n                    channelTitle = data.substring(startIndex, endIndex);\n                }\n                // add page to cache\n                self.pages[params.page].cached = true;\n                self.pages[params.page].data = parserForChannelPage(\n                    config.content_html,\n                    {id: params.channelId, title: channelTitle}\n                );\n\n                callback(null, self.pages[params.page].data);\n            });\n        }\n    } else if ( !params.page ) {\n        ajax('get', 'https://www.youtube.com/' + params.channelId + '/videos', function ( data, status ) {\n            var html, startIndex, endIndex, channelTitle;\n\n            if ( status !== 200 ) {\n                callback({message: 'request got bad http status (' + status + ')'}, []);\n                return; // eslint-disable-line\n            }\n\n            // get channel title\n            startIndex = data.indexOf('class=\"qualified-channel-title-text\"');\n            startIndex = data.indexOf('title=\"', startIndex) + 7;\n            endIndex = data.indexOf('\"', startIndex);\n            channelTitle = data.substring(startIndex, endIndex);\n            // add next page parse id to pages hash\n            startIndex = data.indexOf('data-uix-load-more-href=\"/browse_ajax') + 25;\n            endIndex = data.indexOf('\"', startIndex);\n            self.pages[params.page + 1] = {parseId: data.substring(startIndex, endIndex).replace(/&amp;/g, '&'), cached: false};\n            // remove useless footer and header parts\n            html = data.slice(data.indexOf('id=\"channels-browse-content-grid\"'), data.indexOf('browse-items-load-more-button'));\n            // add first page to cache\n            self.pages[0] = {\n                cached: true,\n                parseId: '   ',\n                data: parserForChannelPage(html, {id: params.channelId, title: channelTitle})\n            };\n            callback(null, self.pages[0].data);\n        });\n    } else if ( this.pages[params.page] && !this.pages[params.page].parseId ) {\n        callback(null, []); // last page\n    } else {\n        callback({message: 'wrong page number (page id not found in cache)'}, []);\n    }\n};\n\n\nChannelModel.prototype.filter = function () {\n    return false;\n};\n\n// public export\nmodule.exports = ChannelModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/parser/models/channel.js\n// module id = 62\n// module chunks = 0","\n/**\n * URL parsing tool\n * (c) Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * @param {string} str url\n *\n * @return {Object} config with parsed parameters\n */\nfunction parseUri ( str ) {\n\tvar base = {\n\t\t    strictMode: false,\n\t\t    key: [\n\t\t\t    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port',\n\t\t\t    'relative', 'path', 'directory', 'file', 'query', 'anchor'\n\t\t    ],\n\t\t    q: {\n\t\t\t    name: 'queryKey',\n\t\t\t    parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n\t\t    },\n\t\t    parser: {\n\t\t\t    strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n\t\t\t    loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n\t\t    }\n\t    },\n\t    item = base.parser[base.strictMode ? 'strict' : 'loose'].exec(str),\n\t    uri  = {},\n\t    ind  = 14;\n\n\twhile ( ind-- ) { uri[base.key[ind]] = item[ind] || ''; }\n\n\turi[base.q.name] = {};\n\turi[base.key[12]].replace(base.q.parser, function ( $0, $1, $2 ) {\n\t\tif ( $1 ) { uri[base.q.name][$1] = $2; }\n\t});\n\n\treturn uri;\n}\n\n/**\n * Ajax request\n *\n * @param {string} method \"post\", \"get\" or \"head\"\n * @param {string} url address\n * @param {function} callback on\n * @param {Object} [headers] list of optional headers like \"charset\", \"Content-Type\" and so on\n * @param {string} [type=text] data parsing mode: plain text (default), xml, json\n * @param {boolean} [async=true] send asynchronous request\n *\n * @return {XMLHttpRequest} request object in case response headers are necessary\n *\n * @example\n *   ajax('get', 'https://google.com/', function(data, status){console.info(data, status);}, {charset:'utf-8'})\n */\nfunction ajax ( method, url, callback, headers, type, async ) {\n\tvar hname,\n\t    jdata   = null,\n\t    timeout = null,\n\t    xhr     = new XMLHttpRequest(),\n\t    title   = 'AJAX ' + method.toUpperCase() + ' ' + url;\n\n\tasync = async !== false;\n\txhr.onreadystatechange = function () {\n\t\tvar result;\n\n\t\tif ( xhr.readyState === 4 ) {\n\t\t\tclearTimeout(timeout);\n\t\t\t//console.log(xhr.responseText, title);\n\t\t\tif ( type === 'json' && xhr.status === 200 ) {\n\t\t\t\ttry {\n\t\t\t\t\tjdata = JSON.parse(xhr.responseText);\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tjdata = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( typeof callback === 'function' ) {\n\t\t\t\tif ( type === 'xml' ) {\n\t\t\t\t\tresult = xhr.responseXML;\n\t\t\t\t} else if ( type === 'json' ) {\n\t\t\t\t\tresult = jdata;\n\t\t\t\t} else {\n\t\t\t\t\tresult = xhr.responseText;\n\t\t\t\t}\n\n\t\t\t\tcallback(result, xhr.status, xhr);\n\t\t\t}\n\t\t}\n\t};\n\txhr.open(method, url, async);\n\t// set headers if present\n\tif ( headers ) {\n\t\tfor ( hname in headers ) {\n\t\t\tif ( headers.hasOwnProperty(hname) ) {\n\t\t\t\txhr.setRequestHeader(hname, headers[hname]);\n\t\t\t}\n\t\t}\n\t}\n\txhr.send();\n\t// abort after some time (60s)\n\ttimeout = setTimeout(function () {\n\t\txhr.abort();\n\t\tif ( typeof callback === 'function' ) {\n\t\t\tcallback(null, 0);\n\t\t}\n\t}, 60000);\n\n\treturn xhr;\n}\n\nwindow.ajax = ajax;\n\n\n// public export\nmodule.exports = {\n\tajax: ajax,\n\tparseUri: parseUri\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/parser/models/tools.js\n// module id = 63\n// module chunks = 0","'use strict';\n\nvar\tkeys   = require('stb-keys'),\n\tapp    = require('mag-app'),\n\t// router = require('../../../temp/router'),\n\n\tList  = require('mag-component-list'),\n\tPanel = require('stb-component-panel'),\n\tModalMessage = require('../../../modules/ui/modal.message'),\n\n\tapi = require('../../../modules/api/client'),\n\tstb = require('../../../modules/gstb.wrapper'),\n\n\tlang = require('../../../../../config/lang'),\n\n\t$page = document.getElementById('pm'),\n\n\tpanel = new Panel({\n\t\t$node: document.getElementById('pmTabSettings'),\n\t\tclassName: 'tab',\n\t\tvisible: false,\n\t\tevents: {\n\t\t\tshow: function () {\n\t\t\t\t$page.style.backgroundImage = '';\n\t\t\t}\n\t\t}\n\t}),\n\tlistMenu = require('../list.menu'),\n\twidgetHelp = require('../../widget.help'),\n\n\tnewControl = [\n\t\t'AuraHD2', 'AuraHD3', 'AuraHD8', 'MAG254', 'MAG275', 'MAG276', 'WR320'\n\t].indexOf(stb.deviceModel()) !== -1,\n\n\tcurrentLanguageIndex = app.languageIndex,\n\n\tsettingsList, modal, button, prevFocused;\n\n\nfunction applyNewLocaleDialog () {\n\t//debug.info(app.languageIndex !== currentLanguageIndex, 'currentLanguageIndex');\n\t//console.log(JSON.stringify([app.languageIndex, currentLanguageIndex]))\n\tif ( app.languageIndex !== currentLanguageIndex ) {\n\t\tif ( !modal ) {\n\t\t\tmodal = new ModalMessage({\n\t\t\t\tvisible: false,\n\t\t\t\tevents: {\n\t\t\t\t\tkeydown: function ( event ) {\n\t\t\t\t\t\tvar focusIndex, viewIndex;\n\n\t\t\t\t\t\tif ( event.code === keys.ok ) {\n\t\t\t\t\t\t\tapp.settings.language = lang.languages[currentLanguageIndex];\n\t\t\t\t\t\t\tcurrentLanguageIndex = -1;\n\t\t\t\t\t\t\tapp.settings.languageOverwrite = 1;\n\t\t\t\t\t\t\tapp.settings.keyboardLanguage = currentLanguageIndex;\n\t\t\t\t\t\t\tapp.reload();\n\t\t\t\t\t\t} else if ( event.code === keys.back ) {\n\t\t\t\t\t\t\tsettingsList.data[settingsList.size -1].value = currentLanguageIndex = app.languageIndex;\n\t\t\t\t\t\t\tevent.stop = true;\n\t\t\t\t\t\t\tmodal.hide();\n\t\t\t\t\t\t\twidgetHelp.show();\n\t\t\t\t\t\t\tprevFocused.focus();\n\t\t\t\t\t\t\tfocusIndex = settingsList.$focusItem.index;\n\t\t\t\t\t\t\tviewIndex = settingsList.viewIndex;\n\t\t\t\t\t\t\tsettingsList.viewIndex = null;\n\t\t\t\t\t\t\tsettingsList.renderView(viewIndex);\n\t\t\t\t\t\t\tsettingsList.focusIndex(focusIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tmodal.$body.classList.add('modalExit');\n\t\t\tmodal.$header.innerHTML  = gettext('To apply a new language, you should restart the application');\n\t\t\tmodal.$content.innerHTML = '';\n\t\t\tmodal.$content.appendChild(button = document.createElement('div'));\n\t\t\tbutton.innerText = gettext('Ok');\n\t\t\tbutton.className = 'btn confirm' + (newControl ? ' old' : '');\n\t\t\tmodal.$content.appendChild(button = document.createElement('div'));\n\t\t\tbutton.className = 'btn back' + (newControl ? ' old' : '');\n\t\t\tbutton.innerText = gettext('Cancel');\n\t\t\tmodal.$footer.innerHTML  = '';\n\t\t\tapp.activePage.add(modal);\n\t\t\t// router.current.add(modal);\n\t\t\twidgetHelp.hide();\n\t\t\tmodal.show();\n\t\t\tprevFocused = app.activePage.activeComponent;\n\t\t\tmodal.focus();\n\t\t} else {\n\t\t\tmodal.show();\n\t\t\tprevFocused = app.activePage.activeComponent;\n\t\t\tmodal.focus();\n\t\t}\n\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n\nlistMenu.addListener('focus', function () {\n\tapplyNewLocaleDialog();\n});\n\n\npanel.activate = function () {\n\tvar settings, l10n;\n\n\tif ( !settingsList ) {\n\t\tl10n = require('../../../modules/util/l10n');\n\t\tsettings = require('../../../modules/api/model/settings');\n\t\tsettingsList = new List({\n\t\t\t$node: document.getElementById('pmSettingsList'),\n\t\t\ttype: List.prototype.TYPE_HORIZONTAL,\n\t\t\tsize: 1,\n\t\t\tdata: [\n\t\t\t\t// {\n\t\t\t\t// \ttitle: api.token ? gettext('Logout') : gettext('Login'),\n\t\t\t\t// \tvalue: 0,\n\t\t\t\t// \tvalues: ['&nbsp;'],\n\t\t\t\t// \tdescription: ' ',\n\t\t\t\t// \ticon: 'icon people',\n\t\t\t\t// \tonclick: function () {\n\t\t\t\t// \t\tvar modal = new ModalMessage({\n\t\t\t\t// \t\t\t\thidden: true,\n\t\t\t\t// \t\t\t\tevents: {\n\t\t\t\t// \t\t\t\t\tkeydown: function ( event ) {\n\t\t\t\t// \t\t\t\t\t\tif ( event.code === keys.ok ) {\n\t\t\t\t// \t\t\t\t\t\t\tif ( api.token ) {\n\t\t\t\t// \t\t\t\t\t\t\t\tapp.settings.sessionToken = null;\n\t\t\t\t// \t\t\t\t\t\t\t\tapp.settings.refreshToken = null;\n\t\t\t\t// \t\t\t\t\t\t\t\tapp.reload();\n\t\t\t\t// \t\t\t\t\t\t\t} else {\n\t\t\t\t// \t\t\t\t\t\t\t\trouter.navigate('pl');\n\t\t\t\t// \t\t\t\t\t\t\t}\n\t\t\t\t// \t\t\t\t\t\t} else if ( event.code === keys.back ) {\n\t\t\t\t// \t\t\t\t\t\t\tevent.stop = true;\n\t\t\t\t// \t\t\t\t\t\t\tmodal.hide();\n\t\t\t\t// \t\t\t\t\t\t\twidgetHelp.show();\n\t\t\t\t// \t\t\t\t\t\t\tmodal.$node.parentNode.removeChild(modal.$node);\n\t\t\t\t// \t\t\t\t\t\t\tsettingsList.focus();\n\t\t\t\t// \t\t\t\t\t\t}\n\t\t\t\t// \t\t\t\t\t}\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t}),\n\t\t\t\t// \t\t\tbutton;\n\n\t\t\t\t// \t\tmodal.$body.classList.add('modalExit');\n\t\t\t\t// \t\tmodal.$header.innerHTML  = api.token ? gettext('Logout from application?') : gettext('You want to login into app?');\n\t\t\t\t// \t\tmodal.$content.innerHTML = '';\n\t\t\t\t// \t\tmodal.$content.appendChild(button = document.createElement('div'));\n\t\t\t\t// \t\tbutton.innerText = gettext('Ok');\n\t\t\t\t// \t\tbutton.className = 'btn confirm' + (newControl ? ' old' : '');\n\t\t\t\t// \t\tmodal.$content.appendChild(button = document.createElement('div'));\n\t\t\t\t// \t\tbutton.className = 'btn back' + (newControl ? ' old' : '');\n\t\t\t\t// \t\tbutton.innerText = gettext('Cancel');\n\t\t\t\t// \t\tmodal.$footer.innerHTML  = '';\n\t\t\t\t// \t\trouter.current.add(modal);\n\t\t\t\t// \t\twidgetHelp.hide();\n\t\t\t\t// \t\tmodal.show();\n\t\t\t\t// \t\tmodal.focus();\n\t\t\t\t// \t}\n\t\t\t\t// },\n\t\t\t\t// {\n\t\t\t\t// \ttitle: gettext('Safe mode'),\n\t\t\t\t// \tvalue: app.settings.safeSearch,\n\t\t\t\t// \tvalues: settings.data.safeSearch,\n\t\t\t\t// \tdescription: gettext('Hide unwanted content'),\n\t\t\t\t// \ticon: app.settings.safeSearch === 0 ? 'icon settings-uncheck' : 'icon settings-check',\n\t\t\t\t// \tonclick: function ( $item ) {\n\t\t\t\t// \t\tvar data = settings.getNext('safeSearch', app.settings.safeSearch);\n\n\t\t\t\t// \t\t$item.$value.innerText = data.value;\n\t\t\t\t// \t\tthis.value = data.index;\n\t\t\t\t// \t\tapp.settings.safeSearch = data.index;\n\t\t\t\t// \t\tif ( data.index === 0 ) {\n\t\t\t\t// \t\t\tthis.icon = $item.$icon.className = 'icon settings-uncheck';\n\t\t\t\t// \t\t} else {\n\t\t\t\t// \t\t\tthis.icon = $item.$icon.className = 'icon settings-check';\n\t\t\t\t// \t\t}\n\t\t\t\t// \t}\n\t\t\t\t// },\n\t\t\t\t// {\n\t\t\t\t// \ttitle: gettext('Default extension'),\n\t\t\t\t// \tvalue: app.settings.quality,\n\t\t\t\t// \tvalues: settings.data.quality,\n\t\t\t\t// \tdescription: gettext('Choose default video quality'),\n\t\t\t\t// \ticon: app.settings.quality < 2 ? 'icon player-HD' : 'icon player-SD',\n\t\t\t\t// \tonclick: function ( $item ) {\n\t\t\t\t// \t\tvar data = settings.getNext('quality', app.settings.quality);\n\n\t\t\t\t// \t\t$item.$value.innerText = data.value;\n\t\t\t\t// \t\tthis.value = data.index;\n\t\t\t\t// \t\tapp.settings.quality = data.index;\n\t\t\t\t// \t\tif ( app.settings.quality < 2 ) {\n\t\t\t\t// \t\t\tthis.icon = $item.$icon.className = 'icon player-HD';\n\t\t\t\t// \t\t} else {\n\t\t\t\t// \t\t\tthis.icon = $item.$icon.className = 'icon player-SD';\n\t\t\t\t// \t\t}\n\t\t\t\t// \t}\n\t\t\t\t// },\n\t\t\t\t{\n\t\t\t\t\ttitle: gettext('Language'),\n\t\t\t\t\tvalue: app.languageIndex,\n\t\t\t\t\tvalues: lang.languagesLocalized,\n\t\t\t\t\tdescription: gettext('Interface language'),\n\t\t\t\t\ticon: 'icon flag',\n\t\t\t\t\tonclick: function ( $item ) {\n\t\t\t\t\t\tvar index = l10n.nextLang(this.value);\n\n\t\t\t\t\t\tthis.value = index;\n\n\t\t\t\t\t\tcurrentLanguageIndex = index;\n\t\t\t\t\t\t$item.$value.innerText = lang.languagesLocalized[index];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\trender: function ( $item, data ) {\n\t\t\t\tif ( !$item.ready ) {\n\t\t\t\t\t$item.$container = $item.appendChild(document.createElement('div'));\n\t\t\t\t\t$item.$container.className = 'container';\n\t\t\t\t\t$item.$title = $item.$container.appendChild(document.createElement('div'));\n\t\t\t\t\t$item.$title.className = 'title';\n\t\t\t\t\t$item.$value = $item.$container.appendChild(document.createElement('div'));\n\t\t\t\t\t$item.$value.className = 'value';\n\t\t\t\t\t$item.$icon = $item.$container.appendChild(document.createElement('div'));\n\t\t\t\t\t$item.$description = $item.appendChild(document.createElement('div'));\n\t\t\t\t\t$item.$description.className = 'description';\n\t\t\t\t\t$item.ready = true;\n\t\t\t\t}\n\t\t\t\t$item.$title.innerText = data.title;\n\t\t\t\t$item.$value.innerHTML = data.values[data.value];\n\t\t\t\t$item.$icon.className = data.icon;\n\t\t\t\t$item.$description.innerText = data.description;\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tkeydown: function ( event ) {\n\t\t\t\t\tswitch ( event.code ) {\n\t\t\t\t\t\tcase keys.right:\n\t\t\t\t\t\t\t// if ( this.$focusItem.index < this.data.length - 1 ) {\n\t\t\t\t\t\t\t// \tif ( this.$focusItem.index > 0 ) {\n\t\t\t\t\t\t\t// \t\tthis.renderView(this.viewIndex + 1);\n\t\t\t\t\t\t\t// \t} else {\n\t\t\t\t\t\t\t// \t\tthis.focusIndex(1);\n\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase keys.left:\n\t\t\t\t\t\t\t// cursor move only on arrow keys\n\t\t\t\t\t\t\tif ( this.viewIndex > 0 && this.viewIndex < this.data.length - this.size ) {\n\t\t\t\t\t\t\t\tthis.renderView(this.viewIndex + 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.move(event.code);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase keys.ok:\n\t\t\t\t\t\t\t// there are some listeners\n\t\t\t\t\t\t\tif ( this.events['click:item'] !== undefined ) {\n\t\t\t\t\t\t\t\t// notify listeners\n\t\t\t\t\t\t\t\tthis.emit('click:item', {$item: this.$focusItem, event: event});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase keys.back:\n\t\t\t\t\t\t// case keys.exit:\n\t\t\t\t\t\t\tif ( applyNewLocaleDialog() ) {\n\t\t\t\t\t\t\t\tevent.stop = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'click:item': function ( event ) {\n\t\t\t\t\tevent.$item.data.onclick(event.$item);\n\t\t\t\t},\n\t\t\t\toverflow: function ( event ) {\n\t\t\t\t\tif ( event.direction === keys.left ) {\n\t\t\t\t\t\tlistMenu.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tpanel.add(settingsList);\n\n\t\tsettingsList.renderView = function ( index ) {\n\t\t\tvar $item, i, itemData, prevIndex, currIndex;\n\n\t\t\tif ( DEBUG ) {\n\t\t\t\tif ( arguments.length !== 1 ) { throw 'wrong arguments number'; }\n\t\t\t\tif ( Number(index) !== index ) { throw 'index must be a number'; }\n\t\t\t\tif ( index < 0 ) { throw 'index should be more than zero'; }\n\t\t\t\tif ( index >= this.data.length ) { throw 'index should be less than data size'; }\n\t\t\t}\n\n\t\t\t// has the view window position changed\n\t\t\tif ( this.viewIndex !== index ) {\n\t\t\t\t//debug.log('renderView ' + index);\n\t\t\t\t// save for emit\n\t\t\t\tprevIndex = this.viewIndex;\n\t\t\t\t// sync global pointer\n\t\t\t\tthis.viewIndex = currIndex = index;\n\n\t\t\t\t// rebuild all visible items\n\t\t\t\tfor ( i = 0; i < this.size; i++ ) {\n\t\t\t\t\t// shortcuts\n\t\t\t\t\t$item    = this.$body.children[i];\n\t\t\t\t\titemData = this.data[index];\n\t\t\t\t\t// real item or stub\n\t\t\t\t\tif ( itemData !== undefined ) {\n\t\t\t\t\t\t// correct inner data/index and render\n\t\t\t\t\t\t$item.data  = itemData;\n\t\t\t\t\t\t$item.index = index;\n\t\t\t\t\t\tthis.renderItem($item, itemData);\n\n\t\t\t\t\t\t// apply CSS\n\t\t\t\t\t\tif ( itemData.mark ) {\n\t\t\t\t\t\t\t$item.classList.add('mark');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$item.classList.remove('mark');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// nothing to render\n\t\t\t\t\t\t$item.data = $item.index = undefined;\n\t\t\t\t\t\t$item.innerHTML = '';\n\t\t\t\t\t\t$item.ready = false;\n\t\t\t\t\t}\n\t\t\t\t\tindex++;\n\t\t\t\t}\n\n\t\t\t\t// there are some listeners\n\t\t\t\tif ( this.events['move:view'] !== undefined ) {\n\t\t\t\t\t// notify listeners\n\t\t\t\t\tthis.emit('move:view', {prevIndex: prevIndex, currIndex: currIndex});\n\t\t\t\t}\n\n\t\t\t\t// full rebuild\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// nothing was done\n\t\t\treturn false;\n\t\t};\n\t}\n\tthis.show();\n\tsettingsList.focus();\n\tsettingsList.focusIndex(0);\n\tpanel.focusEntry = settingsList;\n};\n\nmodule.exports = panel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/page.main/tabs/settings.js\n// module id = 64\n// module chunks = 0","/**\n * @module stb/ui/modal.message\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar ModalBox = require('spa-component-modal');\n\n\n/**\n * Base modal window implementation.\n *\n * @constructor\n * @extends ModalBox\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n */\nfunction ModalMessage ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEBUG ) {\n        if ( typeof config !== 'object' ) { throw new Error(__filename + ': wrong config type'); }\n        // init parameters checks\n        if ( config.className && typeof config.className !== 'string' ) { throw new Error(__filename + ': wrong or empty config.className'); }\n    }\n\n    // set default className if classList property empty or undefined\n    config.className = 'modalMessage' + (config.className || '');\n\n    // parent constructor call\n    ModalBox.call(this, config);\n\n    this.$header  = this.$body.appendChild(document.createElement('div'));\n    this.$content = this.$body.appendChild(document.createElement('div'));\n    this.$footer  = this.$body.appendChild(document.createElement('div'));\n\n    this.$header.className  = 'header';\n    this.$content.className = 'content';\n    this.$footer.className  = 'footer';\n\n    this.$header.innerText  = 'header';\n    this.$content.innerText = 'content';\n    this.$footer.innerText  = 'footer';\n\n    this.hide();\n}\n\n\n// inheritance\nModalMessage.prototype = Object.create(ModalBox.prototype);\nModalMessage.prototype.constructor = ModalMessage;\n\n\n\n// public\nmodule.exports = ModalMessage;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/ui/modal.message.js\n// module id = 65\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base modal window implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n */\nfunction Modal ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$body ) {\n            throw new Error(__filename + ': config.$body should not be provided manually');\n        }\n    }\n\n    // create centered div\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // add table-cell wrapper\n    this.$node.appendChild(document.createElement('div').appendChild(this.$body).parentNode);\n}\n\n\n// inheritance\nModal.prototype = Object.create(Component.prototype);\nModal.prototype.constructor = Modal;\n\n// set component name\nModal.prototype.name = 'spa-component-modal';\n\n\n// public\nmodule.exports = Modal;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-component-modal/index.js\n// module id = 66\n// module chunks = 0","/**\n * @author Igor Zaporozhets <deadbyelpy@gmail.com>\n */\n\n'use strict';\n\n\nmodule.exports = {\n\tinitPlayer           : window.top.gSTB.InitPlayer,\n\tsaveUserData         : window.top.gSTB.SaveUserData,\n\tloadUserData         : window.top.gSTB.LoadUserData,\n\tsetPosTime           : window.top.gSTB.SetPosTime,\n\tgetPosTime           : window.top.gSTB.GetPosTime,\n\tplay                 : window.top.gSTB.Play,\n\tpause                : window.top.gSTB.Pause,\n\tcontinuePlay         : window.top.gSTB.Continue,\n\tgetVolume            : window.top.gSTB.GetVolume,\n\tsetVolume            : window.top.gSTB.SetVolume,\n\tsetNativeStringMode  : window.top.gSTB && window.top.gSTB.SetNativeStringMode ? window.top.gSTB.SetNativeStringMode : function () {},\n\tsetServiceButtonState: window.top.gSTB.EnableServiceButton,\n\tsetVKButtonState     : window.top.gSTB.EnableVKButton,\n\tsetTvButtonState     : window.top.gSTB.EnableTvButton,\n\tsetAppButtonState    : window.top.gSTB.EnableAppButton,\n\thideVK               : window.top.gSTB.HideVirtualKeyboard,\n\tshowVK               : window.top.gSTB.ShowVirtualKeyboard,\n\tgetStandByStatus     : window.top.gSTB.GetStandByStatus,\n\tsetStandByStatus     : window.top.gSTB.StandBy,\n\tgetEnv               : window.top.gSTB.GetEnv,\n\tisMuted              : window.top.gSTB.GetMute,\n\tsetMute              : window.top.gSTB.SetMute,\n\tdeviceModel          : window.top.gSTB.GetDeviceModelExt\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/gstb.wrapper.js\n// module id = 67\n// module chunks = 0","'use strict';\n\nvar Emitter = require('cjs-emitter'),\n\tsettings = new Emitter();\n\nsettings.data = {\n\tquality: [gettext('Best'), '720p', '480p', '360p', '240p'],\n\tsafeSearch: [gettext('Off'), gettext('On')]\n};\n\nsettings.getNext = function ( key, index ) {\n\tif ( DEBUG ) {\n\t\tif ( !settings.data[key] ) { throw 'no key ' + key + ' in settings'; }\n\t\tif ( !settings.data[key][index])  { throw 'no index ' + index + ' in key ' + key + ' in settings'; }\n\t}\n\tif ( settings.data[key] && settings.data[key][index] ) {\n\t\t++index;\n\t\tif ( settings.data[key].length === index ) {\n\t\t\tindex = 0;\n\t\t}\n\t\tthis.emit('changed', {key: key, value: settings.data[key][index], index: index});\n\t\treturn {value: settings.data[key][index], index: index};\n\t}\n};\n\nmodule.exports = settings;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/api/model/settings.js\n// module id = 68\n// module chunks = 0","'use strict';\n\nvar keys   = require('stb-keys'),\n\tapp \t= require('mag-app'),\n\t// router = require('../../../temp/router'),\n\n\tPanel = require('stb-component-panel'),\n\tList  = require('mag-component-list'),\n\tInput = require('../../../modules/ui/input'),\n\n\tListMovies  = require('./../../list.videos.js'),\n\tplayer \t= require('../../../modules/player'),\n\n\t// SearchModel  = require('../../../modules/api/model/search'),\n\tSearchModel  = require('../../../modules/parser/models/main'),\n\t// recommedationsModel = require('../../../modules/api/model/recommedations'),\n\trecommedationsModel = new SearchModel(),\n\n\tlistMenu = require('../list.menu'),\n\tloader = require('../../loader'),\n\n\tlists = [],\n\n\t$page = document.getElementById('pm'),\n\n\tactiveList = 0,\n\n\tpanel = new Panel({\n\t\t$node: document.getElementById('pmTabMainContent'),\n\t\tvisible: false,\n\t\tclassName: 'tab hidden',\n\t\tevents: {\n\t\t\tfocus: function () {\n\t\t\t\tlists[activeList].focus();\n\t\t\t},\n\t\t\tshow: function () {\n\t\t\t\t$page.style.backgroundImage = '';\n\t\t\t}\n\t\t}\n\t}),\n\n\tinputSearch = new Input({\n\t\t$node: document.getElementById('pmMainSearch'),\n\t\t$body: document.getElementById('pmMainSearchBody'),\n\t\tclassName: 'tabInputSearch',\n\t\tevents: {\n\t\t\tfocus : function () {\n\t\t\t\tthis.setValue('');\n\t\t\t\tapp.route(app.pages.search);\n\t\t\t\t// router.navigate('ps');\n\t\t\t}\n\t\t}\n\t}),\n\n\tbottomListTopValue = 0,\n\ttopListTopValue    = 0,\n\n\ttopList = 0,\n\tbottomList = 1,\n\n\ttopPageNumber = 0,\n\tbottomPageNumber = 1,\n\n\tloadTimeout = -1,\n\tblockMove = true;\n\nfunction moveLists ( sourceListNumber, isGoingUp ) {\n\tvar targetList = sourceListNumber ^ 1;\n\n\tconsole.log('moveLists: ' + targetList + ' ' + bottomList);\n\t//debug.info(blockMove, 'blockMove');\n\tif ( blockMove ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( isGoingUp ) {\n\t\t\t\t//debug.info(topPageNumber - 1, 'topPageNumber');\n\t\t\t} else {\n\t\t\t\t//debug.info(bottomPageNumber - 1, 'bottomPageNumber');\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\tif ( isGoingUp ) {\n\t\tblockMove = true;\n\t\trecommedationsModel.getPage({page: (topPageNumber - 1), count: 1}/* ).then */, function ( error, data ) {\n\t\t\t--topPageNumber;\n\t\t\t--bottomPageNumber;\n\n\t\t\t// lists[targetList].model.filter({channel: response[0]});\n\t\t\ttopList = targetList;\n\t\t\tbottomList = sourceListNumber;\n\t\t\tactiveList = targetList;\n\n\t\t\tlists[targetList].data = data;\n\t\t\tlists[targetList].viewIndex = null;\n\t\t\tlists[targetList].focusIndex(0);\n\t\t\t// lists[targetList].renderView(0);\n\t\t\tlists[targetList].emit('view:ready');\n\t\t\t// lists[targetList].focus();\n\t\t\t// topList = targetList;\n\t\t});\n\t} else {\n\t\tif ( lists[bottomList].data.length === 0 ) {\n\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\treturn;\n\t\t}\n\t\tblockMove = true;\n\t\trecommedationsModel.getPage({page: (bottomPageNumber + 1), count: 1}/* ).then */, function ( error, data ) {\n\t\t\tif ( !data ) {\n\t\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( error || data.length === 0 ) {\n\t\t\t\t++topPageNumber;\n\t\t\t\t++bottomPageNumber;\n\t\t\t\t// lists[sourceListNumber].model.filter({channel: {id: '!', title: ''}});\n\t\t\t\tlists[sourceListNumber].data = [];\n\t\t\t\tlists[sourceListNumber].viewIndex = null;\n\t\t\t\t// lists[sourceListNumber].renderView(0);\n\t\t\t\tlists[sourceListNumber].focusIndex(0);\n\t\t\t\tlists[sourceListNumber].$title.innerHTML = '';\n\t\t\t\ttopList = targetList;\n\t\t\t\tbottomList = sourceListNumber;\n\t\t\t\tactiveList = targetList;\n\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\tlists[activeList].focus();\n\t\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\t} else {\n\t\t\t\t++topPageNumber;\n\t\t\t\t++bottomPageNumber;\n\n\t\t\t\t// lists[sourceListNumber].model.filter({channel: response[0]});\n\n\t\t\t\ttopList = targetList;\n\t\t\t\tbottomList = sourceListNumber;\n\t\t\t\tactiveList = targetList;\n\t\t\t\tlists[sourceListNumber].data = data;\n\t\t\t\tlists[sourceListNumber].viewIndex = null;\n\t\t\t\tlists[sourceListNumber].renderView(0);\n\t\t\t\tlists[sourceListNumber].focusIndex(0);\n\t\t\t\tlists[sourceListNumber].emit('view:ready');\n\t\t\t\t// lists[topList].focus();\n\t\t\t}\n\t\t});\n\t}\n}\n\npanel.activate = function () {\n\tthis.show();\n\tclearTimeout(loadTimeout);\n\tloadTimeout = setTimeout(function () {\n\t\tloader.hide();\n\t}, 10000);\n\n\tif ( lists.length === 0 ) {\n\t\tloader.show();\n\t\tlists.push(new ListMovies({\n\t\t\t$node     : document.getElementById('pmListMainVideos0Node'),\n\t\t\t$body     : document.getElementById('pmListMainVideos0Body'),\n\t\t\t$title    : document.getElementById('pmMainChannelTitle0'),\n\t\t\tclassName : 'listMovie0Node',\n\t\t\tmodel     : new SearchModel({\n\t\t\t\ttype: 'video'\n\t\t\t}),\n\t\t\tsize      : 5,\n\t\t\tviewIndex : 0,\n\t\t\tfocusIndex: 0,\n\t\t\ttype      : List.prototype.TYPE_HORIZONTAL,\n\t\t\tevents    : {\n\t\t\t\toverflow : function ( event ) {\n\t\t\t\t\tif ( event.direction === keys.left ) {\n\t\t\t\t\t\tlistMenu.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'view:ready': function () {\n\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t}\n\t\t\t\t\t// this.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\tthis.$title.innerHTML = '';\n\t\t\t\t\tif ( lists[activeList] && lists[activeList].data.length > 0 && lists[activeList].data[0].value ) {\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t}\n\t\t\t\t\tthis.show();\n\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\tblockMove = false;\n\t\t\t\t},\n\t\t\t\t'view:error': function ( error ) {\n\t\t\t\t\tblockMove = false;\n\t\t\t\t\tif ( error === 'empty' ) {\n\t\t\t\t\t\tthis.data = [];\n\t\t\t\t\t\tthis.viewIndex = null;\n\t\t\t\t\t\tthis.renderView(0);\n\t\t\t\t\t\tthis.focusIndex(0);\n\t\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tthis.show();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\t} else if ( topPageNumber === 0 ) {\n\t\t\t\t\t\tmoveLists(0, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'click:item': function ( event ) {\n\t\t\t\t\tif ( event.$item.data.id ) {\n\t\t\t\t\t\tplayer.setContent({\n\t\t\t\t\t\t\tchannel : this.model.channel,\n\t\t\t\t\t\t\tvideo   : event.$item.data,\n\t\t\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\t\t\tposition: event.$item.index\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfocus: function () {\n\t\t\t\t\tpanel.focusEntry = this;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tlists.push(new ListMovies({\n\t\t\t$node     : document.getElementById('pmListMainVideos1Node'),\n\t\t\t$body     : document.getElementById('pmListMainVideos1Body'),\n\t\t\t$title    : document.getElementById('pmMainChannelTitle1'),\n\t\t\tclassName : 'listMovie1Node',\n\t\t\tmodel     : new SearchModel({\n\t\t\t\ttype: 'video'\n\t\t\t}),\n\t\t\tsize      : 5,\n\t\t\tviewIndex : 0,\n\t\t\tfocusIndex: 0,\n\t\t\ttype      : List.prototype.TYPE_HORIZONTAL,\n\t\t\tevents    : {\n\t\t\t\toverflow: function ( event ) {\n\t\t\t\t\tif ( event.direction === keys.left ) {\n\t\t\t\t\t\tlistMenu.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'view:ready': function () {\n\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\tthis.$title.innerHTML = ''; //this.model.channel.title;\n\t\t\t\t\tif ( lists[activeList] && lists[activeList].data.length > 0 && lists[activeList].data[0].value ) {\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t}\n\t\t\t\t\tthis.show();\n\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\tblockMove = false;\n\t\t\t\t},\n\t\t\t\t'view:error': function ( error ) {\n\t\t\t\t\tblockMove = false;\n\t\t\t\t\tif ( error === 'empty' ) {\n\t\t\t\t\t\tthis.data = [{\n\t\t\t\t\t\t\tid          : '',\n\t\t\t\t\t\t\tvalue       : '',\n\t\t\t\t\t\t\tpublishedAt : '',\n\t\t\t\t\t\t\ticon        : 'img/no.image.png',\n\t\t\t\t\t\t\tduration    : '',\n\t\t\t\t\t\t\ttitle       : gettext('No videos'),\n\t\t\t\t\t\t\tchannelTitle: '',\n\t\t\t\t\t\t\tviewCount   : '',\n\t\t\t\t\t\t\tlocale      : {\n\t\t\t\t\t\t\t\tpublishedAt: '', viewCount: '', channelTitle: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}];\n\t\t\t\t\t\tthis.viewIndex = null;\n\t\t\t\t\t\tthis.renderView(0);\n\t\t\t\t\t\tthis.focusIndex(0);\n\t\t\t\t\t\tpanel.focusEntry = lists[activeList];\n\t\t\t\t\t\tlists[topList].$node.style.top = topListTopValue;\n\t\t\t\t\t\tif ( lists[bottomList] ) {\n\t\t\t\t\t\t\tlists[bottomList].$node.style.top = bottomListTopValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$title.innerHTML = this.model.channel.title;\n\t\t\t\t\t\tthis.show();\n\t\t\t\t\t\tloader.hide();\n\t\t\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\t\t\tlists[activeList].focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'click:item': function ( event ) {\n\t\t\t\t\tif ( event.$item.data.id ) {\n\t\t\t\t\t\tplayer.setContent({\n\t\t\t\t\t\t\tchannel : this.model.channel,\n\t\t\t\t\t\t\tvideo   : event.$item.data,\n\t\t\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\t\t\tposition: event.$item.index\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfocus: function () {\n\t\t\t\t\tpanel.focusEntry = this;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\t//topListTopValue = window.getComputedStyle(lists[0].$node).getPropertyValue('top');\n\t\tpanel.add(lists[0]);\n\t\tpanel.add(lists[1]);\n\t\tlists[0].addListener('keydown', function ( event ) {\n\t\t\tif ( event.code === keys.down ) {\n\t\t\t\tmoveLists(0, false);\n\t\t\t} else if ( event.code === keys.up ) {\n\t\t\t\tif ( topPageNumber > 0 ) {\n\t\t\t\t\tmoveLists(0, true);\n\t\t\t\t} else {\n\t\t\t\t\tinputSearch.focus();\n\t\t\t\t}\n\t\t\t} else if ( event.code === keys.playPause ) {\n\t\t\t\tplayer.setContent({\n\t\t\t\t\tchannel : this.model.channel,\n\t\t\t\t\tvideo   : this.$focusItem.data,\n\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\tposition: this.$focusItem.index\n\t\t\t\t});\n\t\t\t}\n\t\t\t//debug.log(event.stop);\n\t\t});\n\t\tlists[1].addListener('keydown', function ( event ) {\n\t\t\tif ( event.code === keys.down ) {\n\t\t\t\tmoveLists(1, false);\n\t\t\t} else if ( event.code === keys.up ) {\n\t\t\t\tif ( topPageNumber > 0 ) {\n\t\t\t\t\tmoveLists(1, true);\n\t\t\t\t} else {\n\t\t\t\t\tinputSearch.focus();\n\t\t\t\t}\n\t\t\t} else if ( event.code === keys.playPause ) {\n\t\t\t\tplayer.setContent({\n\t\t\t\t\tchannel : this.model.channel,\n\t\t\t\t\tvideo   : this.$focusItem.data,\n\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\tposition: this.$focusItem.index\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tbottomListTopValue = window.getComputedStyle(lists[1].$node).getPropertyValue('top');\n\t\trecommedationsModel.getPage({page: 0, count: 1}/* ).then */, function (error, data ) {\n\t\t\tif ( error ) {\n\t\t\t\tdata = [];\n\t\t\t}\n\t\t\ttopPageNumber = 0;\n\t\t\ttopList = 0;\n\t\t\tbottomList = 1;\n\t\t\tbottomPageNumber = 1;\n\t\t\tactiveList = 0;\n\t\t\tlists[topList].data = data;\n\t\t\tlists[topList].viewIndex = null;\n\t\t\tlists[topList].renderView(0);\n\t\t\tlists[topList].focusIndex(0);\n\t\t\tlists[topList].emit('view:ready');\n\t\t\tlists[activeList].focus();\n\t\t\t// .filter({channel: data[0]});\n\t\t\trecommedationsModel.getPage({page: 1, count: 1}/* ).then */, function ( error, data ) {\n\t\t\t\t// lists[bottomList].model.filter({channel: data[0]});\n\t\t\t\tif ( error ) {\n\t\t\t\t\tdata = [];\n\t\t\t\t}\n\t\t\t\tlists[bottomList].data = data;\n\t\t\t\tlists[bottomList].viewIndex = null;\n\t\t\t\tlists[bottomList].renderView(0);\n\t\t\t\tlists[bottomList].focusIndex(0);\n\t\t\t\tlists[bottomList].emit('view:ready');\n\t\t\t\t// lists[activeList].focus();\n\t\t\t});\n\t\t});\n\t\t// })['catch'](function ( e ) {\n\t\t// \t//debug.log(e);\n\t\t// });\n\t} else {\n\t\tif ( lists[activeList].data.length ) {\n\t\t\tlists[activeList].focus();\n\t\t}\n\t}\n\twindow.lists = lists;\n};\n\npanel.add(inputSearch);\n\nmodule.exports = panel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/page.main/tabs/main.content.js\n// module id = 69\n// module chunks = 0","/**\n * youtube parser for main page\n * @author bas\n */\n\n'use strict';\n\nvar tools   = require('./tools'),\n    ajax    = tools.ajax,\n    Emitter = require('cjs-emitter');\n\n/**\n * Main page parser\n *\n * @param {string} textForParse html with video data\n *\n * @return {Array} items videos\n */\nfunction parserForMainPage ( textForParse ) {\n    var items = [],\n        id, channelTitle, duration, viewCount, publishedAt, title, icon, channelId,\n        tmp, startIndex, endIndex, text, index, type, playlistId, isLive;\n\n    // split by items\n    tmp = textForParse.split('<li class=\"yt-shelf-grid-item');\n    // check each piece of html for video data\n    for ( index = 0; index < tmp.length; index++ ) {\n        text = tmp[index];\n\n        if ( text.indexOf('yt-lockup-content') === -1 ) {\n            continue; // this part of text don't have video block\n        }\n\n        if ( text.indexOf('yt-lockup-playlist') !== -1 ) {     // playlist\n            type = 'playlist';\n        } else if ( text.indexOf('yt-lockup-video') !== -1 &&  // video\n            text.indexOf('branded-page-module') === -1 &&      // not branded (add parser for them?)\n            text.indexOf('data-set-reminder-text') === -1 ) {  // not a video but an ad. We don't need fake videos.\n            type = 'video';\n            isLive = text.indexOf('yt-badge-live') !== -1;\n        } else {\n            continue;\n        }\n\n        // video/playlist thumbnail, example: \"https://i.ytimg.com/vi/ktiONWfSL48/hqdefault.jpg?custom=true&w=196&jpgq=90&sp=68&sigh=e_W4dPkywvlYwi8av9yYdwHQi8Y\"\n        startIndex = text.indexOf('//i.ytimg');\n        endIndex = text.indexOf('\"', startIndex);\n        icon = 'https:' + text.substring(startIndex, endIndex).replace(/&amp;/g, '&');\n        // video/playlist/channel channel id, example: \"UCY0C6A3t3RTUN3BB65rWAgQ\"\n        if ( text.indexOf('<a href=\"/channel/') === -1 ) {\n            if ( text.indexOf('data-channel-external-id=') === -1 ) {\n                if ( text.indexOf('<a href=\"/user/') === -1 ) {\n                    channelId = '';\n                } else {\n                    startIndex = text.indexOf('<a href=\"/user/') + 10;\n                    endIndex = text.indexOf('\"', startIndex);\n                    channelId = text.substring(startIndex, endIndex);\n                }\n            } else {\n                startIndex = text.indexOf('data-channel-external-id=\"') + 26;\n                endIndex = text.indexOf('\"', startIndex);\n                channelId = 'channel/' + text.substring(startIndex, endIndex);\n            }\n        } else {\n            startIndex = text.indexOf('<a href=\"/channel/') + 10;\n            endIndex = text.indexOf('\"', startIndex);\n            channelId = text.substring(startIndex, endIndex);\n        }\n\n        if ( type === 'playlist' ) {\n            // playlist title, example: \"Nasa LIVE stream - Earth From Space LIVE\"\n            startIndex = text.indexOf('\" dir=\"ltr\">') + 12;\n            endIndex = text.indexOf('</a><span', startIndex);\n            title = text.substring(startIndex, endIndex);\n            if ( text.indexOf('<div class=\"yt-lockup-byline \">YouTube</div>') !== -1 ) {\n                channelId = ''; // this channel don't have owner - it was created by youtube automatically\n            }\n            // playlist id, example: \"/watch?v=5Fn8-hoyLVg&list=LLpmD3iT-8TQzRuygIiS9bAw\"\n            startIndex = text.indexOf('<a href=\"/watch?v=') + 9;\n            endIndex = text.indexOf('\"', startIndex);\n            playlistId = text.substring(startIndex, endIndex).replace('&amp;', '&');\n            // channel title, example: \"Conor Maynard Covers | 2016\"\n            startIndex = text.indexOf('\" dir=\"ltr\">') + 12;\n            endIndex = text.indexOf('<', startIndex);\n            channelTitle = text.substring(startIndex, endIndex);\n\n            items.push({\n                value: 1,           // always 1, stb hack\n                playlistId: playlistId,\n                channel: {\n                    title: channelTitle.substr(0, 100),\n                    id: channelId\n                },\n                title: title.substr(0, 100),\n                icon: icon,\n                type: 'playlist',\n                channelTitle: channelTitle.substr(0, 100),\n                viewCount: ' ',      // not used by application\n                duration: ' ',       // not used by application\n                publishedAt: ' ',    // parser can't get this information\n                locale: {\n                    publishedAt: ' ',\n                    viewCount: ' ',  // not used by application\n                    channelTitle: channelTitle.substr(0, 100)\n                }\n            });\n        }\n\n        if ( type === 'video' ) {\n            // video id, example: \"ktiONWfSL48\"\n            startIndex = text.indexOf('data-context-item-id=\"') + 22;\n            endIndex = text.indexOf('\"', startIndex);\n            id = text.substring(startIndex, endIndex);\n            // video duration, example: \"11:59:59\"\n            startIndex = text.indexOf('<span class=\"video-time\" aria-hidden=\"true\">') + 44;\n            endIndex = text.indexOf('</span>', startIndex);\n            duration = text.substring(startIndex, endIndex);\n            // views count, example: \"10,000,002\"\n            startIndex = text.indexOf('<ul class=\"yt-lockup-meta-info\"><li>') + 36;\n            endIndex = text.indexOf(' ', startIndex);\n            viewCount = text.substring(startIndex, endIndex);\n            // time passed since publishing, example: \"1 month ago\"\n            startIndex = text.indexOf('</li><li>', startIndex) + 9; // text not unique: need to use viewCount position\n            endIndex = text.indexOf('</li></ul></div>', startIndex);\n            publishedAt = text.substring(startIndex, endIndex);\n            // video title, example: \"Nasa LIVE stream - Earth From Space LIVE\"\n            startIndex = text.indexOf('\" dir=\"ltr\">') + 12;\n            if ( startIndex === (-1 + 12) ) { // strange title, try again\n                startIndex = text.indexOf(' dir=\"ltr\">') + 11;\n                if ( startIndex === ( -1 + 11) ) { // what if this is Arabic or another right-to-left text?\n                    startIndex = text.indexOf('\" dir=\"rtl\">') + 12;\n                }\n            }\n            endIndex = text.indexOf('</', startIndex);\n            title = text.substring(startIndex, endIndex);\n            // channel title, example: \"Ленинград | Leningrad\"\n            startIndex = text.indexOf('<a href=\"', endIndex);\n            startIndex = text.indexOf('>', startIndex) + 1; // text not unique: need to use title position\n            endIndex = text.indexOf('</a>', startIndex);\n            channelTitle = text.substring(startIndex, endIndex);\n\n            items.push({\n                value: 1,           // always 1, stb hack\n                id: id,\n                channelTitle: channelTitle.substr(0, 100),\n                duration: isLive ? '' : duration.substr(0, 100),\n                realDuration: isLive ? '' : duration.substr(0, 100),\n                viewCount: viewCount.substr(0, 100),\n                publishedAt: isLive ? '' : publishedAt.substr(0, 100),\n                dimension: '',      // not used by application\n                definition: '',     // not used by application\n                title: title.substr(0, 100),\n                icon: icon,\n                channelId: channelId,\n                type: 'video',\n                locale: {\n                    publishedAt: isLive ? '' : publishedAt.substr(0, 100),\n                    viewCount: viewCount.substr(0, 100),\n                    channelTitle: channelTitle.substr(0, 100)\n                }\n            });\n        }\n    }\n\n    return items;\n}\n\n/**\n * @constructor\n */\nfunction MainModel () {\n    Emitter.call(this);\n\n    this.pages = {};\n}\n\nMainModel.prototype = Object.create(Emitter.prototype);\nMainModel.prototype.constructor = MainModel;\n\n\n/**\n * Get parsed page data\n *\n * @param {Object} params filters\n * @param {number} [params.page = 0] page number\n * @param {function} callback callback\n */\nMainModel.prototype.getPage = function ( params, callback ) {\n    var self = this;\n\n    params.page = +params.page || 0;\n\n    if ( this.pages[params.page] && this.pages[params.page].parseId ) {\n        if ( this.pages[params.page].cached ) {\n            callback(null, this.pages[params.page].data);\n        } else {\n            ajax('get', 'https://www.youtube.com' + this.pages[params.page].parseId, function ( data, status ) {\n                var config, errorText, startIndex, endIndex, parseId;\n\n                if ( status !== 200 ) {\n                    callback({message: 'request got bad http status (' + status + ')'}, []);\n                    return; // eslint-disable-line\n                }\n\n                try {\n                    config = JSON.parse(data);\n                } catch ( error ) {\n                    errorText = error;\n                    config = '';\n                }\n\n                if ( !config ) {\n                    callback(\n                        {\n                            message: 'parse error for page id ' + self.pages[params.page].parseId,\n                            code: errorText\n                        },\n                        []\n                    );\n                    return; // eslint-disable-line\n                }\n                // check if this is last page\n                if ( (config.load_more_widget_html.trim()).length > 10 ) {\n                    // add next page parse id to pages hash\n                    startIndex = config.load_more_widget_html.indexOf('data-uix-load-more-href=\"') + 25;\n                    endIndex = config.load_more_widget_html.indexOf('\"', startIndex);\n                    parseId = config.load_more_widget_html.substring(startIndex, endIndex).replace(/&amp;/g, '&');\n                } else {\n                    parseId = '';\n                }\n                self.pages[params.page + 1] = {\n                    parseId: parseId,\n                    cached: false\n                };\n                // add page to cache\n                self.pages[params.page].cached = true;\n                self.pages[params.page].data = parserForMainPage(config.content_html);\n\n                callback(null, self.pages[params.page].data);\n            });\n        }\n    } else if ( !params.page ) {\n        ajax('get', 'https://www.youtube.com/', function ( data, status ) {\n            var html, startIndex, endIndex;\n\n            if ( status !== 200 ) {\n                callback({message: 'request got bad http status (' + status + ')'}, []);\n                return; // eslint-disable-line\n            }\n\n            // add next page parse id to pages hash\n            startIndex = data.indexOf('data-uix-load-more-href=\"') + 25;\n            endIndex = data.indexOf('\"', startIndex);\n            self.pages[params.page + 1] = {parseId: data.substring(startIndex, endIndex).replace(/&amp;/g, '&'), cached: false};\n            // remove useless footer and header parts\n            html = data.slice(data.indexOf('id=\"feed-main-'), data.indexOf('id=\"feed-error\"'));\n            // add first page to cache\n            self.pages[0] = {\n                cached: true,\n                parseId: '   ',\n                data: parserForMainPage(html)\n            };\n\n            callback(null, self.pages[0].data);\n        });\n    } else if ( this.pages[params.page] && !this.pages[params.page].parseId ) {\n        callback(null, []); // last page\n    } else {\n        callback({message: 'wrong page number (page id not found in cache)'}, []);\n    }\n};\n\n\nMainModel.prototype.filter = function () {\n    if ( DEVELOP ) {\n        console.log('filter at MainModel not available');\n    }\n\n    return false;\n};\n\n\n// public export\nmodule.exports = MainModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/parser/models/main.js\n// module id = 70\n// module chunks = 0","/**\n * Loading page implementation.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar id = 'ps',\n\tkeys = require('stb-keys'),\n\tapp = require('mag-app'),\n\t// router = require('../temp/router'),\n\n\tPage = require('stb-component-page'),\n\tInput = require('../components/input.native'),\n\n\tMovieList = require('../components/list.videos'),\n\n\tSearchModel = require('../modules/parser/models/search'),\n\tplayer = require('../modules/player'),\n\n\tplaylistModel = new (require('../modules/parser/models/playlist'))(),\n\tdebounce = require('../modules/util/debounce'),\n\n\tkeyboard,\n\twidgetHelp = require('../components/widget.help'),\n\n\tlang = require('../../../config/lang'),\n\t//listSuggestions   = require('../components/page.search/list.suggestions'),\n\n\tpage = new Page({$node: document.getElementById(id)}),\n\tsearchInput = new Input({\n\t\t$node: document.getElementById('psSearch'),\n\t\t$body: document.getElementById('psSearchInput')\n\t}),\n\n\tloader = require('../components/loader'),\n\n\tneedRedraw = true,// parseInt(gSTB.GetDeviceModel().replace('MAG', ''), 10) <= 254,\n\n\tsearchQuery = ' ',\n\n\tmovies = null, loadTimeout = -1, lazyLoad, caretLastPosition;\n\npage.addListener('keydown', function ( event ) {\n\tif ( event.code === keys.back ) {\n\t\tapp.route(app.pages.main);\n\t\tevent.stop = true;\n\t\t//router.back();\n\t}\n});\n\npage.addListener('hide', function () {\n\tloader.hide();\n});\n\nlazyLoad = debounce(function ( event ) {\n\tsearchQuery = event.value;\n\tmovies.model.filter({searchQuery: event.value});\n\tclearTimeout(loadTimeout);\n\tloadTimeout = setTimeout(function () {\n\t\tloader.hide();\n\t}, 5000);\n}, 1000);\n\npage.addListener('show', function ( data ) {\n\tdata = data.data || {};\n\twidgetHelp.updateView({\n\t\tSEARCH: {\n\t\t\ticon: 'search',\n\t\t\tvisible: false,\n\t\t\ttext: ''\n\t\t},\n\t\tMORE: {\n\t\t\ticon: 'more',\n\t\t\tvisible: false,\n\t\t\ttext: ''\n\t\t},\n\t\tGUIDE: {\n\t\t\ticon: 'info',\n\t\t\tvisible: false,\n\t\t\ttext: ''\n\t\t},\n\t\tBACK: {\n\t\t\ticon: 'back',\n\t\t\tvisible: true,\n\t\t\ttext: gettext('Back')\n\t\t}\n\t});\n\tloader.hide();\n\tif ( !page.activeComponent ) {\n\t\tif ( needRedraw ) {\n\t\t\twindow.psSearchIcon.style.display = 'block';\n\t\t\tsetTimeout(function () {\n\t\t\t\twindow.psSearchIcon.style.display = 'inline-table';\n\t\t\t}, 0);\n\t\t}\n\t\tif ( page.activeComponent === null || page.activeComponent === searchInput ) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tsearchInput.focus();\n\t\t\t\twindow.searchInput = searchInput;\n\t\t\t\tif ( data.search ) {\n\t\t\t\t\tsearchInput.setValue(data.search);\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}\n\t}\n});\n\n(function () {\n\tkeyboard = require('../components/page.search/keyboard.js');\n\tsearchInput.addListener('keydown', function ( event ) {\n\t\tif ( event.code === keys.down ) {\n\t\t\tcaretLastPosition = searchInput.getCaretPosition();\n\t\t\t//debug.info(caretLastPosition, 'caretLastPosition');\n\t\t\tkeyboard.focus();\n\t\t} else if ( event.code === keys.up && movies.visible ) {\n\t\t\tmovies.focus();\n\t\t\tif ( !movies.$focusItem ) {\n\t\t\t\tmovies.focusIndex(0);\n\t\t\t}\n\t\t} else if ( event.code === keys.back && this.$body.value.length === 0 ) {\n\t\t\tapp.route(app.pages.main);\n\t\t\tevent.stop = true;\n\t\t\t// router.back();\n\t\t}\n\t});\n\tsearchInput.addListener('input', function ( event ) {\n\t\tmovies.hide();\n\t\tloader.show();\n\t\tlazyLoad(event);\n\t});\n\n\tkeyboard.addListener('overflow', function ( event ) {\n\t\tif ( event.direction === keys.up ) {\n\t\t\tsearchInput.focus();\n\t\t}\n\t});\n\n\tkeyboard.addListener('click:item', function ( event ) {\n\t\t//debug.log(event.$item.data.className);\n\t\tif ( event.$item.data.className === 'symbol' ) {\n\t\t\tsearchInput.addChar(event.$item.data.value, caretLastPosition);\n\t\t\t++caretLastPosition;\n\t\t} else if ( event.$item.data.className.indexOf('keySpace') !== -1 ) {\n\t\t\tsearchInput.addChar(' ', caretLastPosition);\n\t\t\tcaretLastPosition = searchInput.getCaretPosition();\n\t\t} else if ( event.$item.data.className.indexOf('keyDelete') !== -1 ) {\n\t\t\tsearchInput.removeChar();\n\t\t\tcaretLastPosition = searchInput.getCaretPosition();\n\t\t} else if ( event.$item.data.className.indexOf('delete') !== -1 ) {\n\t\t\tsearchInput.setValue('');\n\t\t\tcaretLastPosition = searchInput.getCaretPosition();\n\t\t}\n\t});\n\tkeyboard.addListener('keydown', function () {\n\t\tlazyLoad({value: searchInput.value});\n\t});\n\tmovies = new MovieList({\n\t\t$node: document.getElementById('psListVideos'),\n\t\tmodel: new SearchModel({order: 'relevance'}),\n\t\tclassName: 'movieList',\n\t\tsize: 5,\n\t\tevents: {\n\t\t\tkeydown: function ( event ) {\n\t\t\t\tswitch ( event.code ) {\n\t\t\t\t\tcase keys.down:\n\t\t\t\t\t\tsearchInput.focus();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase keys.right:\n\t\t\t\t\t\tif ( this.$focusItem.index < this.data.length - 1 ) {\n\t\t\t\t\t\t\tif ( this.$focusItem.index > 0 ) {\n\t\t\t\t\t\t\t\tthis.activePage++;\n\t\t\t\t\t\t\t\tthis.renderView(this.activePage);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.focusIndex(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase keys.left:\n\t\t\t\t\t\t// cursor move only on arrow keys\n\t\t\t\t\t\tif ( this.activePage > 0 ) {\n\t\t\t\t\t\t\tthis.activePage--;\n\t\t\t\t\t\t\tthis.renderView(this.activePage);\n\t\t\t\t\t\t} else if ( this.$focusItem.index === 1 ) {\n\t\t\t\t\t\t\tthis.focusIndex(0);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.move(event.code);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase keys.ok:\n\t\t\t\t\t\t// notify listeners\n\t\t\t\t\t\tthis.emit('click:item', {$item: this.$focusItem, event: event});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'click:item': function ( event ) {\n\t\t\t\tif ( event.$item.data.type === 'video' ) {\n\t\t\t\t\tplayer.setContent({\n\t\t\t\t\t\tvideo: event.$item.data,\n\t\t\t\t\t\tplaylist: this.data,\n\t\t\t\t\t\tposition: event.$item.index\n\t\t\t\t\t});\n\t\t\t\t} else if ( event.$item.data.type === 'playlist' ) {\n\t\t\t\t\t//debug.info(event.$item.data, 'event.$item.data');\n\t\t\t\t\tplaylistModel.getPage({\n\t\t\t\t\t\tplaylistId: event.$item.data.playlistId\n\t\t\t\t\t},/*).then(*/function ( error, items ) {\n\t\t\t\t\t\t//debug.info(items[0]);\n\t\t\t\t\t\tplayer.setContent({\n\t\t\t\t\t\t\tchannel: event.$item.data.channel,\n\t\t\t\t\t\t\tvideo: items[0],\n\t\t\t\t\t\t\tplaylist: items,\n\t\t\t\t\t\t\tposition: 0\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else if ( event.$item.data.type === 'channel' ) {\n\t\t\t\t\tapp.route(app.pages.main, {channel: event.$item.data});\n\t\t\t\t\t// router.navigate('pm', {\n\t\t\t\t\t// \tchannel: event.$item.data\n\t\t\t\t\t// });\n\t\t\t\t}\n\t\t\t},\n\t\t\t'view:ready': function () {\n\t\t\t\tclearTimeout(loadTimeout);\n\t\t\t\tloader.hide();\n\t\t\t\tthis.show();\n\t\t\t\tthis.focusIndex(0);\n\t\t\t}\n\t\t},\n\t\trender: function ( $item, data ) {\n\t\t\tvar $container, $tileTop, $tileBottom;\n\n\t\t\t//debug.info($item.ready);\n\t\t\tif ( $item.ready ) {\n\t\t\t\t$item.$videoThumb.className = 'thumb ' + data.type;\n\t\t\t\t$item.$videoThumb.style.backgroundImage = 'url(' + data.icon + ')';\n\t\t\t\t$item.$videoTitle.innerText = data.title;\n\t\t\t\t$item.$videoTitle.className = 'title ' + data.type;\n\t\t\t\t$item.$videoAthour.className = 'uploader ' + data.type;\n\t\t\t\tif ( data.type === 'video' ) {\n\t\t\t\t\t$item.$videoAthour.innerText = data.locale.channelTitle;\n\t\t\t\t\t$item.$viewCounter.innerText = data.locale.viewCount;\n\t\t\t\t\t$item.$dateAdded.innerText = data.locale.publishedAt;\n\t\t\t\t\t$item.$videoDuration.innerText = data.duration;\n\t\t\t\t} else if ( data.type === 'channel' ) {\n\t\t\t\t\t$item.$videoAthour.innerText = data.locale.subscriberCount;\n\t\t\t\t\t$item.$viewCounter.innerText = '';\n\t\t\t\t\t$item.$dateAdded.innerText = '';\n\t\t\t\t\t$item.$videoDuration.innerText = '';\n\t\t\t\t} else {\n\t\t\t\t\t$item.$videoAthour.innerText = data.locale.channelTitle;\n\t\t\t\t\t$item.$viewCounter.innerText = '';\n\t\t\t\t\t$item.$dateAdded.innerText = '';\n\t\t\t\t\t$item.$videoDuration.innerText = '';\n\t\t\t\t}\n\t\t\t\tif ( data.type === 'playlist' ) {\n\t\t\t\t\t$item.$videoDuration.className = 'icon playlist';\n\t\t\t\t} else {\n\t\t\t\t\t$item.$videoDuration.className = 'duration';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$container = document.createElement('div');\n\t\t\t\t$container.className = 'container';\n\t\t\t\t$item.appendChild($container);\n\n\t\t\t\t$tileTop = document.createElement('div');\n\t\t\t\t$tileTop.className = 'tileTop';\n\t\t\t\t$container.appendChild($tileTop);\n\n\t\t\t\t$tileBottom = document.createElement('div');\n\t\t\t\t$tileBottom.className = 'tileBottom';\n\t\t\t\t$container.appendChild($tileBottom);\n\n\t\t\t\t$item.$videoThumb = document.createElement('div');\n\t\t\t\t$item.$videoThumb.className = 'thumb ' + data.type;\n\t\t\t\t$item.$videoThumb.style.backgroundImage = 'url(' + data.icon + ')';\n\t\t\t\t$tileTop.appendChild($item.$videoThumb);\n\n\t\t\t\t$item.$videoDuration = document.createElement('div');\n\t\t\t\tif ( data.type === 'playlist' ) {\n\t\t\t\t\t$item.$videoDuration.className = 'icon playlist';\n\t\t\t\t} else {\n\t\t\t\t\t$item.$videoDuration.className = 'duration';\n\t\t\t\t}\n\t\t\t\tif ( data.duration ) {\n\t\t\t\t\t$item.$videoDuration.innerText = data.duration;\n\t\t\t\t} else {\n\t\t\t\t\t$item.$videoDuration.innerText = '';\n\t\t\t\t}\n\t\t\t\t$tileTop.appendChild($item.$videoDuration);\n\n\t\t\t\t$item.$videoTitle = document.createElement('div');\n\t\t\t\t$item.$videoTitle.className = 'title ' + data.type;\n\t\t\t\t$item.$videoTitle.innerText = data.title;\n\t\t\t\t$tileBottom.appendChild($item.$videoTitle);\n\n\t\t\t\t$item.$videoAthour = document.createElement('div');\n\t\t\t\t$item.$videoAthour.className = 'uploader ' + data.type;\n\t\t\t\tif ( data.channelTitle ) {\n\t\t\t\t\t$item.$videoAthour.innerText = data.locale.channelTitle;\n\t\t\t\t} else if ( data.type === 'channel' ) {\n\t\t\t\t\t$item.$videoAthour.innerText = data.locale.subscriberCount;\n\t\t\t\t} else {\n\t\t\t\t\t$item.$videoAthour.innerText = '';\n\t\t\t\t}\n\t\t\t\t$tileBottom.appendChild($item.$videoAthour);\n\n\t\t\t\t$item.$viewCounter = document.createElement('div');\n\t\t\t\t$item.$viewCounter.className = 'viewCount';\n\t\t\t\tif ( data.type === 'video' ) {\n\t\t\t\t\t$item.$viewCounter.innerText = data.locale.viewCount;\n\t\t\t\t} else {\n\t\t\t\t\t$item.$viewCounter.innerText = '';\n\t\t\t\t}\n\t\t\t\t$tileBottom.appendChild($item.$viewCounter);\n\n\t\t\t\t$item.$dateAdded = document.createElement('div');\n\t\t\t\t$item.$dateAdded.className = 'uploaded';\n\t\t\t\tif ( data.type === 'video' ) {\n\t\t\t\t\t$item.$dateAdded.innerText = data.locale.publishedAt;\n\t\t\t\t} else {\n\t\t\t\t\t$item.$dateAdded.innerText = '';\n\t\t\t\t}\n\t\t\t\t$tileBottom.appendChild($item.$dateAdded);\n\n\t\t\t\t$item.ready = true;\n\t\t\t}\n\t\t}\n\t});\n})();\n\n// public export\nmodule.exports = page;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/pages/search.js\n// module id = 71\n// module chunks = 0","/**\n * @module stb/ui/input\n * @author Igor Zaporozhets <deadbyelpy@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar Component = require('stb-component'),\n\tkeys      = require('stb-keys');\n\n\n/**\n * Base input field implementation.\n * Has two types: text and password.\n * Password - replace real text with '*', but real text presents in the own property 'value'.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {Element} [config.$caret] DOM element/fragment to be a input caret element\n * @param {Element} [config.$placeholder] DOM element/fragment to be a element for input placeholder\n * @param {string} [config.value='text'] input text value\n * @param {string} [config.placeholder='password'] placeholder text value\n * @param {string} [config.type=InputNative.TYPE_TEXT] input type\n * @param {string} [config.direction='ltr'] symbol direction ('rtl' - right to left, 'ltr' - left to right)\n *\n * @example\n * var InputNative = require('stb/ui/input'),\n *     input = new InputNative({\n *         placeholder: 'input password'\n *         events: {\n *             input: function ( event ) {\n *                 //debug.log(event.value);\n *             }\n *         }\n *     });\n */\nfunction InputNative ( config ) {\n\t// current execution context\n\tvar self = this;\n\n\t/**\n\t * Text value of input.\n\t *\n\t * @type {string}\n\t */\n\tthis.value = '';\n\n\t/**\n\t * InputNative type, now available only text and password.\n\t * Different logic with different types.\n\t * TYPE_TEXT - normal input.\n\t * TYPE_PASSWORD - hidden input, all chars replaced with '*', but real value is located in 'this.value'.\n\t *\n\t * @type {number}\n\t */\n\tthis.type = this.TYPE_TEXT;\n\n\t/**\n\t * InputNative type, now available only text and password.\n\t * Different logic with different types.\n\t * TYPE_TEXT - normal input.\n\t * TYPE_PASSWORD - hidden input, all chars replaced with '*', but real value is located in 'this.value'.\n\t *\n\t * @type {number}\n\t */\n\tthis.type = this.TYPE_TEXT;\n\n\t/**\n\t * Direction of the symbols in input.\n\t *\n\t * @type {string}\n\t */\n\tthis.direction = 'ltr';\n\n\n\tthis.noprevent = true;\n\n\t//this.$shadowInputNative = document.createElement('input');\n\n\n\t// sanitize\n\tconfig = config || {};\n\n\t// set default className if classList property empty or undefined\n\tconfig.className = 'inputNative ' + (config.className || '');\n\n\t// parent init\n\tComponent.call(this, config);\n\n\t// component setup\n\tthis.init(config);\n\n\tthis.addListener('keydown', function ( event ) {\n\t\tif ( event.code === keys.back ) {\n\t\t\tevent.stop = true;\n\t\t}\n\t});\n\n\t// navigation by keyboard\n\tthis.$body.addEventListener('input', function ( e ) {\n\t\t//debug.log(e.charCode, 'INPUT NATIVE');\n\t\tself.value = self.$body.value;\n\t\t// there are some listeners\n\t\tif ( self.events['input'] !== undefined ) {\n\t\t\t// notify listeners\n\t\t\tself.emit('input', {value: self.$body.value});\n\t\t}\n\t});\n\tthis.addListener('focus', function () {\n\t\tself.$body.focus();\n\t});\n\tthis.addListener('blur', function () {\n\t\t//debug.log('native input blur');\n\t\tself.$body.blur();\n\t});\n}\n\n\n// inheritance\nInputNative.prototype = Object.create(Component.prototype);\nInputNative.prototype.constructor = InputNative;\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nInputNative.prototype.init = function ( config ) {\n\t// type passed\n\tif ( config.type !== undefined ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( typeof config.type !== 'string' ) { throw 'config.type must be a string'; }\n\t\t\tif ( config.type !== 'password' && config.type !== 'number' ) { throw 'config.type wrong value'; }\n\t\t}\n\t\t// apply\n\t\tthis.$body.type = this.type = config.type;\n\t}\n\n\t// default value passed\n\tif ( config.value !== undefined ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( typeof config.value !== 'string' ) { throw 'config.value must be a string'; }\n\t\t}\n\t\t// apply\n\t\tthis.$body.value = this.value = config.value;\n\t}\n\n\t// hint\n\tif ( config.placeholder !== undefined ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( typeof config.placeholder !== 'string' ) { throw 'config.placeholder must be a string'; }\n\t\t\tif ( config.placeholder.length === 0 ) { throw 'config.placeholder must be not an empty string'; }\n\t\t}\n\t\t// apply\n\t\tthis.$body.placeholder = config.placeholder;\n\t}\n\n\t// char direction\n\tif ( config.direction !== undefined ) {\n\t\t// apply\n\t\tif ( DEBUG ) {\n\t\t\tif ( typeof config.direction !== 'string' ) { throw 'config.direction must be a string'; }\n\t\t\tif ( config.direction !== 'ltr' && config.direction !== 'rtl' ) { throw 'config.direction wrong value'; }\n\t\t}\n\t\tthis.$node.dir = this.direction = config.direction;\n\t}\n};\n\n\n/**\n * Add given char to given position.\n * Also moving caret in every action.\n * Do nothing if position is < 0, or if index more or equals to length add char to the end.\n *\n * @param {string} char symbol to add\n * @param {number} [index=this.value.length] given position\n *\n * @fires module:stb/ui/input~InputNative#input\n */\nInputNative.prototype.addChar = function ( char, index ) {\n\t//var $char = document.createElement('div');\n\n\tindex = (index === undefined) ? this.value.length : index;\n\n\tif ( DEBUG ) {\n\t\tif ( index < 0 ) { throw 'index must be more than 0 or equal to 0'; }\n\t\tif ( typeof char !== 'string' ) { throw 'char must be a string'; }\n\t\tif ( char.length !== 1 ) { throw 'char must be a string with length = 1'; }\n\t}\n\n\t// insert char into value\n\tthis.value = this.value.substring(0, index) + char + this.value.substring(index, this.value.length);\n\n\tthis.$body.value = this.value;\n\n\t// there are some listeners\n\tif ( this.events['input'] !== undefined ) {\n\t\t// notify listeners\n\t\tthis.emit('input', {value: this.value});\n\t}\n};\n\n\n/**\n * Remove char from given position.\n * Do nothing if index is out of the range (0, length).\n *\n * @param {number} [index=this.$caret.index - 1] index given position\n *\n * @fires module:stb/ui/input~InputNative#input\n */\nInputNative.prototype.removeChar = function ( index ) {\n\tindex = (index === undefined) ? this.value.length - 1 : index;\n\n\t// non-empty string\n\tif ( this.value.length > 0 ) {\n\t\tif ( DEBUG ) {\n\t\t\tif ( index < 0 ) { throw 'index must be a positive value'; }\n\t\t\tif ( index > this.value.length ) { throw 'index must be a less than or equal to total length'; }\n\t\t}\n\n\t\t// cut one char from the value\n\t\tthis.value = this.value.substring(0, index) + this.value.substring(index + 1, this.value.length);\n\n\t\tthis.$body.value = this.value;\n\n\t\t//there are some listeners\n\t\tif ( this.events['input'] !== undefined ) {\n\t\t\t// notify listeners\n\t\t\tthis.emit('input', {value: this.value});\n\t\t}\n\t}\n\tthis.$body.value = this.value;\n};\n\n\n/**\n * Move caret to the given position.\n * Do nothing if index is out of the range (0, this.value.length).\n *\n * @param {number} index given position\n */\nInputNative.prototype.setCaretPosition = function ( index ) {\n\tthis.$body.setSelectionRange(index, index);\n};\n\n/**\n * Move caret to the given position.\n * Do nothing if index is out of the range (0, this.value.length).\n *\n * @param {number} index given position\n */\nInputNative.prototype.getCaretPosition = function () {\n\treturn this.$body.selectionStart;\n};\n\n\n/**\n * Setting new text value of the input field.\n *\n * @param {string} value given string value\n */\nInputNative.prototype.setValue = function ( value ) {\n\tif ( DEBUG ) {\n\t\tif ( typeof value !== 'string' ) { throw 'value must be a string'; }\n\t}\n\n\tif ( this.value !== value ) {\n\t\tthis.value = value;\n\t\tthis.$body.value = this.value;\n\n\t\t// there are some listeners\n\t\tif ( this.events['input'] !== undefined ) {\n\t\t\t// notify listeners\n\t\t\tthis.emit('input', {value: this.value});\n\t\t}\n\t}\n};\n\n\n// public\nmodule.exports = InputNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/input.native.js\n// module id = 72\n// module chunks = 0","/**\n * youtube parser for search page\n * @author bas\n */\n\n'use strict';\n\nvar tools   = require('./tools'),\n    ajax    = tools.ajax,\n    Emitter = require('cjs-emitter');\n\n\n/**\n * Main page parser\n *\n * @param {string} textForParse html with video data\n *\n * @return {Array} videos\n */\nfunction parserForSearchPage ( textForParse ) {\n    var items = [],\n        type, id, channelTitle, duration, viewCount, publishedAt, title, icon, channelId,\n        playlistId, videoCount, subscriberCount, startIndex, endIndex, tmp, index, text, isLive;\n\n\n    // split by items\n    tmp = textForParse.split('<div class=\"yt-lockup yt-lockup-tile ');\n    // check each piece of html for video data\n    for ( index = 0; index < tmp.length; index++ ) {\n        text = tmp[index];\n\n        if ( text.indexOf('yt-lockup-content') === -1 ) {\n            continue; // this part of text don't have video block\n        }\n\n        if ( text.indexOf('yt-lockup-playlist') !== -1 ) {\n            type = 'playlist';\n        } else if ( text.indexOf('yt-lockup-channel') !== -1 ) {\n            type = 'channel';\n        } else if ( text.indexOf('yt-lockup-video') !== -1 &&\n            text.indexOf('branded-page-module') === -1 &&      // not branded (add parser for them?)\n            text.indexOf('data-set-reminder-text') === -1 ) {  // not a video but an ad. We don't need fake videos.\n            isLive = text.indexOf('yt-badge-live') !== -1;\n            type = 'video';\n        } else {\n            continue;\n        }\n\n        // video/playlist thumbnail, example: \"https://i.ytimg.com/vi/ktiONWfSL48/hqdefault.jpg?custom=true&w=196&jpgq=90&sp=68&sigh=e_W4dPkywvlYwi8av9yYdwHQi8Y\"\n        startIndex = text.indexOf('//i.ytimg');\n        endIndex = text.indexOf('\"', startIndex);\n        icon = 'https:' + text.substring(startIndex, endIndex).replace(/&amp;/g, '&');\n        // playlist title, example: \"Nasa LIVE stream - Earth From Space LIVE\"\n        startIndex = text.indexOf('\" dir=\"ltr\">') + 12;\n        if ( startIndex === (-1 + 12) ) { // strange title, try again\n            startIndex = text.indexOf(' dir=\"ltr\">') + 11;\n            if ( startIndex === ( -1 + 11) ) { // what if this is Arabic or another right-to-left text?\n                startIndex = text.indexOf('\" dir=\"rtl\">') + 12;\n            }\n        }\n        endIndex = text.indexOf('</', startIndex);\n        title = text.substring(startIndex, endIndex);\n        // video/playlist/channel channel id, example: \"UCY0C6A3t3RTUN3BB65rWAgQ\"\n        if ( text.indexOf('<a href=\"/channel/') === -1 ) {\n            if ( text.indexOf('data-channel-external-id=') === -1 ) {\n                if ( text.indexOf('<a href=\"/user/') === -1 ) {\n                    channelId = '';\n                } else {\n                    startIndex = text.indexOf('<a href=\"/user/') + 10;\n                    endIndex = text.indexOf('\"', startIndex);\n                    channelId = text.substring(startIndex, endIndex);\n                }\n            } else {\n                startIndex = text.indexOf('data-channel-external-id=\"') + 26;\n                endIndex = text.indexOf('\"', startIndex);\n                channelId = 'channel/' + text.substring(startIndex, endIndex);\n            }\n        } else {\n            startIndex = text.indexOf('<a href=\"/channel/') + 10;\n            endIndex = text.indexOf('\"', startIndex);\n            channelId = text.substring(startIndex, endIndex);\n        }\n\n        if ( type === 'playlist' ) {\n            // playlist id, example: \"/watch?v=5Fn8-hoyLVg&list=LLpmD3iT-8TQzRuygIiS9bAw\"\n            if ( text.indexOf('<div class=\"yt-lockup-byline \">YouTube</div>') !== -1 ) {\n                channelId = ''; // this channel don't have owner - it was created by youtube automatically\n            }\n            // playlist id, example: \"/watch?v=5Fn8-hoyLVg&list=LLpmD3iT-8TQzRuygIiS9bAw\"\n            startIndex = text.indexOf('<a href=\"/watch?v=') + 9;\n            endIndex = text.indexOf('\"', startIndex);\n            playlistId = text.substring(startIndex, endIndex).replace('&amp;', '&');\n            // channel title, example: \"Conor Maynard Covers | 2016\"\n            startIndex = text.indexOf('\" dir=\"ltr\">', endIndex) + 12;\n            endIndex = text.indexOf('<', startIndex);\n            channelTitle = text.substring(startIndex, endIndex);\n\n            items.push({\n                value: 1,           // always 1, stb hack\n                playlistId: playlistId,\n                channel: {\n                    title: channelTitle.substr(0, 100),\n                    id: channelId\n                },\n                title: title.substr(0, 100),\n                icon: icon,\n                type: 'playlist',\n                channelTitle: channelTitle.substr(0, 100),\n                viewCount: ' ',      // not used by application\n                duration: ' ',       // not used by application\n                publishedAt: ' ',    // parser can't get this information\n                locale: {\n                    publishedAt: ' ',\n                    viewCount: ' ',  // not used by application\n                    channelTitle: channelTitle.substr(0, 100)\n                }\n            });\n        }\n\n        if ( type === 'video' ) {\n            // video title, example: \"Nasa LIVE stream - Earth From Space LIVE\"\n            startIndex = text.indexOf('\" dir=\"ltr\">') + 12;\n            startIndex = text.indexOf('>', startIndex + 1) + 1;\n            if ( startIndex === (-1 + 12) ) { // strange title, try again\n                startIndex = text.indexOf(' dir=\"ltr\">') + 11;\n                if ( startIndex === ( -1 + 11) ) { // what if this is Arabic or another right-to-left text?\n                    startIndex = text.indexOf('\" dir=\"rtl\">') + 12;\n                }\n            }\n            endIndex = text.indexOf('</', startIndex);\n            title = text.substring(startIndex, endIndex);\n            // video id, example: \"ktiONWfSL48\"\n            startIndex = text.indexOf('href=\"/watch?v=') + 15;\n            endIndex = text.indexOf('\"', startIndex);\n            id = text.substring(startIndex, endIndex);\n            // channel title, example: \"Ленинград | Leningrad\"\n            startIndex = text.indexOf('<a href=\"', startIndex);\n            startIndex = text.indexOf('>', startIndex) + 1;\n            startIndex = text.indexOf('>', startIndex) + 1;\n            endIndex = text.indexOf('</', startIndex);\n            channelTitle = text.substring(startIndex, endIndex);\n            // video duration, example: \"11:59:59\"\n            startIndex = text.indexOf('<span class=\"video-time\" aria-hidden=\"true\">') + 44;\n            if ( startIndex === (-1 + 44) ) { // video was streamed so now have strange duration format\n                startIndex = text.indexOf('<ul class=\"yt-lockup-meta-info\"><li>') + 36;\n            }\n            endIndex = text.indexOf('</', startIndex);\n            duration = text.substring(startIndex, endIndex);\n            // time passed since publishing, example: \"1 month ago\"\n            startIndex = text.indexOf('<ul class=\"yt-lockup-meta-info\"><li>') + 36;\n            endIndex = text.indexOf('</', startIndex);\n            publishedAt = text.substring(startIndex, endIndex);\n            // views count, example: \"10,000,002\"\n            if ( isLive ) {\n                startIndex = text.indexOf('<ul class=\"yt-lockup-meta-info\"><li>') + 36;\n                endIndex = text.indexOf('<', startIndex);\n            } else {\n                startIndex = text.indexOf('</li><li>', startIndex) + 9; // text not unique: need to use viewCount position\n                endIndex = text.indexOf(' ', startIndex);\n            }\n            viewCount = text.substring(startIndex, endIndex);\n\n            items.push({\n                value: 1,           // always 1, stb hack\n                id: id,\n                channelTitle: channelTitle.substr(0, 100),\n                duration: isLive ? '' : duration.substr(0, 100),\n                realDuration: isLive ? '' : duration.substr(0, 100),\n                viewCount: viewCount.substr(0, 100),\n                publishedAt: isLive ? '' : publishedAt.substr(0, 100),\n                dimension: '',      // not used by application\n                definition: '',     // not used by application\n                title: title.substr(0, 100),\n                icon: icon,\n                channelId: channelId,\n                type: 'video',\n                locale: {\n                    publishedAt: isLive ? '' : publishedAt.substr(0, 100),\n                    viewCount: viewCount.substr(0, 100),\n                    channelTitle: channelTitle.substr(0, 100)\n                }\n            });\n        }\n\n        if ( type === 'channel' ) {\n            // video/playlist/channel thumbnail, example: \"https://i.ytimg.com/vi/ktiONWfSL48/hqdefault.jpg?custom=true&w=196&jpgq=90&sp=68&sigh=e_W4dPkywvlYwi8av9yYdwHQi8Y\"\n            startIndex = text.indexOf('//yt');\n            endIndex = text.indexOf('\"', startIndex);\n            icon = 'https:' + text.substring(startIndex, endIndex);\n            // video/playlist/channel title, example: \"Nasa LIVE stream - Earth From Space LIVE\"\n            startIndex = text.indexOf('\" dir=\"ltr\">') + 12;\n            endIndex = text.indexOf('<', startIndex);\n            title = text.substring(startIndex, endIndex);\n            // number of published videos, example: \"191\"\n            if ( text.indexOf('yt-channel-title-autogenerated') === -1 ) {\n                startIndex = text.indexOf('\"yt-lockup-meta-info\"><li>') + 26;\n                endIndex = text.indexOf(' ', startIndex);\n                videoCount = text.substring(startIndex, endIndex);\n            } else {\n                videoCount = ''; // channel created by youtube and have no information about video count\n            }\n            // number of subscribers, example: \"4,511,758\"\n            startIndex = text.indexOf('yt-subscriber-count\" title=\"') + 28;\n            endIndex = text.indexOf('\"', startIndex);\n            subscriberCount = text.substring(startIndex, endIndex);\n\n            items.push({\n                value: 1,           // always 1, stb hack\n                id: channelId,\n                title: title.substr(0, 100),\n                icon: icon,\n                type: 'channel',\n                viewCount: '',                // parser can't get this information\n                commentCount: '',             // parser can't get this information\n                subscriberCount: subscriberCount.substr(0, 100),\n                hiddenSubscriberCount: '',    // parser can't get this information\n                videoCount: videoCount.substr(0, 100),\n                locale: {\n                    subscriberCount: subscriberCount.substr(0, 100)\n                }\n            });\n        }\n    }\n\n    return items;\n}\n\n/**\n *\n * @constructor\n *\n * @param {Object} config init config\n */\nfunction SearchModel ( config ) {\n    Emitter.call(this);\n\n    // example:\n    // this.pages = {\n    //    0: {parseId: '/results?sp=13qAfwy%2346&q=hello', cached: true, data: [{id:'45', title:'text at title', icon:'http...', ...},...]},\n    //    1: {parseId: '/results?sp=SCjqAwA%253D&q=hello', cached: false}\n    // }\n    this.pages = {};\n    this.searchQuery = '';\n\n    //\tthis.relatedToVideoId = '';\n    //\tthis.channelId = '';\n    //\tthis.order = '';\n    //\tthis.type = '';\n\n    this.filter(config);\n}\n\nSearchModel.prototype = Object.create(Emitter.prototype);\nSearchModel.prototype.constructor = SearchModel;\n\n\n/**\n * Get parsed page data\n *\n * @param {Object} params filters\n * @param {string} [params.searchQuery = ''] search text\n * @param {number} [params.page = 0] page number\n * @param {function} callback callback\n */\nSearchModel.prototype.getPage = function ( params, callback ) {\n    var self = this;\n\n    params.page = +params.page || 0;\n\n    console.log('getPage');\n    console.log(params);\n\n    if ( this.pages[params.page] && this.pages[params.page].parseId ) {\n        if ( this.pages[params.page].cached ) {\n            callback(null, this.pages[params.page].data);\n        } else {\n        \tconsole.log('https://www.youtube.com' + this.pages[params.page].parseId);\n            ajax('get', 'https://www.youtube.com' + this.pages[params.page].parseId, function ( data, status ) {\n                var html, startIndex, endIndex, parseId;\n\n                if ( status !== 200 ) {\n                    callback({message: 'request got bad http status (' + status + ')'}, []);\n                    return; // eslint-disable-line\n                }\n\n                // find all pages urls\n                startIndex = data.indexOf('class=\"branded-page-box search-pager');\n                endIndex = data.indexOf('class=\"branded-page-v2-secondary-col', startIndex);\n                html = data.substring(startIndex, endIndex);\n                html = html.split('<a href=\"');\n                // check if this is last page\n                if ( html[html.length - 1] && html[html.length - 1].indexOf('»') !== -1 ) {\n                    // find next page url position\n                    startIndex = html[html.length - 1].indexOf('href=\"/results?') + 6;\n                    endIndex = html[html.length - 1].indexOf('\"', startIndex);\n                    parseId = (html[html.length - 1].substring(startIndex, endIndex)).replace('&amp;', '&');\n                } else {\n                    parseId = '';\n                }\n                // add next page parse id to pages hash\n                self.pages[params.page + 1] = {\n                    parseId: parseId,\n                    cached: false\n                };\n                // remove useless footer and header parts\n                html = data.slice(data.indexOf('id=\"item-section-'), data.indexOf('class=\"branded-page-box search-pager'));\n                // add first page to cache\n                self.pages[params.page] = {cached: true, data: parserForSearchPage(html)};\n\n                callback(null, self.pages[params.page].data);\n            });\n        }\n    } else if ( !params.page ) {\n    \tconsole.log('https://www.youtube.com/results?search_query=' + this.searchQuery);\n        ajax('get', 'https://www.youtube.com/results?search_query=' + this.searchQuery, function ( data, status ) {\n            var html, startIndex, endIndex, parseId;\n\n            if ( status !== 200 ) {\n                callback({message: 'request got bad http status (' + status + ')'}, []);\n                return; // eslint-disable-line\n            }\n\n            // find all pages urls\n            startIndex = data.indexOf('class=\"branded-page-box search-pager');\n            endIndex = data.indexOf('class=\"branded-page-v2-secondary-col', startIndex);\n            html = data.substring(startIndex, endIndex);\n            html = html.split('<a href=\"');\n            // check if this is last page\n            if ( html[html.length - 1] && html[html.length - 1].indexOf('»') !== -1 ) {\n                // find next page url position\n                startIndex = html[html.length - 1].indexOf('href=\"/results?') + 6;\n                endIndex = html[html.length - 1].indexOf('\"', startIndex);\n                parseId = (html[html.length - 1].substring(startIndex, endIndex)).replace('&amp;', '&');\n            } else {\n                parseId = '';\n            }\n            // add next page parse id to pages hash\n            self.pages[params.page + 1] = {\n                parseId: parseId,\n                cached: false\n            };\n            // remove useless footer and header parts\n            html = data.slice(data.indexOf('id=\"item-section-'), data.indexOf('class=\"branded-page-box search-pager'));\n            // add first page to cache\n            self.pages[0] = {\n                cached: true,\n                parseId: '/results?search_query=' + self.searchQuery,\n                data: parserForSearchPage(html)\n            };\n\n            callback(null, self.pages[0].data);\n        });\n    } else if ( this.pages[params.page] && !this.pages[params.page].parseId ) {\n        callback(null, []); // last page\n    } else {\n        callback({message: 'wrong page number (page id not found in cache)'}, []);\n    }\n};\n\n/**\n *\n * @param {Object} [params={}] filter parameters\n * @param {Object} [params.channel] channel object with id and name\n * @param {string} [params.searchQuery] search query\n *\n * @fires SearchModel#content:changed\n *\n * @return {boolean} applied filter\n */\nSearchModel.prototype.filter = function ( params ) {\n    var changed = false;\n\n    // here will be other params\n    if ( params.searchQuery !== undefined && this.searchQuery !== params.searchQuery ) {\n        changed = true;\n        this.searchQuery = params.searchQuery;\n    }\n\n    if ( changed ) {\n        this.pages = {};\n        console.log('content:changed');\n        this.emit('content:changed', params);\n\n        return true;\n    }\n\n    return false;\n};\n\n\n// public export\nmodule.exports = SearchModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/parser/models/search.js\n// module id = 73\n// module chunks = 0","/**\n * youtube parser for main page\n * @author bas\n */\n\n'use strict';\n\nvar tools   = require('./tools'),\n    ajax    = tools.ajax,\n    Emitter = require('cjs-emitter');\n\n/**\n * Main page parser\n *\n * @param {string} textForParse html with video data\n * @param {string} channelId channel id\n *\n * @return {Array} videos\n */\nfunction parserForPlaylistPage ( textForParse, channelId ) {\n    var items = [],\n        id, channelTitle, title, icon, tmp, startIndex, endIndex, text, index;\n\n    // split by items\n    tmp = textForParse.split('<li class=\"yt-uix-scroller-scroll-unit');\n    // check each piece of html for video data\n    for ( index = 0; index < tmp.length; index++ ) {\n        text = tmp[index];\n\n        if ( text.indexOf('<div class=\"playlist-video-description\">') === -1 ) {\n            continue; // this part of text don't have video block\n        }\n\n        startIndex = text.indexOf('<span class=\"video-uploader-byline\">') + 36;\n        endIndex = text.indexOf('</span>', startIndex);\n        if ( !((text.substring(startIndex, endIndex)).trim() ) ) {\n            continue; // this video was removed or banned\n        }\n\n        // video id, example: \"ktiONWfSL48\"\n        startIndex = text.indexOf('data-video-id=\"') + 15;\n        endIndex = text.indexOf('\"', startIndex);\n        id = text.substring(startIndex, endIndex);\n        // video title, example: \"Nasa LIVE stream - Earth From Space LIVE\"\n        startIndex = text.indexOf('data-video-title=\"') + 18;\n        endIndex = text.indexOf('\"', startIndex);\n        title = text.substring(startIndex, endIndex);\n        // video thumbnail, example: \"https://i.ytimg.com/vi/ktiONWfSL48/hqdefault.jpg?custom=true&w=196&jpgq=90&sp=68&sigh=e_W4dPkywvlYwi8av9yYdwHQi8Y\"\n        startIndex = text.indexOf('=\"https://i.ytimg') + 2;\n        endIndex = text.indexOf('\"', startIndex);\n        icon = text.substring(startIndex, endIndex).replace(/&amp;/g, '&');\n        // channel title, example: \"Ленинград | Leningrad\"\n        startIndex = text.indexOf('data-video-username=\"') + 21;\n        endIndex = text.indexOf('\"', startIndex);\n        channelTitle = text.substring(startIndex, endIndex);\n\n        items.push({\n            value: 1,                   // always 1, stb hack\n            id: id,\n            channelTitle: channelTitle,\n            duration: ' ',              // parser can't get this info\n            realDuration: ' ',          // parser can't get this info\n            viewCount: ' ',             // parser can't get this info\n            publishedAt: ' ',           // parser can't get this info\n            dimension: '',              // not used by application\n            definition: '',             // not used by application\n            title: title,\n            icon: icon,\n            channelId: channelId,\n            type: 'video',\n            locale: {\n                publishedAt: ' ',       // parser can't get this info\n                viewCount: ' ',         // parser can't get this info\n                channelTitle: channelTitle\n            }\n        });\n    }\n\n    return items;\n}\n\n/**\n * @constructor\n */\nfunction PlaylistModel () {\n    Emitter.call(this);\n\n    this.pages = {};\n\n    this.playlistId = null;\n}\n\nPlaylistModel.prototype = Object.create(Emitter.prototype);\nPlaylistModel.prototype.constructor = PlaylistModel;\n\n\n/**\n * Get parsed page data\n *\n * @param {Object} params filters\n * @param {number} [params.page = 0] page number\n * @param {function} callback callback\n */\nPlaylistModel.prototype.getPage = function ( params, callback ) {\n    var self = this;\n\n    params.page = params.page || 0;\n\n    if ( !params.playlistId ) {\n        callback({message: 'error: field arguments[0].playlistId is empty'}, []);\n\n        return;\n    }\n    if ( params.playlistId !== this.playlistId ) {\n        this.playlistId = params.playlistId;\n        this.pages = {};\n    }\n    // PlaylistModel always return only one (first) page containing all available videos for this playlist\n    if ( params.page ) {\n        callback(null, []);\n\n        return;\n    }\n\n    if ( this.pages[0] ) {\n        callback(null, this.pages[0].data);\n    } else {\n        ajax('get', 'https://www.youtube.com' + params.playlistId, function ( data, status ) {\n            var html, startIndex, endIndex, channelId;\n\n            if ( status !== 200 ) {\n                callback({message: 'request got bad http status (' + status + ')'}, []);\n                return; // eslint-disable-line\n            }\n\n            // get channel id, example: \"channel/UCY0C6A3t3RTUN3BB65rWAgQ\"\n            startIndex = data.indexOf('<a href=\"/channel/') + 10;\n            endIndex = data.indexOf('\"', startIndex);\n            channelId = data.substring(startIndex, endIndex);\n            // remove useless footer and header parts\n            startIndex = data.indexOf('id=\"playlist-autoscroll-list\"');\n            endIndex = data.indexOf('id=\"placeholder-player\"', startIndex);\n            html = data.slice(startIndex, endIndex);\n            // add first page to cache\n            self.pages[0] = {\n                cached: true,\n                parseId: params.playlistId.replace(/&amp;/g, '&'),\n                data: parserForPlaylistPage(html, channelId)\n            };\n\n            callback(null, self.pages[0].data);\n        });\n    }\n};\n\n\nPlaylistModel.prototype.filter = function () {\n    if ( DEVELOP ) {\n        console.log('filter at PlaylistModel not available');\n    }\n\n    return false;\n};\n\n\n// public export\nmodule.exports = PlaylistModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/parser/models/playlist.js\n// module id = 74\n// module chunks = 0","'use strict';\n\nmodule.exports = function (func, wait) {\n\tvar timeout;\n\treturn function() {\n\t\tvar self = this,\n\t\t\targs = arguments;\n\n\t\tclearTimeout(timeout);\n\n\t\t// Set the new timeout\n\t\ttimeout = setTimeout(function() {\n\t\t\ttimeout = null;\n\t\t\tfunc.apply(self, args);\n\t\t}, wait);\n\t};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/util/debounce.js\n// module id = 75\n// module chunks = 0","'use strict';\n\nvar app = require('mag-app'),\n\n\tGrid = require('stb-component-grid'),\n\n\tl10n = require('../../modules/util/l10n'),\n\n\tlang = require('../../../../config/lang'),\n\n\tkeyboard = new Grid({\n\t\t$node:document.getElementById('psKeyboard'),\n\t\tclassName: 'keyList',\n\t\tcycleY: false,\n\t\tevents: {\n\t\t\t'click:item': function ( event ) {\n\t\t\t\tif ( event.$item.data.className.indexOf('keyGlobe') !== -1 ) {\n\t\t\t\t\tapp.settings.keyboardLanguage = l10n.nextLang(app.settings.keyboardLanguage);\n\t\t\t\t\tthis.viewIndex = null;\n\t\t\t\t\tthis.init({\n\t\t\t\t\t\tdata: require('../../../../config/keyboards/' + lang.languages[app.settings.keyboardLanguage])\n\t\t\t\t\t});\n\t\t\t\t\tthis.focusItem($langItem);\n\t\t\t\t\twindow.top.gSTB.SetInputLang(lang.languages[app.settings.keyboardLanguage]);\n\t\t\t\t} else if ( event.$item.data.className.indexOf('nums') !== -1 ) {\n\t\t\t\t\tthis.init({data: [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{value:'1', className:'symbol'},\n\t\t\t\t\t\t\t{value:'2', className:'symbol'},\n\t\t\t\t\t\t\t{value:'3', className:'symbol'},\n\t\t\t\t\t\t\t{value:'^', className:'symbol'},\n\t\t\t\t\t\t\t{value:'`', className:'symbol'},\n\t\t\t\t\t\t\t{value:'!', className:'symbol'},\n\t\t\t\t\t\t\t{value:'#', className:'symbol'},\n\t\t\t\t\t\t\t{value:'$', className:'symbol'},\n\t\t\t\t\t\t\t{value:'%', className:'symbol'},\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{value:'4', className:'symbol'},\n\t\t\t\t\t\t\t{value:'5', className:'symbol'},\n\t\t\t\t\t\t\t{value:'6', className:'symbol'},\n\t\t\t\t\t\t\t{value:'&', className:'symbol'},\n\t\t\t\t\t\t\t{value:'(', className:'symbol'},\n\t\t\t\t\t\t\t{value:')', className:'symbol'},\n\t\t\t\t\t\t\t{value:'*', className:'symbol'},\n\t\t\t\t\t\t\t{value:';', className:'symbol'},\n\t\t\t\t\t\t\t{value:':', className:'symbol'},\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{value:'7', className:'symbol'},\n\t\t\t\t\t\t\t{value:'8', className:'symbol'},\n\t\t\t\t\t\t\t{value:'9', className:'symbol'},\n\t\t\t\t\t\t\t{value:'~', className:'symbol'},\n\t\t\t\t\t\t\t{value:'/', className:'symbol'},\n\t\t\t\t\t\t\t{value:'|', className:'symbol'},\n\t\t\t\t\t\t\t{value:'%', className:'symbol'},\n\t\t\t\t\t\t\t{value:':', className:'symbol'},\n\t\t\t\t\t\t\t{value:'?', className:'symbol'}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{value:'№', className:'symbol'},\n\t\t\t\t\t\t\t{value:'0', className:'symbol'},\n\t\t\t\t\t\t\t{value:'[', className:'symbol'},\n\t\t\t\t\t\t\t{value:']', className:'symbol'},\n\t\t\t\t\t\t\t{value:'\"', className:'symbol'},\n\t\t\t\t\t\t\t{value:'\\'', className:'symbol'},\n\t\t\t\t\t\t\t{value:'{', className:'symbol'},\n\t\t\t\t\t\t\t{value:'}', className:'symbol'},\n\t\t\t\t\t\t\t{value:'ABC', className:'symbol letters'}\n\t\t\t\t\t\t]\n\t\t\t\t\t]});\n\t\t\t\t} else if ( event.$item.data.className.indexOf('letters') !== -1 ) {\n\t\t\t\t\tthis.init({\n\t\t\t\t\t\tdata: require('../../../../config/keyboards/' + lang.languages[app.settings.keyboardLanguage])\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trender: function ( $item, data ) {\n\t\t\tif ( data.className === 'keyGlobe' ) {\n\t\t\t\t$item.innerHTML = lang.languagesCodeLocalized[app.settings.keyboardLanguage];\n\t\t\t\t$langItem = $item;\n\t\t\t} else {\n\t\t\t\t$item.innerHTML = data.value;\n\t\t\t}\n\t\t\tif ( data.className ) {\n\t\t\t\t$item.className = 'item ' + data.className;\n\t\t\t}\n\t\t},\n\t\tdata: require('../../../../config/keyboards/' + lang.languages[app.settings.keyboardLanguage])\n\t}),\n\n\t$langItem;\n\n\nwindow.top.gSTB.SetInputLang(lang.languages[app.settings.keyboardLanguage]);\n\nmodule.exports = keyboard;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/components/page.search/keyboard.js\n// module id = 76\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-grid');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-grid';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stb-component-grid/index.js\n// module id = 77\n// module chunks = 0","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component'),\n    keys      = require('spa-keys');\n\n\n/**\n * Mouse click event.\n *\n * @event module:stb/ui/grid~Grid#click:item\n *\n * @type {Object}\n * @property {Element} $item clicked HTML item\n * @property {Event} event click event data\n */\n\n\n/**\n * Base grid/table implementation.\n *\n * For navigation map implementation and tests see {@link https://gist.github.com/DarkPark/8c0c2926bfa234043ed1}.\n *\n * Each data cell can be either a primitive value or an object with these fields:\n *\n *  Name    | Description\n * ---------|-------------\n *  value   | actual cell value to render\n *  colSpan | amount of cells to merge horizontally\n *  rowSpan | amount of cells to merge vertically\n *  mark    | is it necessary or not to render this cell as marked\n *  focus   | is it necessary or not to render this cell as focused\n *  disable | is it necessary or not to set this cell as disabled\n *\n * @constructor\n * @extends Component\n *\n * @param {Object}   [config={}] init parameters (all inherited from the parent)\n * @param {Array[]}  [config.data=[]] component data to visualize\n * @param {function} [config.render] method to build each grid cell content\n * @param {function} [config.navigate] method to move focus according to pressed keys\n * @param {boolean}  [config.cycleX=true] allow or not to jump to the opposite side of line when there is nowhere to go next\n * @param {boolean}  [config.cycleY=true] allow or not to jump to the opposite side of column when there is nowhere to go next\n * @param {Object}   [config.provider] data provider\n * @param {number}   [config.sizeX] grid columns count\n * @param {number}   [config.sizeX] grid rows count\n *\n * @fires module:stb/ui/grid~Grid#click:item\n *\n * @example\n * var Grid = require('stb/ui/grid'),\n *     grid = new Grid({\n *         data: [\n *             [1,   2,  3, {value: '4;8;12;16', focus: true, rowSpan: 4}],\n *             [5,   6,  7],\n *             [9,  10, 11],\n *             [13, 14, {value: 15, disable: true}]\n *         ],\n *         render: function ( $item, data ) {\n *             $item.innerHTML = '<div>' + (data.value) + '</div>';\n *         },\n *         cycleX: false\n *     });\n */\nfunction Grid ( config ) {\n    // current execution context\n    //var self = this;\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // sanitize\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        // if ( config.navigate && typeof config.navigate !== 'function' ) {\n        //     throw new Error(__filename + ': wrong config.navigate type');\n        // }\n    }\n\n    /**\n     * List of DOM elements representing the component cells.\n     * Necessary for navigation calculations.\n     *\n     * @type {Element[][]}\n     */\n    this.map = [];\n\n    /**\n     * Link to the currently focused DOM element.\n     *\n     * @type {Element}\n     */\n    this.$focusItem = null;\n\n    /**\n     * Component data to visualize.\n     *\n     * @type {Array[]}\n     */\n    this.data = [];\n\n    /**\n     * Allow or not to jump to the opposite side of line when there is nowhere to go next.\n     *\n     * @type {boolean}\n     */\n    this.cycleX = true;\n\n    /**\n     * Allow or not to jump to the opposite side of column when there is nowhere to go next.\n     *\n     * @type {boolean}\n     */\n    this.cycleY = true;\n\n    /**\n     * Current navigation map horizontal position.\n     *\n     * @type {number}\n     */\n    this.focusX = 0;\n\n    /**\n     * Current navigation map vertical position.\n     *\n     * @type {number}\n     */\n    this.focusY = 0;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'grid ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // component setup\n    this.init(config);\n\n    // custom navigation method\n    //if ( config.navigate ) {\n    //    // apply\n    //    this.navigate = config.navigate;\n    //}\n\n    // navigation by keyboard\n    //this.addListener('keydown', this.navigate);\n\n    // navigation by mouse\n    //this.$body.addEventListener('mousewheel', function ( event ) {\n    //    // scrolling by Y axis\n    //    if ( event.wheelDeltaY ) {\n    //        self.move(event.wheelDeltaY > 0 ? keys.up : keys.down);\n    //    }\n    //\n    //    // scrolling by X axis\n    //    if ( event.wheelDeltaX ) {\n    //        self.move(event.wheelDeltaX > 0 ? keys.left : keys.right);\n    //    }\n    //});\n}\n\n\n// inheritance\nGrid.prototype = Object.create(Component.prototype);\nGrid.prototype.constructor = Grid;\n\n// set component name\nGrid.prototype.name = 'spa-component-grid';\n\n\n/**\n * Fill the given cell with data.\n * $item.data can contain the old data (from the previous render).\n *\n * @param {Element} $item item DOM link\n * @param {*} data associated with this item data\n */\nGrid.prototype.renderItemDefault = function ( $item, data ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 2 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !($item instanceof Element) ) {\n            throw new Error(__filename + ': wrong $item type');\n        }\n    }\n\n    $item.innerText = data.value;\n};\n\n\n/**\n * Method to build each grid cell content.\n * Can be redefined to provide custom rendering.\n *\n * @type {function}\n */\nGrid.prototype.renderItem = Grid.prototype.renderItemDefault;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nGrid.prototype.defaultEvents = {\n    /**\n     * Default method to handle mouse wheel events.\n     *\n     * @param {Event} event generated event\n     */\n    mousewheel: function ( event ) {\n        // scrolling by Y axis\n        if ( event.wheelDeltaY ) {\n            this.move(event.wheelDeltaY > 0 ? keys.up : keys.down);\n        }\n\n        // scrolling by X axis\n        if ( event.wheelDeltaX ) {\n            this.move(event.wheelDeltaX > 0 ? keys.left : keys.right);\n        }\n    },\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        switch ( event.code ) {\n            case keys.up:\n            case keys.down:\n            case keys.right:\n            case keys.left:\n                // cursor move only on arrow keys\n                this.move(event.code);\n                break;\n            case keys.enter:\n                // there are some listeners\n                if ( this.events['click:item'] ) {\n                    // notify listeners\n                    this.emit('click:item', {$item: this.$focusItem, event: event});\n                }\n                break;\n        }\n    }\n};\n\n\n/**\n * Default method to move focus according to pressed keys.\n *\n * @param {Object} event generated event source of movement\n */\n//Grid.prototype.navigateDefault = function ( event ) {\n//    switch ( event.code ) {\n//        case keys.up:\n//        case keys.down:\n//        case keys.right:\n//        case keys.left:\n//            // cursor move only on arrow keys\n//            this.move(event.code);\n//            break;\n//        case keys.ok:\n//            // there are some listeners\n//            if ( this.events['click:item'] ) {\n//                // notify listeners\n//                this.emit('click:item', {$item: this.$focusItem, event: event});\n//            }\n//            break;\n//    }\n//};\n\n\n/**\n * Current active method to move focus according to pressed keys.\n * Can be redefined to provide custom navigation.\n *\n * @type {function}\n */\n//Grid.prototype.navigate = Grid.prototype.navigateDefault;\n\n\n/**\n * Make all the data items identical.\n * Wrap to objects if necessary and add missing properties.\n *\n * @param {Array[]} data user 2-dimensional array\n * @return {Array[]} reworked incoming data\n */\nfunction normalize ( data ) {\n    var idxY, idxX, item;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !Array.isArray(data) ) {\n            throw new Error(__filename + ': wrong data type');\n        }\n    }\n\n    // rows\n    for ( idxY = 0; idxY < data.length; idxY++ ) {\n        // cols\n        for ( idxX = 0; idxX < data[idxY].length; idxX++ ) {\n            // cell value\n            item = data[idxY][idxX];\n\n            // primitive value\n            if ( typeof item === 'object' ) {\n                // always at least one row/col\n                item.colSpan = item.colSpan || 1;\n                item.rowSpan = item.rowSpan || 1;\n            } else {\n                // wrap with defaults\n                item = data[idxY][idxX] = {\n                    value: data[idxY][idxX],\n                    colSpan: 1,\n                    rowSpan: 1\n                };\n            }\n\n            if ( DEVELOP ) {\n                // if ( !('value' in item) ) {\n                //     throw new Error(__filename + ': field \"value\" is missing');\n                // }\n                if ( Number(item.colSpan) !== item.colSpan ) {\n                    throw new Error(__filename + ': item.colSpan must be a number');\n                }\n                if ( Number(item.rowSpan) !== item.rowSpan ) {\n                    throw new Error(__filename + ': item.rowSpan must be a number');\n                }\n                if ( item.colSpan <= 0 ) {\n                    throw new Error(__filename + ': item.colSpan should be positive');\n                }\n                if ( item.rowSpan <= 0 ) {\n                    throw new Error(__filename + ': item.rowSpan should be positive');\n                }\n                if ( ('focus' in item) && Boolean(item.focus) !== item.focus ) {\n                    throw new Error(__filename + ': item.focus must be boolean');\n                }\n                if ( ('disable' in item) && Boolean(item.disable) !== item.disable ) {\n                    throw new Error(__filename + ': item.disable must be boolean');\n                }\n            }\n        }\n    }\n\n    return data;\n}\n\n\n/**\n * Fill the given rectangle area with value.\n *\n * @param {Array[]} map link to navigation map\n * @param {number} posX current horizontal position\n * @param {number} posY current vertical position\n * @param {number} dX amount of horizontal cell to fill\n * @param {number} dY amount of vertical cell to fill\n * @param {*} value filling data\n */\nfunction fill ( map, posX, posY, dX, dY, value ) {\n    var idxY, idxX;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 6 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !Array.isArray(map) ) {\n            throw new Error(__filename + ': wrong map type');\n        }\n    }\n\n    // rows\n    for ( idxY = posY; idxY < posY + dY; idxY++ ) {\n        // expand map rows\n        if ( map.length < idxY + 1 ) { map.push([]); }\n\n        // compensate long columns from previous rows\n        while ( map[idxY][posX] !== undefined ) {\n            posX++;\n        }\n\n        // cols\n        for ( idxX = posX; idxX < posX + dX; idxX++ ) {\n            // expand map row cols\n            if ( map[idxY].length < idxX + 1 ) { map[idxY].push(); }\n            // fill\n            map[idxY][idxX] = value;\n            // apply coordinates for future mouse clicks\n            if ( value.x === undefined ) { value.x = idxX; }\n            if ( value.y === undefined ) { value.y = idxY; }\n        }\n    }\n}\n\n\n/**\n * Create a navigation map from incoming data.\n *\n * @param {Array[]} data user 2-dimensional array of objects\n * @return {Array[]} navigation map\n */\nfunction map ( data ) {\n    var result = [],\n        idxY, idxX, item;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !Array.isArray(data) ) {\n            throw new Error(__filename + ': wrong data type');\n        }\n    }\n\n    // rows\n    for ( idxY = 0; idxY < data.length; idxY++ ) {\n        // cols\n        for ( idxX = 0; idxX < data[idxY].length; idxX++ ) {\n            // cell value\n            item = data[idxY][idxX];\n            // process a cell\n            fill(result, idxX, idxY, item.colSpan, item.rowSpan, item.$item);\n            // clear redundant info\n            delete item.$item;\n        }\n    }\n\n    return result;\n}\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nGrid.prototype.init = function ( config ) {\n    var self = this,\n        draw = false,\n        idxY, idxX,\n        $row, $item, $tbody, $focusItem,\n        itemData, newData,\n        /**\n         * Cell mouse click handler.\n         *\n         * @param {Event} event click event data\n         *\n         * @this Element\n         *\n         * @fires module:stb/ui/grid~Grid#click:item\n         */\n        onItemClick = function ( event ) {\n            // allow to accept focus\n            if ( this.data.disable !== true ) {\n                // visualize\n                self.focusItem(this);\n\n                // there are some listeners\n                if ( self.events['click:item'] ) {\n                    // notify listeners\n                    self.emit('click:item', {$item: this, event: event});\n                }\n            }\n        },\n        /**\n         * Construct grid when receive new data\n         *\n         * @param {Array} data to render\n         */\n        construct = function ( data ) {\n\n            // apply data\n            if ( data ) {\n                // new data is different\n                if ( self.data !== data ) {\n                    // apply\n                    self.data = data;\n                    // need to redraw table\n                    draw = true;\n                }\n            }\n\n            // custom render method\n            if ( config.render ) {\n                // new render is different\n                if ( self.renderItem !== config.render ) {\n                    // apply\n                    self.renderItem = config.render;\n                    // need to redraw table\n                    draw = true;\n                }\n            }\n\n            if ( !draw ) {\n                // do not redraw table\n                return;\n            }\n\n            // export pointer to inner table\n            self.$table = document.createElement('table');\n            $tbody = document.createElement('tbody');\n\n            // prepare user data\n            self.data = normalize(self.data);\n\n            // rows\n            for ( idxY = 0; idxY < self.data.length; idxY++ ) {\n                // dom\n                $row = $tbody.insertRow();\n\n                // cols\n                for ( idxX = 0; idxX < self.data[idxY].length; idxX++ ) {\n                    // dom\n                    $item = $row.insertCell(-1);\n                    // additional params\n                    $item.className = 'item';\n\n                    // shortcut\n                    itemData = self.data[idxY][idxX];\n\n                    // for map\n                    itemData.$item = $item;\n\n                    // merge columns\n                    $item.colSpan = itemData.colSpan;\n\n                    // merge rows\n                    $item.rowSpan = itemData.rowSpan;\n\n                    // active cell\n                    if ( itemData.focus ) {\n                        // store and clean\n                        $focusItem = $item;\n                    }\n\n                    // disabled cell\n                    if ( itemData.disable ) {\n                        // apply CSS\n                        $item.classList.add('disable');\n                    }\n\n                    // marked cell\n                    if ( itemData.mark ) {\n                        // apply CSS\n                        $item.classList.add('mark');\n                    }\n\n                    // visualize\n                    self.renderItem($item, itemData);\n\n                    // save data link\n                    $item.data = itemData;\n\n                    // manual focusing\n                    $item.addEventListener('click', onItemClick);\n                }\n                // row is ready\n                $tbody.appendChild($row);\n            }\n\n            // navigation map filling\n            self.map = map(self.data);\n\n            // clear all table\n            self.$body.innerText = null;\n\n            // everything is ready\n            self.$table.appendChild($tbody);\n            self.$body.appendChild(self.$table);\n\n            // apply focus\n            if ( $focusItem ) {\n                // focus item was given in data\n                self.focusItem($focusItem);\n            } else {\n                // just the first cell\n                self.focusItem(self.map[0][0]);\n            }\n        };\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        if ( config.data && (!Array.isArray(config.data) || !Array.isArray(config.data[0])) ) {\n            throw new Error(__filename + ': wrong config.data type');\n        }\n        if ( config.render && typeof config.render !== 'function' ) {\n            throw new Error(__filename + ': wrong config.render type');\n        }\n    }\n\n    // apply cycle behaviour\n    if ( config.cycleX !== undefined ) {\n        this.cycleX = config.cycleX;\n    }\n    if ( config.cycleY !== undefined ) {\n        this.cycleY = config.cycleY;\n    }\n\n\n    if ( config.provider ) {\n        if ( DEVELOP ) {\n            if ( !config.sizeX || !config.sizeY ) {\n                throw new Error(__filename + ': wrong grid data size');\n            }\n        }\n\n        this.provider = config.provider;\n        this.sizeX = config.sizeX;\n        this.sizeY = config.sizeY;\n    }\n\n    if ( config.translate ) {\n        this.translate = config.translate;\n    }\n\n    if ( config.provider ) {\n        newData = this.provider.get(null, function ( error, data ) {\n            if ( error ) {\n                if ( self.events['data:error'] ) {\n                    /**\n                     * Provider get error while take new data\n                     *\n                     * @event module:stb/ui/grid~Grid#data:error\n                     */\n                    self.emit('data:error', error);\n                }\n            }\n            construct(self.translate(data));\n\n            if ( self.events['data:ready'] ) {\n                /**\n                 * Provider get new data and reinit grid\n                 *\n                 * @event module:stb/ui/grid~Grid#data:ready\n                 */\n                self.emit('data:ready');\n            }\n        });\n\n        if ( this.events['data:get'] ) {\n            /**\n             * Provider request new data\n             *\n             * @event module:stb/ui/grid~Grid#data:get\n             *\n             * @type {Object}\n             * @property {boolean} fresh status of data to response\n             */\n            this.emit('data:get', {fresh: newData});\n        }\n    } else {\n        construct(config.data);\n    }\n\n\n};\n\n/**\n * Default translate function\n *\n * @param {Array} data to translate\n * @return {Array} data to use as grid data\n */\nGrid.prototype.defaultTranslate = function ( data ) {\n    var result = [],\n        idxY, idxX, arr;\n\n    for ( idxY = 0; idxY < this.sizeY; idxY++ ) {\n        arr = [];\n        for ( idxX = 0; idxX < this.sizeX; idxX++ ) {\n            arr[idxX] = data[idxY * this.sizeX + idxX];\n        }\n        result[idxY] = arr;\n    }\n\n    return result;\n};\n\n\n/**\n * Method to translate given array to array adapted to use as grid data\n * Can be redefined to provide custom translate.\n *\n * @type {function}\n */\nGrid.prototype.translate = Grid.prototype.defaultTranslate;\n\n\n/**\n * Move focus to the given direction.\n *\n * @param {number} direction arrow key code\n *\n * @fires module:stb/ui/grid~Grid#cycle\n * @fires module:stb/ui/grid~Grid#overflow\n * @fires module:stb/ui/grid~Grid#data:get\n * @fires module:stb/ui/grid~Grid#data:ready\n * @fires module:stb/ui/grid~Grid#data:error\n */\nGrid.prototype.move = function ( direction ) {\n    var focusX   = this.focusX,\n        focusY   = this.focusY,\n        move     = true,\n        overflow = false,\n        cycle    = false,\n        newData;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(direction) !== direction ) {\n            throw new Error(__filename + ': direction must be a number');\n        }\n    }\n\n    // shift till full stop\n    while ( move ) {\n        // arrow keys\n        switch ( direction ) {\n            case keys.up:\n                if ( focusY > 0 ) {\n                    // can go one step up\n                    focusY--;\n                } else {\n                    if ( this.cycleY ) {\n                        // jump to the last row\n                        focusY = this.map.length - 1;\n                        cycle = true;\n                    }\n                    // grid edge\n                    overflow = true;\n                }\n                break;\n\n            case keys.down:\n                if ( focusY < this.map.length - 1 ) {\n                    // can go one step down\n                    focusY++;\n                } else {\n                    if ( this.cycleY ) {\n                        // jump to the first row\n                        focusY = 0;\n                        cycle = true;\n                    }\n                    // grid edge\n                    overflow = true;\n                }\n                break;\n\n            case keys.right:\n                if ( focusX < this.map[focusY].length - 1 ) {\n                    // can go one step right\n                    focusX++;\n                } else {\n                    if ( this.cycleX ) {\n                        // jump to the first column\n                        focusX = 0;\n                        cycle = true;\n                    }\n                    // grid edge\n                    overflow = true;\n                }\n                break;\n\n            case keys.left:\n                if ( focusX > 0 ) {\n                    // can go one step left\n                    focusX--;\n                } else {\n                    if ( this.cycleX ) {\n                        // jump to the last column\n                        focusX = this.map[focusY].length - 1;\n                        cycle = true;\n                    }\n                    // grid edge\n                    overflow = true;\n\n                }\n                break;\n        }\n\n        // full cycle - has come to the start point\n        if ( focusX === this.focusX && focusY === this.focusY ) {\n            // full stop\n            move = false;\n        }\n\n        // focus item has changed and it's not disabled\n        if ( this.map[focusY][focusX] !== this.map[this.focusY][this.focusX] && this.map[focusY][focusX].data.disable !== true ) {\n            // full stop\n            move = false;\n        }\n\n        // the last cell in a row/col\n        if ( overflow ) {\n            // full stop\n            move = false;\n            // but it's disabled so need to go back\n            if ( this.map[focusY][focusX].data.disable === true ) {\n                // return to the start point\n                focusX = this.focusX;\n                focusY = this.focusY;\n            }\n        }\n    }\n\n    this.focusItem(this.map[focusY][focusX]);\n\n    // correct coordinates\n    // focusItem set approximate values\n    this.focusX = focusX;\n    this.focusY = focusY;\n\n    if ( overflow ) {\n        //\n        if ( this.provider ) {\n            newData = this.provider.get(direction, function ( error, data ) {\n                var  idxY, idxX;\n\n                if ( error ) {\n\n                    if ( self.events['data:error'] ) {\n                        /**\n                         * Provider get error while take new data\n                         *\n                         * @event module:stb/ui/grid~Grid#data:error\n                         */\n                        self.emit('data:error', error);\n\n                        return;\n                    }\n                }\n\n                if ( data ) {\n                    self.data = self.translate(data);\n                    for ( idxY = 0; idxY < self.sizeY - 1; idxY++ ) {\n                        for ( idxX = 0; idxX < self.sizeX; idxX++ ) {\n                            self.renderItem(self.map[idxY][idxX], self.data[idxY][idxX]);\n                        }\n                    }\n\n                    if ( self.events['data:ready'] ) {\n                        /**\n                         * Provider get new data and reinit grid\n                         *\n                         * @event module:stb/ui/grid~Grid#data:ready\n                         */\n                        self.emit('data:ready');\n                    }\n                }\n\n            });\n\n            if ( this.events['data:get'] ) {\n                /**\n                 * Provider request new data\n                 *\n                 * @event module:stb/ui/grid~Grid#data:get\n                 *\n                 * @type {Object}\n                 * @property {boolean} fresh status of data to response\n                 */\n                this.emit('data:get', {fresh: newData});\n            }\n        }\n\n        // there are some listeners\n        if ( this.events['overflow'] ) {\n            /**\n             * Attempt to go beyond the edge of the grid.\n             *\n             * @event module:stb/ui/grid~Grid#overflow\n             *\n             * @type {Object}\n             * @property {number} direction key code initiator of movement\n             * @property {number} cycle ...\n             */\n            this.emit('overflow', {direction: direction, cycle: cycle});\n        }\n    }\n\n    // report\n    debug.info(this.focusX + ' : ' + focusX, 'X old/new');\n    debug.info(this.focusY + ' : ' + focusY, 'Y old/new');\n    debug.info(cycle, 'cycle');\n    debug.info(overflow, 'overflow');\n\n\n};\n\n\n/**\n * Highlight the given DOM element as focused.\n * Remove focus from the previously focused item.\n *\n * @param {Node|Element} $item element to focus\n * @param {number} $item.x the item horizontal position\n * @param {number} $item.y the item vertical position\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/grid~Grid#focus:item\n * @fires module:stb/ui/grid~Grid#blur:item\n */\nGrid.prototype.focusItem = function ( $item ) {\n    var $prev = this.$focusItem;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n    }\n\n    // different element\n    if ( $item && $prev !== $item && $item.data.disable !== true ) {\n        if ( DEVELOP ) {\n            if ( !($item instanceof Element) ) {\n                throw new Error(__filename + ': wrong $item type');\n            }\n            if ( $item.parentNode.parentNode.parentNode.parentNode !== this.$body ) {\n                throw new Error(__filename + ': wrong $item parent element');\n            }\n        }\n\n        // some item is focused already\n        if ( $prev !== null ) {\n            if ( DEVELOP ) {\n                if ( !($prev instanceof Element) ) {\n                    throw new Error(__filename + ': wrong $prev type');\n                }\n            }\n\n            // style\n            $prev.classList.remove('focus');\n\n            // there are some listeners\n            if ( this.events['blur:item'] ) {\n                /**\n                 * Remove focus from an element.\n                 *\n                 * @event module:stb/ui/grid~Grid#blur:item\n                 *\n                 * @type {Object}\n                 * @property {Element} $item previously focused HTML element\n                 */\n                this.emit('blur:item', {$item: $prev});\n            }\n        }\n\n        // draft coordinates\n        this.focusX = $item.x;\n        this.focusY = $item.y;\n\n        // reassign\n        this.$focusItem = $item;\n\n        // correct CSS\n        $item.classList.add('focus');\n\n        // there are some listeners\n        if ( this.events['focus:item'] ) {\n            /**\n             * Set focus to an element.\n             *\n             * @event module:stb/ui/grid~Grid#focus:item\n             *\n             * @type {Object}\n             * @property {Element} $prev old/previous focused HTML element\n             * @property {Element} $curr new/current focused HTML element\n             */\n            this.emit('focus:item', {$prev: $prev, $curr: $item});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Set item state and appearance as marked.\n *\n * @param {Node|Element} $item element to focus\n * @param {boolean} state true - marked, false - not marked\n */\nGrid.prototype.markItem = function ( $item, state ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 2 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !($item instanceof Element) ) {\n            throw new Error(__filename + ': wrong $item type');\n        }\n        if ( $item.parentNode.parentNode.parentNode.parentNode !== this.$body ) {\n            throw new Error(__filename + ': wrong $item parent element');\n        }\n        if ( Boolean(state) !== state ) {\n            throw new Error(__filename + ': state must be boolean');\n        }\n    }\n\n    // correct CSS\n    if ( state ) {\n        $item.classList.add('mark');\n    } else {\n        $item.classList.remove('mark');\n    }\n\n    // apply flag\n    $item.data.mark = state;\n};\n\n\n// public\nmodule.exports = Grid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/spa-component-grid/index.js\n// module id = 78\n// module chunks = 0","var map = {\n\t\"./ar\": 80,\n\t\"./ar.js\": 80,\n\t\"./de\": 81,\n\t\"./de.js\": 81,\n\t\"./en\": 82,\n\t\"./en.js\": 82,\n\t\"./ru\": 83,\n\t\"./ru.js\": 83,\n\t\"./uk\": 84,\n\t\"./uk.js\": 84\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 79;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/keyboards ^\\.\\/.*$\n// module id = 79\n// module chunks = 0","'use strict';\n\nmodule.exports = [\n\t[\n\t\t{value:'ض', className:'symbol'},\n\t\t{value:'ص', className:'symbol'},\n\t\t{value:'ث', className:'symbol'},\n\t\t{value:'ق', className:'symbol'},\n\t\t{value:'ف', className:'symbol'},\n\t\t{value:'غ', className:'symbol'},\n\t\t{value:'ع', className:'symbol'},\n\t\t{value:'ه', className:'symbol'},\n\t\t{value:'خ', className:'symbol'},\n\t\t{value:'ح', className:'symbol'},\n\t\t{value:'ج', className:'symbol'},\n\t\t{value:'Delete', className:'symbol delete wide', colSpan: 2},\n\t\t{value:'&nbsp;', className:'icon keyDelete'}\n\t],\n\t[\n\t\t{value:'د', className:'symbol'},\n\t\t{value:'ش', className:'symbol'},\n\t\t{value:'س', className:'symbol'},\n\t\t{value:'ي', className:'symbol'},\n\t\t{value:'ب', className:'symbol'},\n\t\t{value:'ل', className:'symbol'},\n\t\t{value:'ا', className:'symbol'},\n\t\t{value:'ت', className:'symbol'},\n\t\t{value:'ن', className:'symbol'},\n\t\t{value:'ذ', className:'symbol'},\n\t\t{value:'م', className:'symbol'},\n\t\t{value:'ك', className:'symbol'},\n\t\t{value:'123', className:'symbol nums wide'},\n\t\t{value:'&nbsp;', className:'keyGlobe'}\n\t],\n\t[\n\t\t{value:'ط', className:'symbol'},\n\t\t{value:'ئ', className:'symbol'},\n\t\t{value:'ء', className:'symbol'},\n\t\t{value:'ؤ', className:'symbol'},\n\t\t{value:'ر', className:'symbol'},\n\t\t{value:'لا', className:'symbol'},\n\t\t{value:'ى', className:'symbol'},\n\t\t{value:'ة', className:'symbol'},\n\t\t{value:'و', className:'symbol'},\n\t\t{value:'ز', className:'symbol'},\n\t\t{value:'ظ', className:'symbol'},\n\t\t{value:'&nbsp;', className:'icon keySpace', colSpan: 3}\n\t]\n];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/keyboards/ar.js\n// module id = 80\n// module chunks = 0","'use strict';\n\n\nmodule.exports = [\n\t[\n\t\t{value:'q', className:'symbol'},\n\t\t{value:'w', className:'symbol'},\n\t\t{value:'e', className:'symbol'},\n\t\t{value:'r', className:'symbol'},\n\t\t{value:'t', className:'symbol'},\n\t\t{value:'z', className:'symbol'},\n\t\t{value:'u', className:'symbol'},\n\t\t{value:'i', className:'symbol'},\n\t\t{value:'o', className:'symbol'},\n\t\t{value:'p', className:'symbol'},\n\t\t{value:'ü', className:'symbol'},\n\t\t{value:'&nbsp;', className:'icon keyDelete', colSpan: 2}\n\t],\n\t[\n\t\t{value:'a', className:'symbol'},\n\t\t{value:'s', className:'symbol'},\n\t\t{value:'d', className:'symbol'},\n\t\t{value:'f', className:'symbol'},\n\t\t{value:'g', className:'symbol'},\n\t\t{value:'h', className:'symbol'},\n\t\t{value:'j', className:'symbol'},\n\t\t{value:'k', className:'symbol'},\n\t\t{value:'l', className:'symbol'},\n\t\t{value:'ö', className:'symbol'},\n\t\t{value:'ä', className:'symbol'},\n\t\t{value:'Delete', className:'symbol delete', colSpan: 2}\n\t],\n\t[\n\t\t{value:'y', className:'symbol'},\n\t\t{value:'x', className:'symbol'},\n\t\t{value:'c', className:'symbol'},\n\t\t{value:'v', className:'symbol'},\n\t\t{value:'b', className:'symbol'},\n\t\t{value:'n', className:'symbol'},\n\t\t{value:'m', className:'symbol'},\n\t\t{value:'.', className:'symbol'},\n\t\t{value:',', className:'symbol'},\n\t\t{value:'/', className:'symbol'},\n\t\t{value:'@', className:'symbol'},\n\t\t{value:'123', className:'symbol nums'},\n\t\t{value:'&nbsp;', className:'keyGlobe'}\n\t],\n\t[\n\t\t{value:'&nbsp;', className:'icon keySpace', colSpan: 13},\n\t]\n];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/keyboards/de.js\n// module id = 81\n// module chunks = 0","'use strict';\n\nmodule.exports = [\n\t[\n\t\t{value:'q', className:'symbol'},\n\t\t{value:'w', className:'symbol'},\n\t\t{value:'e', className:'symbol'},\n\t\t{value:'r', className:'symbol'},\n\t\t{value:'t', className:'symbol'},\n\t\t{value:'y', className:'symbol'},\n\t\t{value:'u', className:'symbol'},\n\t\t{value:'i', className:'symbol'},\n\t\t{value:'o', className:'symbol'},\n\t\t{value:'p', className:'symbol'},\n\t\t{value:'&nbsp;', className:'icon keyDelete', colSpan: 2}\n\t],\n\t[\n\t\t{value:'a', className:'symbol'},\n\t\t{value:'s', className:'symbol'},\n\t\t{value:'d', className:'symbol'},\n\t\t{value:'f', className:'symbol'},\n\t\t{value:'g', className:'symbol'},\n\t\t{value:'h', className:'symbol'},\n\t\t{value:'j', className:'symbol'},\n\t\t{value:'k', className:'symbol'},\n\t\t{value:'l', className:'symbol'},\n\t\t{value:'-', className:'symbol'},\n\t\t{value:'Delete', className:'symbol delete', colSpan: 2}\n\t],\n\t[\n\t\t{value:'z', className:'symbol'},\n\t\t{value:'x', className:'symbol'},\n\t\t{value:'c', className:'symbol'},\n\t\t{value:'v', className:'symbol'},\n\t\t{value:'b', className:'symbol'},\n\t\t{value:'n', className:'symbol'},\n\t\t{value:'m', className:'symbol'},\n\t\t{value:',', className:'symbol'},\n\t\t{value:'.', className:'symbol'},\n\t\t{value:'/', className:'symbol'},\n\t\t{value:'123', className:'symbol nums'},\n\t\t{value:'&nbsp;', className:'keyGlobe'}\n\t],\n\t[\n\t\t{value:'&nbsp;', className:'icon keySpace', colSpan: 12},\n\t]\n];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/keyboards/en.js\n// module id = 82\n// module chunks = 0","'use strict';\n\nmodule.exports = [\n\t[\n\t\t{value:'й', className:'symbol'},\n\t\t{value:'ц', className:'symbol'},\n\t\t{value:'у', className:'symbol'},\n\t\t{value:'к', className:'symbol'},\n\t\t{value:'е', className:'symbol'},\n\t\t{value:'н', className:'symbol'},\n\t\t{value:'г', className:'symbol'},\n\t\t{value:'ш', className:'symbol'},\n\t\t{value:'щ', className:'symbol'},\n\t\t{value:'з', className:'symbol'},\n\t\t{value:'х', className:'symbol'},\n\t\t{value:'ъ', className:'symbol'},\n\t\t{value:'&nbsp;', className:'icon keyDelete', colSpan: 2}\n\t],\n\t[\n\t\t{value:'ф', className:'symbol'},\n\t\t{value:'ы', className:'symbol'},\n\t\t{value:'в', className:'symbol'},\n\t\t{value:'а', className:'symbol'},\n\t\t{value:'п', className:'symbol'},\n\t\t{value:'р', className:'symbol'},\n\t\t{value:'о', className:'symbol'},\n\t\t{value:'л', className:'symbol'},\n\t\t{value:'д', className:'symbol'},\n\t\t{value:'ж', className:'symbol'},\n\t\t{value:'э', className:'symbol'},\n\t\t{value:'/', className:'symbol'},\n\t\t{value:'Удалить', className:'symbol delete', colSpan: 2}\n\t],\n\t[\n\t\t{value:'я', className:'symbol'},\n\t\t{value:'ч', className:'symbol'},\n\t\t{value:'с', className:'symbol'},\n\t\t{value:'м', className:'symbol'},\n\t\t{value:'и', className:'symbol'},\n\t\t{value:'т', className:'symbol'},\n\t\t{value:'ь', className:'symbol'},\n\t\t{value:'б', className:'symbol'},\n\t\t{value:'ю', className:'symbol'},\n\t\t{value:'ё', className:'symbol'},\n\t\t{value:'.', className:'symbol'},\n\t\t{value:',', className:'symbol'},\n\t\t{value:'123', className:'symbol nums'},\n\t\t{value:'&nbsp;', className:'keyGlobe'}\n\t],\n\t[\n\t\t{value:'&nbsp;', className:'icon keySpace', colSpan: 14}\n\t]\n];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/keyboards/ru.js\n// module id = 83\n// module chunks = 0","'use strict';\n\nmodule.exports = [\n\t[\n\t\t{value:'й', className:'symbol'},\n\t\t{value:'ц', className:'symbol'},\n\t\t{value:'у', className:'symbol'},\n\t\t{value:'к', className:'symbol'},\n\t\t{value:'е', className:'symbol'},\n\t\t{value:'н', className:'symbol'},\n\t\t{value:'г', className:'symbol'},\n\t\t{value:'ш', className:'symbol'},\n\t\t{value:'щ', className:'symbol'},\n\t\t{value:'з', className:'symbol'},\n\t\t{value:'х', className:'symbol'},\n\t\t{value:'ї', className:'symbol'},\n\t\t{value:'&nbsp;', className:'icon keyDelete', colSpan: 2}\n\t],\n\t[\n\t\t{value:'ф', className:'symbol'},\n\t\t{value:'і', className:'symbol'},\n\t\t{value:'в', className:'symbol'},\n\t\t{value:'а', className:'symbol'},\n\t\t{value:'п', className:'symbol'},\n\t\t{value:'р', className:'symbol'},\n\t\t{value:'о', className:'symbol'},\n\t\t{value:'л', className:'symbol'},\n\t\t{value:'д', className:'symbol'},\n\t\t{value:'ж', className:'symbol'},\n\t\t{value:'є', className:'symbol'},\n\t\t{value:'/', className:'symbol'},\n\t\t{value:'Удалить', className:'symbol delete', colSpan: 2}\n\t],\n\t[\n\t\t{value:'ґ', className:'symbol'},\n\t\t{value:'я', className:'symbol'},\n\t\t{value:'ч', className:'symbol'},\n\t\t{value:'с', className:'symbol'},\n\t\t{value:'м', className:'symbol'},\n\t\t{value:'и', className:'symbol'},\n\t\t{value:'т', className:'symbol'},\n\t\t{value:'ь', className:'symbol'},\n\t\t{value:'б', className:'symbol'},\n\t\t{value:'ю', className:'symbol'},\n\t\t{value:'.', className:'symbol'},\n\t\t{value:',', className:'symbol'},\n\t\t{value:'123', className:'symbol nums'},\n\t\t{value:'&nbsp;', className:'keyGlobe'}\n\t],\n\t[\n\t\t{value:'&nbsp;', className:'icon keySpace', colSpan: 14}\n\t]\n];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/keyboards/uk.js\n// module id = 84\n// module chunks = 0","/**\n * @module stb/tools\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n\n/**\n * Parse the given location search string into object.\n *\n * @param {string} query string to parse\n *\n * @return {Object.<string, string>} result data\n *\n * @example\n * console.log(parseQuery(document.location.search.substring(1)));\n * console.log(parseQuery('param=value&another_param=another_value'));\n */\nmodule.exports = function ( query ) {\n    var data = {};\n\n    // parse and fill the data\n    query.split('&').forEach(function ( part ) {\n        part = part.split('=');\n        // valid number on params\n        if ( part.length === 2 ) {\n            data[part[0]] = decodeURIComponent(part[1]);\n        }\n    });\n\n    return data;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/tools/parse.query.js\n// module id = 85\n// module chunks = 0"],"sourceRoot":""}